





<!DOCTYPE html>
<html lang="en">

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.5.1 (ngdb v1.2.0)">
    <link rel="stylesheet" type="text/css" href="rbint-style.css">
    <title>Ralf Brown » Lists » Interrupts</title>
    <meta name="description" content="Ralf Brown">
    <link rel="prev" href="rbint-1842327.html">
    <link rel="next" href="rbint-1854575.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="../index.html">Guides</a></li>


          

<li><a href="rbint-about.html">About</a></li>


          

<li><a href="rbint-1842327.html">Previous</a></li>


          

<li><a href="rbint-1712194.html">Up</a></li>


          

<li><a href="rbint-1854575.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <div id="body">

      
        <nav class="menu box">
          <ul>
              <li>Lists</li>
              <li>
                <ul>
                  <li><a href="index.html">Comments</a></li>
                  <li><a href="rbint-7995.html">Interrupts</a></li>
                  <li><a href="rbint-15401.html">Glossary</a></li>
                  <li><a href="rbint-64347.html">Memory</a></li>
                  <li><a href="rbint-180090.html">CMOS</a></li>
                  <li><a href="rbint-250757.html">86 Bugs</a></li>
                  
                </ul>
              </li>
          </ul>
        </nav>
      

      <div id="entry" class="box">
        
  
  
    <pre class="entry"><span class="line"></span><br><span class="line"><span class="ngu">Int 1A Fn B10A  - Pci Bios V2.0c+ - Read Configuration Dword             </span>  [<span class="ngb">X</span>]</span><br><span class="line"></span><br><span class="line">   AX = B10Ah</span><br><span class="line">   BH = bus number</span><br><span class="line">   BL = device/function number (bits 7-3 device, bits 2-0 function)</span><br><span class="line">   DI = register number (0000h-00FFh, must be multiple of 4) (see #0798)</span><br><span class="line"></span><br><span class="line"><span class="ngb">Return:</span> CF clear if successful</span><br><span class="line">       ECX = dword read</span><br><span class="line">   CF set on error</span><br><span class="line">   AH = status (00h,87h) (see #0653)</span><br><span class="line">   EAX, EBX, ECX, and EDX may be modified</span><br><span class="line">   all other flags (except IF) may be modified</span><br><span class="line"></span><br><span class="line"><span class="ngb">Notes:</span> this function may require up to 1024 byte of stack; it will not enable</span><br><span class="line">     interrupts if they were disabled before making the call</span><br><span class="line">   the meanings of BL and BH on entry were exchanged between the initial</span><br><span class="line">     drafts of the specification and final implementation</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> AX=B108h,AX=B109h,AX=B10Ah/SF=8086h,AX=B18Ah,INT 2F/AX=1684h/BX=304Ch</span><br><span class="line"></span><br><span class="line">Format of PCI Configuration Data:</span><br><span class="line">Offset Size    Description (Table 0798)</span><br><span class="line"> 00h   WORD    vendor ID (read-only) (see #0656 at AX=B102h)</span><br><span class="line">       FFFFh returned if requested device non-existent</span><br><span class="line"> 02h   WORD    device ID (read-only)</span><br><span class="line"> 04h   WORD    command register (see #0799)</span><br><span class="line"> 06h   WORD    status register (see #0800)</span><br><span class="line"> 08h   BYTE    revision ID</span><br><span class="line"> 09h  3 BYTEs  class code</span><br><span class="line">       bits 7-0: programming interface</span><br><span class="line">       bits 15-8: sub-class</span><br><span class="line">       bits 23-16: class code (see also #F059)</span><br><span class="line"> 0Ch   BYTE    cache line size</span><br><span class="line"> 0Dh   BYTE    latency timer</span><br><span class="line"> 0Eh   BYTE    header type</span><br><span class="line">       bits 6-0: header format</span><br><span class="line">           00h other</span><br><span class="line">           01h PCI-to-PCI bridge</span><br><span class="line">           02h PCI-to-CardBus bridge</span><br><span class="line">       bit 7: multi-function device</span><br><span class="line"> 0Fh   BYTE    Built-In Self-Test result (see #0801)</span><br><span class="line">---header type 00h---</span><br><span class="line"> 10h   DWORD   base address 0 (see #0802)</span><br><span class="line">       (OpenHCI) base address of host controller registers (see #0827)</span><br><span class="line"> 14h   DWORD   base address 1</span><br><span class="line"> 18h   DWORD   base address 2</span><br><span class="line"> 1Ch   DWORD   base address 3</span><br><span class="line"> 20h   DWORD   base address 4</span><br><span class="line"> 24h   DWORD   base address 5</span><br><span class="line"> 28h   DWORD   CardBus CIS pointer (read-only) (see #0809)</span><br><span class="line"> 2Ch   WORD    subsystem vendor ID or 0000h</span><br><span class="line"> 2Eh   WORD    subsystem ID or 0000h</span><br><span class="line"> 30h   DWORD   expansion ROM base address (see #0803)</span><br><span class="line"> 34h   BYTE    offset of capabilities list within configuration space (R/O)</span><br><span class="line">       (only valid if status register bit 4 set) (see #0804)</span><br><span class="line"> 35h  3 BYTEs  reserved</span><br><span class="line"> 38h   DWORD   reserved</span><br><span class="line"> 3Ch   BYTE    interrupt line</span><br><span class="line">       00h = none, 01h = IRQ1 to 0Fh = IRQ15</span><br><span class="line"> 3Dh   BYTE    interrupt pin (read-only)</span><br><span class="line">       (00h = none, else indicates INTA# to INTD#)</span><br><span class="line"> 3Eh   BYTE    minimum time bus master needs PCI bus ownership, in 250ns units</span><br><span class="line">       (read-only)</span><br><span class="line"> 3Fh   BYTE    maximum latency, in 250ns units (bus masters only) (read-only)</span><br><span class="line"> 40h 48 DWORDs varies by device (see #0821,#0822,#0851,#0879)</span><br><span class="line">---header type 01h---</span><br><span class="line"> 10h   DWORD   base address 0 (see #0802)</span><br><span class="line"> 14h   DWORD   base address 1</span><br><span class="line"> 18h   BYTE    primary bus number (for bus closer to host processor)</span><br><span class="line"> 19h   BYTE    secondary bus number (for bus further from host processor)</span><br><span class="line"> 1Ah   BYTE    subordinate bus number</span><br><span class="line"> 1Bh   BYTE    secondary latency timer</span><br><span class="line"> 1Ch   BYTE    I/O base (see #0819)</span><br><span class="line"> 1Dh   BYTE    I/O limit (see #0819)</span><br><span class="line"> 1Eh   WORD    secondary status</span><br><span class="line"> 20h   WORD    memory base (see #0820)</span><br><span class="line"> 22h   WORD    memory limit</span><br><span class="line"> 24h   WORD    prefetchable memory base</span><br><span class="line"> 26h   WORD    prefetchable memory limit</span><br><span class="line"> 28h   DWORD   prefetchable base, upper 32 bits</span><br><span class="line"> 2Ch   DWORD   prefetchable limit, upper 32 bits</span><br><span class="line"> 30h   WORD    I/O base, upper 16 bits</span><br><span class="line"> 32h   WORD    I/O limit, upper 16 bits</span><br><span class="line"> 34h   DWORD   reserved</span><br><span class="line"> 38h   DWORD   expansion ROM base address</span><br><span class="line"> 3Ch   BYTE    interrupt line</span><br><span class="line"> 3Dh   BYTE    interrupt pin (read-only)</span><br><span class="line"> 3Eh   WORD    bridge control</span><br><span class="line"> 40h 48 DWORDs varies by device (see #0821,#0822,#0851,#0879)</span><br><span class="line">---header type 02h---</span><br><span class="line"> 10h   DWORD   CardBus Socket/ExCa base address (see #0810)</span><br><span class="line">       bits 31-12: start address of socket interface register block</span><br><span class="line">             in 4K blocks</span><br><span class="line">       bits 11-0: reserved (0)</span><br><span class="line"> 14h   BYTE    offset of capabilities list within configuration space (R/O)</span><br><span class="line">       (only valid if status register bit 4 set) (see #0804)</span><br><span class="line"> 15h   BYTE    reserved</span><br><span class="line"> 16h   WORD    secondary status</span><br><span class="line"> 18h   BYTE    PCI bus number</span><br><span class="line"> 19h   BYTE    CardBus bus number</span><br><span class="line"> 1Ah   BYTE    subordinate bus number</span><br><span class="line"> 1Bh   BYTE    CardBus latency timer</span><br><span class="line"> 1Ch   DWORD   memory base address 0</span><br><span class="line"> 20h   DWORD   memory limit 0</span><br><span class="line"> 24h   DWORD   memory base address 1</span><br><span class="line"> 28h   DWORD   memory limit 1</span><br><span class="line"> 2Ch   WORD    I/O base address 0</span><br><span class="line"> 2Eh   WORD    I/O base address 0 high word (optional)</span><br><span class="line"> 30h   WORD    I/O limit 0</span><br><span class="line"> 32h   WORD    I/O limit 0 high word (optional)</span><br><span class="line"> 34h   WORD    I/O base address 1</span><br><span class="line"> 36h   WORD    I/O base address 1 high word (optional)</span><br><span class="line"> 38h   WORD    I/O limit 1</span><br><span class="line"> 3Ah   WORD    I/O limit 1 high word (optional)</span><br><span class="line"> 3Ch   BYTE    interrupt line</span><br><span class="line"> 3Dh   BYTE    interrupt pin (read-only) (no interrupt used if 00h)</span><br><span class="line"> 3Eh   WORD    bridge control</span><br><span class="line"> 40h   WORD    subsystem vendor ID</span><br><span class="line"> 42h   WORD    subsystem device ID</span><br><span class="line"> 44h   DWORD   16-bit PC Card legacy mode base address (for accessing ExCa</span><br><span class="line">         registers)</span><br><span class="line"> 48h 14 DWORDs reserved</span><br><span class="line"> 80h 32 DWORDs varies by device (see #0821,#0822,#0851,#0879)</span><br><span class="line"></span><br><span class="line">Bitfields for PCI Configuration Command Register:</span><br><span class="line">Bit(s) Description (Table 0799)</span><br><span class="line"> 0 I/O access enabled</span><br><span class="line"> 1 memory access enabled</span><br><span class="line"> 2 bus master enable</span><br><span class="line"> 3 special cycle recognition enabled</span><br><span class="line"> 4 memory write and invalidate enabled</span><br><span class="line"> 5 VGA palette snoop enabled</span><br><span class="line"> 6 parity error response enabled</span><br><span class="line"> 7 wait cycles enabled</span><br><span class="line"> 8 system error (SERR# line) enabled</span><br><span class="line"> 9 fast back-to-back transactions enabled</span><br><span class="line"> 15-10 reserved</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #0798,#0800</span><br><span class="line"></span><br><span class="line">Format of PCI Configuration Status Register:</span><br><span class="line">Bit(s) Description (Table 0800)</span><br><span class="line"> 3-0   reserved (0)</span><br><span class="line"> 4 new capabilities list is present (first entry pointed at by byte at</span><br><span class="line">     34h or 14h)</span><br><span class="line"> 5 capable of running at 66 MHz</span><br><span class="line"> 6 UDF supported</span><br><span class="line"> 7 capable of fast back-to-back transactions</span><br><span class="line"> 8 data parity error reported</span><br><span class="line"> 10-9  device select timing</span><br><span class="line">   00 fast</span><br><span class="line">   01 medium</span><br><span class="line">   10 slow</span><br><span class="line">   11 reserved</span><br><span class="line"> 11    signaled target abort</span><br><span class="line"> 12    received target abort</span><br><span class="line"> 13    received master abort</span><br><span class="line"> 14    signaled system error (device is asserting SERR# line)</span><br><span class="line"> 15    detected parity error (set even if parity error reporting is disabled)</span><br><span class="line"></span><br><span class="line"><span class="ngb">Note:</span>  bits 12, 13 and 15 are cleared by writing a 1 into the corresponding</span><br><span class="line">     bit</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #0798,#0799</span><br><span class="line"></span><br><span class="line">Bitfields for PCI Configuration Built-In Self-Test register:</span><br><span class="line">Bit(s) Description (Table 0801)</span><br><span class="line"> 3-0   completion code (0000 = successful)</span><br><span class="line"> 5-4   reserved</span><br><span class="line"> 6 start BIST (set to one to start, cleared automatically on completion)</span><br><span class="line"> 7 BIST-capable</span><br><span class="line"></span><br><span class="line"><span class="ngb">Notes:</span> this register is hardwired to 00h if no BIST capability</span><br><span class="line">   software should timeout the BIST after two seconds</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #0798</span><br><span class="line"></span><br><span class="line">Bitfields for PCI Configuration Base Address:</span><br><span class="line">Bit(s) Description (Table 0802)</span><br><span class="line"> 0 address type (0 = memory space, 1 = I/O space)</span><br><span class="line">---memory address---</span><br><span class="line"> 2-1   address type</span><br><span class="line">   00 anywhere in first 4GB</span><br><span class="line">   01 below 1MB</span><br><span class="line">   10 anywhere in 64-bit address space</span><br><span class="line">   11 reserved</span><br><span class="line"> 3 prefetchable</span><br><span class="line"> 31-4  bits 31-4 of base memory address if addressable in first 1MB or 4GB</span><br><span class="line"> 63-4  bits 63-4 of base memory address if addressable in 64-bit memory</span><br><span class="line">   (bits 63-32 are stored in the following base address DWORD)</span><br><span class="line">---I/O address---</span><br><span class="line"> 1 reserved</span><br><span class="line"> 31-2  bits 31-2 of base I/O port</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #0798,#0827</span><br><span class="line"></span><br><span class="line">Bitfields for PCI Configuration Expansion ROM Address:</span><br><span class="line">Bit(s) Description (Table 0803)</span><br><span class="line"> 0 address decode enable (ROM address is valid)</span><br><span class="line"> 10-1  reserved</span><br><span class="line"> 31-11 bits 31-11 of ROM&#39;s starting physical address</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #0798</span><br><span class="line"></span><br><span class="line">Format of PCI Capabilities List:</span><br><span class="line">Offset Size    Description (Table 0804)</span><br><span class="line"> 00h   BYTE    capability identifier</span><br><span class="line">       01h PCI Power Managment</span><br><span class="line"> 01h   BYTE    offset of next item (within configuration space) or 00h</span><br><span class="line">      N    BYTEs   varies by capability type</span><br><span class="line">---PCI Power Management---</span><br><span class="line"> 02h   WORD    power managment capabilities (see #0805) (read-only)</span><br><span class="line"> 04h   WORD    power managment capabilities status register (see #0806)</span><br><span class="line"> 06h   BYTE    PMCSR bridge support extensions (see #0807)</span><br><span class="line"> 07h   BYTE    (optional) read-only data register (see #0808)</span><br><span class="line"></span><br><span class="line"><span class="ngb">Note:</span>  this information is from the v0.93 draft of the specification and is</span><br><span class="line">     subject to change</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #0798,#0800</span><br><span class="line"></span><br><span class="line">Bitfields for PCI Power Management Capabilities:</span><br><span class="line">Bit(s) Description (Table 0805)</span><br><span class="line"> 15    reserved (0)</span><br><span class="line"> 14-12 PME# support</span><br><span class="line">   bit 12: PME# can be asserted from power state D0</span><br><span class="line">   bit 13: PME# can be asserted from power state D1</span><br><span class="line">   bit 14: PME# can be asserted from power state D2</span><br><span class="line"> 11    reserved (0)</span><br><span class="line"> 10    D2 power state supported</span><br><span class="line"> 9 D1 power state supported</span><br><span class="line"> 8 full-speed clock is required in state D0 for proper operation</span><br><span class="line">   (if clear, device may be run at reduced clock except when actually</span><br><span class="line">     being accessed)</span><br><span class="line"> 7-6   dynamic clock control support</span><br><span class="line">   00 not bridge, no dynamic clock control, or secondary bus&#39; clock is</span><br><span class="line">         is tied to primary bus&#39; clock</span><br><span class="line">   01 bridge is capable of dynamic clock control</span><br><span class="line">   10 reserved</span><br><span class="line">   11 secondary bus has independent clock, but dynamic clock not supported</span><br><span class="line"> 5 device-specific initialization is required</span><br><span class="line"> 4-3   reserved (0)</span><br><span class="line"> 2-0   specification version</span><br><span class="line">   001 = v1.0; four bytes of power management registers</span><br><span class="line"></span><br><span class="line"><span class="ngb">Note:</span>  this information is from the v0.93 draft of the specification and is</span><br><span class="line">     subject to change</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #0804,#0806,#0807</span><br><span class="line"></span><br><span class="line">Bitfields for PCI Power Management Capabilities Status Register:</span><br><span class="line">Bit(s) Description (Table 0806)</span><br><span class="line"> 15    PME status: if set, PME# is (or would be) asserted</span><br><span class="line">   writing a 1 to this bit clears it</span><br><span class="line"> 14-13 (read-only) scale factor to apply to contents of Data register</span><br><span class="line">   00 unknown (or unimplemented data)</span><br><span class="line">   01 x0.1</span><br><span class="line">   10 x0.01</span><br><span class="line">   11 x0.001</span><br><span class="line"> 12-9  (read-write) data select (see #0808)</span><br><span class="line"> 8 (read-write) enable PME# assertion</span><br><span class="line"> 7-5   reserved (0)</span><br><span class="line"> 4 (read-write) enable dynamic data reporting</span><br><span class="line">   when set, PME# is asserted whenever the value in the Data register</span><br><span class="line">     changes significantly</span><br><span class="line"> 3-2   reserved (0)</span><br><span class="line"> 1-0   (read-write) current power state</span><br><span class="line">   00 = D0</span><br><span class="line">   ...</span><br><span class="line">   11 = D3</span><br><span class="line"></span><br><span class="line"><span class="ngb">Note:</span>  this information is from the v0.93 draft of the specification and is</span><br><span class="line">     subject to change</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #0804,#0805,#0807</span><br><span class="line"></span><br><span class="line">Bitfields for PCI Power Management PMCSR bridge support extension:</span><br><span class="line">Bit(s) Description (Table 0807)</span><br><span class="line"> 7 (read-only) Bus Power Control Enable</span><br><span class="line"> 6 (read-only) Bus Power State B3 supported</span><br><span class="line"> 5 (read-only) Bus Power State B2 supported</span><br><span class="line"> 4 dynamic clock control enable</span><br><span class="line"> 3-0   reserved (0)</span><br><span class="line"></span><br><span class="line"><span class="ngb">Note:</span>  this information is from the v0.93 draft of the specification and is</span><br><span class="line">     subject to change</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #0804,#0805,#0806</span><br><span class="line"></span><br><span class="line">(Table 0808)</span><br><span class="line">Values for PCI Power Management Data Select:</span><br><span class="line"> 00h   D0-state power consumed in watts (+20%/-10%)</span><br><span class="line"> 01h   D1-state power consumed in watts (+20%/-10%)</span><br><span class="line"> 02h   D2-state power consumed in watts (+20%/-10%)</span><br><span class="line"> 03h   D3-state power consumed in watts (+20%/-10%)</span><br><span class="line"> 04h   D0-state power dissipated into chassis in watts</span><br><span class="line"> 05h   D1-state power dissipated into chassis in watts</span><br><span class="line"> 06h   D2-state power dissipated into chassis in watts</span><br><span class="line"> 07h   D3-state power dissipated into chassis in watts</span><br><span class="line"> 08h-0Fh reserved</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #0806</span><br><span class="line"></span><br><span class="line">Bitfields for PCI Configuration CardBus CIS Pointer:</span><br><span class="line">Bit(s) Description (Table 0809)</span><br><span class="line"> 2-0   address space</span><br><span class="line">   000 in device&#39;s device-specific configuration space</span><br><span class="line">   001 in memory pointed to by base address register 0</span><br><span class="line">   ...</span><br><span class="line">   110 in memory pointed to by base address register 5</span><br><span class="line">   111 in device&#39;s expansion ROM</span><br><span class="line"> 27-3  offset within address space defined by bits 2-0</span><br><span class="line"> 31-28 ROM image number</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #0798</span><br><span class="line"></span><br><span class="line">Format of CardBus Socket/ExCA socket interface register space:</span><br><span class="line">Offset Size    Description (Table 0810)</span><br><span class="line"> 00h   DWORD   Socket Event Register (see #0812)</span><br><span class="line"> 04h   DWORD   Socket Mask Register (see #0813)</span><br><span class="line"> 08h   DWORD   Socket Present State Register (see #0814)</span><br><span class="line"> 0Ch   DWORD   Socket Force Event Register (see #0815)</span><br><span class="line"> 10h   DWORD   Socket Control Register (see #0816)</span><br><span class="line"> 14h  3 DWORDs reserved</span><br><span class="line"> 20h   DWORD   Socket Power Management Register</span><br><span class="line"> 90h   BYTE    (TI PCI1130) Retry Status Register</span><br><span class="line"> 91h   BYTE    (TI PCI1130) Card Control Register (see #0817)</span><br><span class="line"></span><br><span class="line"><span class="ngb">.NG limit reached, continued in next section...</span></span><br></pre>
  
  
  


      </div>

    </div>

    
      <footer>
        <nav class="box">
          <dl>
            <dt>Generated</dt><dd>2025-12-13 13:34:52</dd>
            <dt>Generator</dt><dd><a href="https://ng2web.davep.dev">ng2web v1.5.1 (ngdb v1.2.0)</a></dd>
          </dl>
        </nav>
      </footer>
    

  </body>

</html>

