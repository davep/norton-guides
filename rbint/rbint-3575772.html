





<!DOCTYPE html>
<html lang="en">

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.5.1 (ngdb v1.2.0)">
    <link rel="stylesheet" type="text/css" href="rbint-style.css">
    <title>Ralf Brown » Lists » Interrupts</title>
    <meta name="description" content="Ralf Brown">
    <link rel="prev" href="rbint-3574482.html">
    <link rel="next" href="rbint-3579308.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="../index.html">Guides</a></li>


          

<li><a href="rbint-about.html">About</a></li>


          

<li><a href="rbint-3574482.html">Previous</a></li>


          

<li><a href="rbint-3558542.html">Up</a></li>


          

<li><a href="rbint-3579308.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <div id="body">

      
        <nav class="menu box">
          <ul>
              <li>Lists</li>
              <li>
                <ul>
                  <li><a href="index.html">Comments</a></li>
                  <li><a href="rbint-7995.html">Interrupts</a></li>
                  <li><a href="rbint-15401.html">Glossary</a></li>
                  <li><a href="rbint-64347.html">Memory</a></li>
                  <li><a href="rbint-180090.html">CMOS</a></li>
                  <li><a href="rbint-250757.html">86 Bugs</a></li>
                  
                </ul>
              </li>
          </ul>
        </nav>
      

      <div id="entry" class="box">
        
  
  
    <pre class="entry"><span class="line"></span><br><span class="line"><span class="ngu">Int 2F  - Cirisoft Spanish University Of Valladolid Tsr&#39;s Interface      </span>  [<span class="ngb">t</span>]</span><br><span class="line"></span><br><span class="line">   AH = xx (dynamically assigned based upon a search for a multiplex</span><br><span class="line">        number from C0h to FFh which doesn&#39;t answer installed)</span><br><span class="line">   AL = 00h installation check</span><br><span class="line">   ES:DI = 1492h:1992h</span><br><span class="line"></span><br><span class="line"><span class="ngb">Return:</span> AL = 00h not installed</span><br><span class="line">        01h not installed, not OK to install</span><br><span class="line">        FFh installed; and if ES:DI was 1492h:1992h on entry, ES:DI will</span><br><span class="line">          point to author_name_ver table (see #2275)</span><br><span class="line">   AH = FFh</span><br><span class="line"></span><br><span class="line"><span class="ngb">Note:</span>  this interface permits advanced communication with TSRs: it is possible</span><br><span class="line">     to make a generic uninstall utility, advanced TSR relocator programs</span><br><span class="line">     in order to fit fragmented memory areas, etc.</span><br><span class="line">See also: INT 2D&#34;AMIS&#34;,INT 2F&#34;Compuscience&#34;</span><br><span class="line">Index: installation check;CiriSOFT TSR interface</span><br><span class="line">Index: uninstall;CiriSOFT TSR interface</span><br><span class="line"></span><br><span class="line">Format of CiriSOFT author_name_ver table:</span><br><span class="line">Offset Size    Description (Table 2275)</span><br><span class="line"> -16   WORD    segment of the start of the resident TSR code (CS in programs</span><br><span class="line">         with PSP, XMS upper memory segment if installed as UMB...)</span><br><span class="line"> -14   WORD    offset of the start of the resident TSR code (frequently 100h</span><br><span class="line">         in *.COM programs and 0 in upper memory TSR&#39;s).</span><br><span class="line"> -12   WORD    memory used by TSR (in paragraphs). Knowing the memory area</span><br><span class="line">         used by TSR is possible to determine if hooked vectors are</span><br><span class="line">         still pointing it (and if it is safe to uninstall).</span><br><span class="line"> -10   BYTE    characteristics byte (see #2276)</span><br><span class="line"> -9    BYTE    number of multiplex entry used (redefinition available). Note</span><br><span class="line">         that the TSR must use THIS variable in it&#39;s INT 2Fh handler.</span><br><span class="line"> -8    WORD    offset to vector_area table (see #2277)</span><br><span class="line"> -6    WORD    offset to extra_area table (see #2278,#2276 [bit 7])</span><br><span class="line"> -4   4 BYTEs  signature string &#34;*##*&#34;</span><br><span class="line"> 00h   var &#34;AUTHOR:PROGRAM_NAME:VERSION&#34;,0  (variable length, this area</span><br><span class="line">         is used in order to determine if the TSR is already resident</span><br><span class="line">         and it&#39;s version code; the &#39;:&#39; char is used as delimiter)</span><br><span class="line"></span><br><span class="line">Bitfields for CiriSOFT characteristics byte:</span><br><span class="line">Bit(s) Description (Table 2276)</span><br><span class="line"> 0-2   type</span><br><span class="line">   000 normal program (with PSP)</span><br><span class="line">   001 upper XMS memory block (needed HIMEM.SYS function to free memory</span><br><span class="line">         when uninstalling)</span><br><span class="line">   010 device driver (*.SYS)</span><br><span class="line">   011 device driver in EXE format</span><br><span class="line">   1xx others (reserved)</span><br><span class="line"> 3-6   reserved</span><br><span class="line"> 7 set if extra_table defined and supported (see #2278)</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #2275</span><br><span class="line"></span><br><span class="line">Format of CiriSOFT vector_area table:</span><br><span class="line">Offset Size    Description (Table 2277)</span><br><span class="line"> -1    BYTE    number of vectors intercepted by TSR</span><br><span class="line"> 00h   BYTE    first vector number</span><br><span class="line"> 01h   DWORD   first vector pointer before installing the TSR</span><br><span class="line"> 05h   BYTE    second vector number</span><br><span class="line"> 06h   DWORD   second vector pointer before installing the TSR</span><br><span class="line"> 0Ah   ... (and so on)</span><br><span class="line"></span><br><span class="line"><span class="ngb">Note:</span>  the TSR must use these variables to invoke the previous interrupt</span><br><span class="line">     handler routines</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #2275</span><br><span class="line"></span><br><span class="line">Format of extra_area table (needed only to improve relocation feature):</span><br><span class="line">Offset Size    Description (Table 2278)</span><br><span class="line"> 00h   WORD    offset to external_ctrl table (see #2279)</span><br><span class="line">       0000h if not supported</span><br><span class="line"> 02h   WORD    reserved for future use (0)</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #2275</span><br><span class="line"></span><br><span class="line">Format of CiriSOFT external_ctrl table:</span><br><span class="line">Offset Size    Description (Table 2279)</span><br><span class="line"> 00h   BYTE    bit 0: TSR is relocatable (no absolute segment references)</span><br><span class="line"> 01h   WORD    offset to a variable which can activate/inhibit the TSR</span><br><span class="line"> ---And if bit 0 in offset 00h is off:</span><br><span class="line"> 03h   DWORD   pointer to ASCIZ pathname for executable file which supports</span><br><span class="line">         /SR parameter (silent installation &amp; inhibit)</span><br><span class="line"> 07h   DWORD   pointer to first variable to initialize on the copy reloaded</span><br><span class="line">         from the previous TSR still resident</span><br><span class="line"> 0Bh   DWORD   pointer to last variable (all variables packed in one block)</span><br></pre>
  
  
  


      </div>

    </div>

    
      <footer>
        <nav class="box">
          <dl>
            <dt>Generated</dt><dd>2025-12-13 13:34:52</dd>
            <dt>Generator</dt><dd><a href="https://ng2web.davep.dev">ng2web v1.5.1 (ngdb v1.2.0)</a></dd>
          </dl>
        </nav>
      </footer>
    

  </body>

</html>

