





<!DOCTYPE html>
<html lang="en">

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.5.1 (ngdb v1.2.0)">
    <link rel="stylesheet" type="text/css" href="rbint-style.css">
    <title>Ralf Brown » Lists » Interrupts</title>
    <meta name="description" content="Ralf Brown">
    <link rel="prev" href="rbint-1642854.html">
    <link rel="next" href="rbint-1650937.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="../index.html">Guides</a></li>


          

<li><a href="rbint-about.html">About</a></li>


          

<li><a href="rbint-1642854.html">Previous</a></li>


          

<li><a href="rbint-1631221.html">Up</a></li>


          

<li><a href="rbint-1650937.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <div id="body">

      
        <nav class="menu box">
          <ul>
              <li>Lists</li>
              <li>
                <ul>
                  <li><a href="index.html">Comments</a></li>
                  <li><a href="rbint-7995.html">Interrupts</a></li>
                  <li><a href="rbint-15401.html">Glossary</a></li>
                  <li><a href="rbint-64347.html">Memory</a></li>
                  <li><a href="rbint-180090.html">CMOS</a></li>
                  <li><a href="rbint-250757.html">86 Bugs</a></li>
                  
                </ul>
              </li>
          </ul>
        </nav>
      

      <div id="entry" class="box">
        
  
  
    <pre class="entry"><span class="line"></span><br><span class="line"><span class="ngu">Int 17 Fn 0200  - Enhanced Parallel Port (epp) Bios - Installation Check </span>  [<span class="ngb">b</span>]</span><br><span class="line"></span><br><span class="line">   AX = 0200h</span><br><span class="line">   BX = 5050h (&#39;PP&#39;)</span><br><span class="line">   CH = 45h   (&#39;E&#39;)</span><br><span class="line">   DX = printer port number (00h-02h)</span><br><span class="line"></span><br><span class="line"><span class="ngb">Return:</span> AH = status</span><br><span class="line">       00h if installed and port is an enhanced parallel port</span><br><span class="line">       CX:AL = installed BIOS type</span><br><span class="line">           5050h:45h (&#39;PPE&#39;) if EPP v3.0+ BIOS installed</span><br><span class="line">           4550h:50h (&#39;EPP&#39;) if EPP v1.0 BIOS installed</span><br><span class="line">       ---EPP 1.0, 3.0---</span><br><span class="line">       DX:BX -&gt; far entry point to Advanced BIOS (see #0556)</span><br><span class="line">       ---EPP Revision 7---</span><br><span class="line">       DX = EPP I/O base address</span><br><span class="line">       ES:BX -&gt; far entry point to EPP BIOS (see #0556,#0557)</span><br><span class="line">       03h if installed but specified port not supported</span><br><span class="line">       CF set</span><br><span class="line">Program: The Enhanced Parallel Port BIOS provides support for parallel</span><br><span class="line">     port peripherals using the enhanced modes of the IEEE 1284.</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> AH=E0h,MEM 0040h:0008h,MEM 0040h:00DCh</span><br><span class="line"></span><br><span class="line">(Table 0556)</span><br><span class="line">Call EPP BIOS entry point with:</span><br><span class="line">   DL = port number (v1.0,v3.0)</span><br><span class="line">   DX = (Revision 7) EPP port I/O base address</span><br><span class="line">   AH = function</span><br><span class="line">       00h Query Configuration</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Return:</span> AH = 00h if successful</span><br><span class="line">               AL = IRQ number used by port or FFh if no IRQ</span><br><span class="line">               BH = EPP BIOS revision (major in high nybble,</span><br><span class="line">                 minor in low nybble)</span><br><span class="line">               BL = I/O capabilities (see #0559)</span><br><span class="line">               ES:DI -&gt; ASCIZ driver information/version text</span><br><span class="line">               ---v1.0,v3.0---</span><br><span class="line">               CX = I/O port base address for parallel port</span><br><span class="line">               ---Revision 7---</span><br><span class="line">               CL = EPP chipset code (see #0560)</span><br><span class="line">               CH = hardware manufacturer&#39;s product code</span><br><span class="line">       01h Set Mode</span><br><span class="line">       AL = mode bits (see #0561)</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Return:</span> AX,BX destroyed</span><br><span class="line">       02h Get Mode</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Return:</span> AL = mode bits (see also #0561)</span><br><span class="line">               bit 7: EPP port interrupts enabled</span><br><span class="line">           AH = 00h</span><br><span class="line">           CF clear</span><br><span class="line">           BX destroyed</span><br><span class="line">       03h Interrupt Control</span><br><span class="line">       AL = subfunction</span><br><span class="line">           00h enable parallel port interrupts</span><br><span class="line">           01h disable parallel port interrupts</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Return:</span> AH = status (00h,05h,06h) (see also #0558)</span><br><span class="line">       04h EPP Reset</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Return:</span> AH = 00h if successful</span><br><span class="line">           AL destroyed</span><br><span class="line">       05h perform Address-Write/Device-Select I/O cycle</span><br><span class="line">       AL = device address</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Return:</span> AH = status</span><br><span class="line">           AL destroyed</span><br><span class="line">       06h perform Address-Read I/O cycle</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Return:</span> AL = returned address/device data</span><br><span class="line">           AH = status</span><br><span class="line">       07h write byte</span><br><span class="line">       AL = data byte to write</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Return:</span> AH = status</span><br><span class="line">       08h output block of data</span><br><span class="line">       DS:SI -&gt; block of data to be sent to parallel port</span><br><span class="line">       CX = number of bytes to output</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Return:</span> AH = status (see #0558)</span><br><span class="line">           CX = number of unsent bytes</span><br><span class="line">       09h read byte of data</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Return:</span> AH = status (see #0558)</span><br><span class="line">           AL = byte read from parallel port</span><br><span class="line">       0Ah read block of data</span><br><span class="line">       ES:DI -&gt; buffer for received data</span><br><span class="line">       CX = number of bytes to read from paralle port</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Return:</span> AH = status (see #0558)</span><br><span class="line">           ES:DI buffer filled if successful</span><br><span class="line">           CX = number of bytes not transferred</span><br><span class="line">       0Bh Address/Byte-Read</span><br><span class="line">       AL = device address</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Return:</span> AH = status (see #0558)</span><br><span class="line">           AL = byte read if successful</span><br><span class="line">       0Ch Address/Byte-Write</span><br><span class="line">       AL = device address</span><br><span class="line">       DH = data byte (v1.0,v3.0)</span><br><span class="line">       CL = data byte (Revision 7)</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Return:</span> AH = status (see #0558)</span><br><span class="line">       0Dh Address/Block-Read</span><br><span class="line">       AL = device address</span><br><span class="line">       ES:DI -&gt; buffer for received data</span><br><span class="line">       CX = number of bytes to read</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Return:</span> AH = status (see #0558)</span><br><span class="line">           CX = number of bytes NOT transferred</span><br><span class="line">       0Eh Address/Block-Write</span><br><span class="line">       AL = device address</span><br><span class="line">       ES:DI -&gt; data to be sent (v1.0,v3.0)</span><br><span class="line">       DS:SI -&gt; data to be send (Revision 7)</span><br><span class="line">       CX = number of bytes to write</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Return:</span> AH = status (see #0558)</span><br><span class="line">           CX = number of bytes NOT transferred</span><br><span class="line">       0Fh Lock Port</span><br><span class="line">       AL = multiplexor port number</span><br><span class="line">           bits 7-4: daisy chain port number (1-8)</span><br><span class="line">           bits 3-0: mux device port number (1-8, 0 if no mux)</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Return:</span> AH = status (00h,03h,05h) (see #0558)</span><br><span class="line">       10h Unlock Port</span><br><span class="line">       AL = multiplexor port number</span><br><span class="line">           bits 7-4: daisy chain port number (1-8)</span><br><span class="line">           bits 3-0: mux device port number (1-8, 0 if no mux)</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Return:</span> AH = status (00h,03h,05h) (see #0558)</span><br><span class="line">       11h Device Interrupt</span><br><span class="line">       BL = multiplexor port number</span><br><span class="line">           00h if no multiplexor, else mux device port (01h-08h)</span><br><span class="line">       AL = subfunction</span><br><span class="line">           00h disable device interrupts</span><br><span class="line">           01h enable device interrupt</span><br><span class="line">           ES:DI -&gt; interrupt event handler</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Return:</span> AH = status (00h,03h,05h,06h) (see #0558)</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Note:</span>   AMI BIOS v1.00.12.AX1T ignores the multiplexor port</span><br><span class="line">             number; it also always sets INT 0F to the address</span><br><span class="line">             specified in ES:DI</span><br><span class="line">       12h Real-Time Mode</span><br><span class="line">       AL = subfunction</span><br><span class="line">           00h check whether any real-time devices present</span><br><span class="line">           01h add (advertise) real-time device</span><br><span class="line">           02h remove real-time device</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Return:</span> AH = status (00h,05h,06h,07h) (see #0558)</span><br><span class="line">           AL = real-time devices present? (00h no, 01h yes)</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Note:</span>   unlike all other functions, this one does not use DL/DX</span><br><span class="line"></span><br><span class="line"><span class="ngb">Return:</span> AH = status (see #0558)</span><br><span class="line">   CF clear if successful</span><br><span class="line">   CF set on error</span><br><span class="line">   BX destroyed</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #0557</span><br><span class="line"></span><br><span class="line">(Table 0557)</span><br><span class="line">Call EPP BIOS (Revision 7) entry point multiplexor functions with:</span><br><span class="line">   DX = EPP port base I/O address</span><br><span class="line">   AH = function</span><br><span class="line">       40h Query Mux</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Return:</span> AH = status (see #0558)</span><br><span class="line">           AL = currently-selected port</span><br><span class="line">           CH = status flags</span><br><span class="line">               bit 0: channel locked</span><br><span class="line">               bit 1: interrupt pending</span><br><span class="line">           BH destroyed</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Note:</span>   the PhoenixBIOS v4.0 documentation lists BL as the</span><br><span class="line">             currently-selected port and AL as the status flags</span><br><span class="line">       41h Query Device Port</span><br><span class="line">       AL = EPP multiplex device port (1-8)</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Return:</span> AH = status (see #0558)</span><br><span class="line">           CH = status flags (see #0562)</span><br><span class="line">           BX = EPP product/device ID (0000h if undefined)</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Note:</span>   the PhoenixBIOS v4.0 documentation lists AL as the</span><br><span class="line">             status flags and CX as the device ID</span><br><span class="line">       42h Set Product ID</span><br><span class="line">       AL = EPP multiplex device port (1-8)</span><br><span class="line">       CX = EPP product ID</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Return:</span> AH = status (see #0558)</span><br><span class="line">           BX destroyed</span><br><span class="line">       50h Query Daisy Chain</span><br><span class="line">       AL = EPP multiplexor device port (1-8)</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Return:</span> AH = status (see #0558)</span><br><span class="line">           CH = status flags</span><br><span class="line">               bit 0: channel locked</span><br><span class="line">               bit 1: interrupt pending</span><br><span class="line">           BL = currently-selected device</span><br><span class="line">           BH = EPP daisy chain revision (high nybble = major)</span><br><span class="line">           CL = daisy-chain depth (00h if no daisy chain)</span><br><span class="line">           ES:DI -&gt; ASCIZ driver vendor identification string</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Note:</span>   the PhoenixBIOS v4.0 documentation lists AH=51h as</span><br><span class="line">             &#34;Query Daisy Chain&#34; and BL as the multiplexor port;</span><br><span class="line">             it also lists AL as status flags on return</span><br><span class="line">       51h Rescan Daisy Chain (dynamically reassign port numbers)</span><br><span class="line">       AL = EPP multiplexor device port (1-8)</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Return:</span> AH = status (see #0558)</span><br><span class="line">           BX destroyed</span><br><span class="line"></span><br><span class="line">       <span class="ngb">Note:</span>   the PhoenixBIOS v4.0 documentation lists AH=50h as</span><br><span class="line">             &#34;Rescan Daisy Chain&#34; and BL as the multiplexor port</span><br><span class="line"></span><br><span class="line"><span class="ngb">Notes:</span> these functions are only valid if a port multiplexor or daisy chain</span><br><span class="line">     is present</span><br><span class="line">   PhoenixBIOS 4.0 documents function 50h as &#34;Rescan&#34; and 51h as</span><br><span class="line">     &#34;Query Daisy Chain&#34;</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #0556,INT 2D/AL=DCh</span><br><span class="line"></span><br><span class="line">(Table 0558)</span><br><span class="line">Values for EPP BIOS function status:</span><br><span class="line"> 00h   successful</span><br><span class="line"> 02h   unsupported command/feature</span><br><span class="line"> 03h   unsupported parallel port</span><br><span class="line"> 05h   unsupported in current mode</span><br><span class="line"> 06h   invalid subfunction</span><br><span class="line"> 07h   already ???</span><br><span class="line"> 20h   multiplexor not present (AMI)</span><br><span class="line"> 40h   multiplexor not present</span><br><span class="line"> 41h   multiplexor currently locked</span><br><span class="line"> 80h   I/O timeout</span><br><span class="line"> FFh   invalid/unsupported function</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #0556,#0557</span><br><span class="line"></span><br><span class="line">Bitfields for EPP (v3.0, Revision 7) I/O capabilities:</span><br><span class="line">Bit(s) Description (Table 0559)</span><br><span class="line"> 0 multiplexor present</span><br><span class="line"> 1 PS/2 bi-directional capable</span><br><span class="line"> 2 daisy chain present</span><br><span class="line"> 3 ECP capable</span><br><span class="line"> 4 EPP software emulation supported</span><br><span class="line"> 5 EPP capable</span><br><span class="line"> 6 fast Centronics supported</span><br><span class="line"> 7 standard EPP I/O map</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #0556</span><br><span class="line"></span><br><span class="line">(Table 0560)</span><br><span class="line">Values for EPP (Revision 7) chipset code:</span><br><span class="line"> 00h   Intel SL</span><br><span class="line"> 01h   FarPoint Communications</span><br><span class="line"> 02h   SMC</span><br><span class="line"> 03h   Chips&amp;Technologies</span><br><span class="line"> 04h   Western Digital</span><br><span class="line"> 05h   National Semiconductor</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #0556</span><br><span class="line"></span><br><span class="line">Bitfields for EPP BIOS mode bits:</span><br><span class="line">Bit(s) Description (Table 0561)</span><br><span class="line"> 0 set compatibility mode</span><br><span class="line"> 1 set bi-directional mode</span><br><span class="line"> 2 set EPP mode</span><br><span class="line">---Revision 7,v3.0---</span><br><span class="line"> 3 set ECP mode</span><br><span class="line"> 4 set EPP software emulation</span><br><span class="line"> 5 set fast Centronics mode</span><br><span class="line"> 6-7 reserved (0)</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #0556,#M053</span><br><span class="line"></span><br><span class="line">Bitfields for EPP BIOS multiplex status flags:</span><br><span class="line">Bit(s) Description (Table 0562)</span><br><span class="line"> 0 port is selected</span><br><span class="line"> 1 port is locked</span><br><span class="line"> 2 interrupts are enabled</span><br><span class="line"> 3 interrupt pending</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #0557</span><br></pre>
  
  
  


      </div>

    </div>

    
      <footer>
        <nav class="box">
          <dl>
            <dt>Generated</dt><dd>2025-12-13 13:34:52</dd>
            <dt>Generator</dt><dd><a href="https://ng2web.davep.dev">ng2web v1.5.1 (ngdb v1.2.0)</a></dd>
          </dl>
        </nav>
      </footer>
    

  </body>

</html>

