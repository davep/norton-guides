





<!DOCTYPE html>
<html lang="en">

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.5.1 (ngdb v1.2.0)">
    <link rel="stylesheet" type="text/css" href="rbint-style.css">
    <title>Ralf Brown » Lists » 86 Bugs</title>
    <meta name="description" content="Ralf Brown">
    <link rel="prev" href="rbint-312535.html">
    <link rel="next" href="rbint-315997.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="../index.html">Guides</a></li>


          

<li><a href="rbint-about.html">About</a></li>


          

<li><a href="rbint-312535.html">Previous</a></li>


          

<li><a href="rbint-250757.html">Up</a></li>


          

<li><a href="rbint-315997.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <div id="body">

      
        <nav class="menu box">
          <ul>
              <li>Lists</li>
              <li>
                <ul>
                  <li><a href="index.html">Comments</a></li>
                  <li><a href="rbint-7995.html">Interrupts</a></li>
                  <li><a href="rbint-15401.html">Glossary</a></li>
                  <li><a href="rbint-64347.html">Memory</a></li>
                  <li><a href="rbint-180090.html">CMOS</a></li>
                  <li><a href="rbint-250757.html">86 Bugs</a></li>
                  
                </ul>
              </li>
          </ul>
        </nav>
      

      <div id="entry" class="box">
        
  
  
    <pre class="entry"><span class="line"></span><br><span class="line"><span class="ngu">  EDX: &#39;E&#39;:&#39;F&#39;                        EDX: &#39;E&#39;:&#39;F&#39;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">CD x AB gives a result in EF:AB     D x B gives a result in F:B</span><br><span class="line"></span><br><span class="line">While executing the 32-bit MUL, the faulty CPU takes CD times AB and puts</span><br><span class="line">the value it should have added to &#39;A&#39; into &#39;F&#39; while at the same time</span><br><span class="line">adding the value it should have put into EF to AB.</span><br><span class="line"></span><br><span class="line">No workaround other than to use 16-bit multiply.</span><br><span class="line"></span><br><span class="line">Some 386&#39;s have a bug which generates incorrect values in 16-bit mode.</span><br><span class="line">The iAPX program from IGEL (Chris Lueders) tests for this bug.</span><br><span class="line"></span><br><span class="line">Intel apparently organized a replacement project to get the faulty chips</span><br><span class="line">returned to factory for screening. After testing at Intel the faulty CPUs</span><br><span class="line">were sold again to bulk buyers who installed them in 16-bit only machines.</span><br><span class="line">These tested and failed chips carry the text &#34;16-bit S/W only&#34; or a single</span><br><span class="line">sigma. The tested and passed chips carry a double sigma (ΣΣ) on the package.</span><br><span class="line"></span><br><span class="line">(supplied by Chris Lueders)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">NEC V20/V30 introduction</span><br><span class="line">──────────────────────────────────────────────────────────────────────────────</span><br><span class="line"></span><br><span class="line">The NEC V series microprocessors are functionally similar to the 8086 design</span><br><span class="line">which NEC licensed from Intel. The internal microcode and most NEC mnemonics</span><br><span class="line">are different from Intel&#39;s, to avoid Intel copyright claims. Only the</span><br><span class="line">NEC V20 &amp; V30, pin compatible with 8088 &amp; 8086 respectively, are usually</span><br><span class="line">found in IBM compatible PCs.</span><br><span class="line">The V20 and V30 are often supplied as an &#34;upgrade kit&#34; for PCs originally</span><br><span class="line">equipped with an 88/86, as they execute most instructions in fewer clocks</span><br><span class="line">and can be used at a higher clock rate than the Intel parts.</span><br><span class="line"></span><br><span class="line">Occasionally single board PCs use the V40 &amp; V50, which are based on the same</span><br><span class="line">CPU core and have integrated peripheral functions. Other V series family</span><br><span class="line">members diverge further from the Intel x86 series and are used in</span><br><span class="line">controllers and instrumentation rather than PCs.</span><br><span class="line"></span><br><span class="line">The V20 and V30 have four classes of extra instructions beyond those</span><br><span class="line">present on the 86/88:</span><br><span class="line">*   the instructions Intel introduced on the 186/188</span><br><span class="line">*   unique instructions for the NEC V series</span><br><span class="line">*   instructions to switch to/from 8O8O emulation mode</span><br><span class="line">*   8O8O instructions in 8O8O emulation mode</span><br><span class="line"></span><br><span class="line">(8080 is written here as 8O8O to avoid visual confusion with the 8088).</span><br><span class="line">Since the 188/186 instructions are widely documented, and the 8O8O</span><br><span class="line">instructions are of use only if you are writing a CP/M emulator or similar,</span><br><span class="line">these instructions are not listed. The special instructions which can be</span><br><span class="line">used in Intel x86 mode are listed in the &lt;NEC mnemonics page&gt;</span><br><span class="line"></span><br><span class="line">(Supplied by Anthony Naggs)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">NEC V20/V30-specific mnemonics list</span><br><span class="line">──────────────────────────────────────────────────────────────────────────────</span><br><span class="line"></span><br><span class="line">  Bit field instructions:</span><br><span class="line"></span><br><span class="line">  &lt;INS&gt;     (NECINS) Insert bit field  &lt;EXT&gt;    Extract bit field</span><br><span class="line">  &lt;TEST1&gt;   Test a specific bit        &lt;NOT1&gt;   Invert a specific bit</span><br><span class="line">  &lt;CLEAR1&gt;  Clear a specific bit       &lt;SET1&gt;   Set a specific bit</span><br><span class="line"></span><br><span class="line">  Packed BCD support:</span><br><span class="line"></span><br><span class="line">  &lt;ADD4S&gt;   Add packed BCD numbers     &lt;SUB4S&gt;  Subtract BCD strings</span><br><span class="line">  &lt;CMP4S&gt;   Compare BCD strings (subtract without storing)</span><br><span class="line">  &lt;ROL4&gt;    Rotate left 4 bits         &lt;ROR4&gt;   Rotate right 4 bits</span><br><span class="line"></span><br><span class="line">  Instruction prefixes:</span><br><span class="line"></span><br><span class="line">  &lt;REPC&gt;    Repeat while Carry         &lt;REPNC&gt;  Repeat while No Carry</span><br><span class="line"></span><br><span class="line">  Floating point escape:               Start 8O8O emulation:</span><br><span class="line"></span><br><span class="line">  &lt;FPO2&gt;    NEC equivalent of ESC      &lt;BRKEM&gt;  Break to 8O8O emulation mode</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">(Supplied by Anthony Naggs)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">NOT1 Invert a specific bit (NOT operation) (NEC V20/30 only)</span><br><span class="line">──────────────────────────────────────────────────────────────────────────────</span><br></pre>
  
  
  


      </div>

    </div>

    
      <footer>
        <nav class="box">
          <dl>
            <dt>Generated</dt><dd>2025-12-13 13:34:52</dd>
            <dt>Generator</dt><dd><a href="https://ng2web.davep.dev">ng2web v1.5.1 (ngdb v1.2.0)</a></dd>
          </dl>
        </nav>
      </footer>
    

  </body>

</html>

