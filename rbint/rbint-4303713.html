





<!DOCTYPE html>
<html lang="en">

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.5.1 (ngdb v1.2.0)">
    <link rel="stylesheet" type="text/css" href="rbint-style.css">
    <title>Ralf Brown » Lists » Interrupts</title>
    <meta name="description" content="Ralf Brown">
    <link rel="prev" href="rbint-4296945.html">
    <link rel="next" href="rbint-4312052.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="../index.html">Guides</a></li>


          

<li><a href="rbint-about.html">About</a></li>


          

<li><a href="rbint-4296945.html">Previous</a></li>


          

<li><a href="rbint-4197937.html">Up</a></li>


          

<li><a href="rbint-4312052.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <div id="body">

      
        <nav class="menu box">
          <ul>
              <li>Lists</li>
              <li>
                <ul>
                  <li><a href="index.html">Comments</a></li>
                  <li><a href="rbint-7995.html">Interrupts</a></li>
                  <li><a href="rbint-15401.html">Glossary</a></li>
                  <li><a href="rbint-64347.html">Memory</a></li>
                  <li><a href="rbint-180090.html">CMOS</a></li>
                  <li><a href="rbint-250757.html">86 Bugs</a></li>
                  
                </ul>
              </li>
          </ul>
        </nav>
      

      <div id="entry" class="box">
        
  
  
    <pre class="entry"><span class="line"></span><br><span class="line"><span class="ngu">Int 2F Fn C000  - Novell Netware Event Service Layer (nesl) 1.0 - Install</span>  [<span class="ngb">N</span>]</span><br><span class="line"></span><br><span class="line">   AX = C000h</span><br><span class="line"></span><br><span class="line"><span class="ngb">Return:</span> AL = FFh if installed</span><br><span class="line">       DX:BX -&gt; FAR entry point (see #2697,#2698,#2699,#2700,#2701,#2702)</span><br><span class="line">       ES:SI -&gt; signature string &#34;NESL_EVENTS&#34;</span><br><span class="line">Program: NESL is a generic interface for event handling in ODI drivers and</span><br><span class="line">     other NetWare-oriented modules.  Primarily intended to support</span><br><span class="line">     power management and &#34;hot swapping&#34; of PCMCIA cards, but it is not</span><br><span class="line">     limited to this.</span><br><span class="line">Range: AH=C0h to AH=FFh, selected by scanning for first free multiplex number</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> AX=C000h&#34;Link Support Layer&#34;,AX=C000h&#34;NETWARN&#34;</span><br><span class="line"></span><br><span class="line">(Table 2697)</span><br><span class="line">Call NESL function GetNESLConfigPointer with:</span><br><span class="line">   BX = 0000h</span><br><span class="line"></span><br><span class="line"><span class="ngb">Return:</span> AX = completion code (0000h,8008h) (see #2703)</span><br><span class="line">   ES:SI -&gt; NESL configuration table if successful (see #2704)</span><br><span class="line">   BP,DS,STACK preserved</span><br><span class="line"><span class="ngb">Desc:</span>  Obtain a pointer to the NESL Configuration Table</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #2698,#2701</span><br><span class="line"></span><br><span class="line">(Table 2698)</span><br><span class="line">Call NESL function RegisterEventProducer with:</span><br><span class="line">   BX = 0001h</span><br><span class="line">   ES:SI -&gt; Producer Event Control Block (PECB) (see #2705)</span><br><span class="line"></span><br><span class="line"><span class="ngb">Return:</span> AX = completion code (0000h, 8005h, 8008h) (see #2703)</span><br><span class="line">   ES:SI -&gt; still points to PECB</span><br><span class="line">   BP,DS,STACK preserved</span><br><span class="line"><span class="ngb">Desc:</span>  Allows a module to register as a producer of a given event class</span><br><span class="line"></span><br><span class="line"><span class="ngb">Note:</span>  PECB_ClassName and PECB_Flags must be filled in on entry</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #2556,#2699,#2700,#2701</span><br><span class="line"></span><br><span class="line">(Table 2699)</span><br><span class="line">Call NESL function DeRegisterEventProducer with:</span><br><span class="line">   BX = 0002h</span><br><span class="line">   ES:SI -&gt; PECB previously passed to RegisterEventProducer (see #2705)</span><br><span class="line"></span><br><span class="line"><span class="ngb">Return:</span> AX = completion code (0000h, 8002h, 8008h) (see #2703)</span><br><span class="line">   ES:SI -&gt; still points to PECB</span><br><span class="line">   BP,DS,STACK preserved</span><br><span class="line"><span class="ngb">Desc:</span>  Allows a module to de-register as a producer of a given event class</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #2698,#2702</span><br><span class="line"></span><br><span class="line">(Table 2700)</span><br><span class="line">Call NESL function EventNotification with:</span><br><span class="line">   BX = 0003h</span><br><span class="line">   ES:SI -&gt; PECB previously registered (see #2705)</span><br><span class="line"></span><br><span class="line"><span class="ngb">Return:</span> AX = completion code (0h, 8005h, 8008h) (see #2703)</span><br><span class="line">   ES:SI -&gt; still points to PECB</span><br><span class="line">   BP,DS,STACK preserved</span><br><span class="line"><span class="ngb">Desc:</span>  Allows a module to signal that an event has just occurred in a given</span><br><span class="line">     event class.</span><br><span class="line"></span><br><span class="line"><span class="ngb">Notes:</span> Once called, NESL will generate corresponding callouts for this</span><br><span class="line">     event, as described in Table #2707.</span><br><span class="line">   on entry, the PECB_DataPtr must point at an Event Parameter Block (EPB)</span><br><span class="line">     (see #2708) filled in to match the desired event</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #2698</span><br><span class="line"></span><br><span class="line">(Table 2701)</span><br><span class="line">Call NESL function RegisterEventConsumer with:</span><br><span class="line">   BX = 0004h</span><br><span class="line">   ES:SI -&gt; Consumer Event Control Block (CECB) (see #2706)</span><br><span class="line"></span><br><span class="line"><span class="ngb">Return:</span> AX = completion code (0h, 8005h, 8008h) (see #2703)</span><br><span class="line">   ES:SI -&gt; still points to CECB</span><br><span class="line">   BP,DS,STACK preserved</span><br><span class="line"><span class="ngb">Desc:</span>  Allows a module to register as a consumer of a given event class</span><br><span class="line"></span><br><span class="line"><span class="ngb">Note:</span>  on entry, the CECB_ClassName, CECB_NotifProc and CECB_OSILevel must be</span><br><span class="line">     filled in.</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #2698,#2702</span><br><span class="line"></span><br><span class="line">(Table 2702)</span><br><span class="line">Call NESL function DeRegisterEventConsumer with:</span><br><span class="line">   BX = 0005h</span><br><span class="line">   ES:SI -&gt; CECB previously passed to RegisterEventConsumer (see #2706)</span><br><span class="line"></span><br><span class="line"><span class="ngb">Return:</span> AX = completion code (0h, 8002h, 8008h) (see #2703)</span><br><span class="line">   ES:SI -&gt; still points to CECB</span><br><span class="line">   BP,DS,STACK preserved</span><br><span class="line"><span class="ngb">Desc:</span>  Allows a module to de-register as a consumer of a given event class</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #2699,#2701</span><br><span class="line"></span><br><span class="line">(Table 2703)</span><br><span class="line">Values for NESL Error code:</span><br><span class="line"> 0000h Successful</span><br><span class="line"> 8002h Bad Parameter</span><br><span class="line"> 8005h Fail</span><br><span class="line"> 8008h Bad Command</span><br><span class="line"></span><br><span class="line">Format of NESL Configuration Table:</span><br><span class="line">Offset Size    Description (Table 2704)</span><br><span class="line"> 00h   WORD    NESL_Cfg_MajVer  Major Version of this table (=1)</span><br><span class="line"> 02h   WORD    NESL_Cfg_MinVer  Minor Version of this table (=0)</span><br><span class="line"> 04h   DWORD   NESL_Cfg_ModLName   -&gt; ASCIZ long name of NESL module</span><br><span class="line">       (typically -&gt; &#34;NetWare Event Service Layer for 16-Bit DOS&#34;)</span><br><span class="line"> 08h   DWORD   NESL_Cfg_ModSName   -&gt; ASCIZ short name of NESL module</span><br><span class="line">       (typically -&gt; &#34;NESL&#34;)</span><br><span class="line"> 0Ch   WORD    NESL_Cfg_ModMajVer  Major Version of NESL itself (=1)</span><br><span class="line"> 0Eh   WORD    NESL_Cfg_ModMinVer  Minor Version of NESL itself (=0)</span><br><span class="line"></span><br><span class="line">Format of NESL Producer Event Control Block (PECB):</span><br><span class="line">Offset Size    Description (Table 2705)</span><br><span class="line"> 00h   WORD    PECB_MajVer  Major Version of this structure (=1)</span><br><span class="line"> 02h   WORD    PECB_MinVer  Minor Version of this structure (=0)</span><br><span class="line"> 04h   DWORD   PECB_NextProducer   -&gt; next PECB.  NULL if last.</span><br><span class="line"> 08h   DWORD   PECB_ClassName      -&gt; ASCIZ string identifying event</span><br><span class="line">                     class (see #2709)</span><br><span class="line"> 0Ch   DWORD   PECB_ConsumerList   -&gt; list of consumers for this event class</span><br><span class="line"> 10h   DWORD   PECB_DataPtr        -&gt; points to additional data during events</span><br><span class="line"> 14h   DWORD   PECB_Flags</span><br><span class="line">       Bit 0   =0  consumers should be called &#34;top down&#34; for this</span><br><span class="line">               event class.  (OSI level 7 down to OSI level 1)</span><br><span class="line">           =1  consumers should be called &#34;bottom up&#34;</span><br><span class="line">       Bits 1-31   Reserved =0</span><br><span class="line"> 18h  8 BYTEs  PECB_Reserved (all zeros)</span><br><span class="line"></span><br><span class="line"><span class="ngb">Note:</span>  Although the event producer provides the memory for the PECB, the</span><br><span class="line">     NESL module controls this memory until the event class is</span><br><span class="line">     de-registered.</span><br><span class="line">   While owned by NESL, this structure should be treated as read-only,</span><br><span class="line">     except for the PECB_DataPtr field.</span><br><span class="line"></span><br><span class="line">Format of NESL Consumer Event Control Block (CECB):</span><br><span class="line">Offset Size    Description (Table 2706)</span><br><span class="line"> 00h   WORD    CECB_MajVer  Major Version of this structure (=1)</span><br><span class="line"> 02h   WORD    CECB_MinVer  Minor Version of this structure (=0)</span><br><span class="line"> 04h   DWORD   CECB_NextConsumer   -&gt; next CECB.  NULL if last.</span><br><span class="line"> 08h   DWORD   CECB_ClassName      -&gt; ASCIZ string identifying event</span><br><span class="line">                     class (see #2709)</span><br><span class="line"> 0Ch   DWORD   CECB_NotifProc      -&gt; FAR CALL event handler (see #2707)</span><br><span class="line"> 10h   WORD    CECB_OSILevel</span><br><span class="line">       Bits 4-7 = OSI Layer of this module (1 through 7)</span><br><span class="line">       Bits 0-3 = relative ordering with other modules on same layer</span><br><span class="line"> 13h 14 BYTEs  CECB_Reserved (all zeros)</span><br><span class="line"></span><br><span class="line"><span class="ngb">Note:</span>  Although the event consumer provides the memory for the CECB, the</span><br><span class="line">     NESL module controls this memory until the consumer is de-registered.</span><br><span class="line">   While owned by NESL, this structure should be treated as read-only,</span><br><span class="line"></span><br><span class="line">(Table 2707)</span><br><span class="line">Values NESL Consumer Notification Procedure is called with:</span><br><span class="line">   ES:SI -&gt; Event Parameter Block (EPB) (see #2708)</span><br><span class="line"></span><br><span class="line"><span class="ngb">Return:</span> AX = completion code (0000h, 8005h) (see #2703)</span><br><span class="line">   ES:SI -&gt; still points to EPB</span><br><span class="line"><span class="ngb">Desc:</span>  Called by NESL to notify the consumer when an event has occurred in</span><br><span class="line">     an event class for which it has registered.</span><br><span class="line"></span><br><span class="line"><span class="ngb">See Also:</span> #2706</span><br><span class="line"></span><br><span class="line">Format of NESL Event Parameter Block (EPB):</span><br><span class="line">Offset Size    Description (Table 2708)</span><br><span class="line"> 00h   WORD    EPB_MajVer  Major Version of this structure (=1)</span><br><span class="line"> 02h   WORD    EPB_MinVer  Minor Version of this structure (=0)</span><br><span class="line"> 04h   DWORD   EPB_ClassName  -&gt; ASCIZ string identifying event class</span><br><span class="line">                 (see #2709)</span><br><span class="line"> 08h   DWORD   EPB_EventName  -&gt; ASCIZ string identifying event within</span><br><span class="line">                 class (see #2710)</span><br><span class="line"> 0Ch   DWORD   EPB_ModuleName -&gt; ASCIZ string identifying module</span><br><span class="line">                 producing event</span><br><span class="line"> 10h   DWORD   EPB_DataPtr0   -&gt; event-defined data or NULL if not used</span><br><span class="line"> 14h   DWORD   EPB_DataPtr1   -&gt; event-defined data or NULL if not used</span><br><span class="line"> 18h  8 BYTEs  EPB_Reserved (all zeros)</span><br><span class="line"></span><br><span class="line">(Table 2709)</span><br><span class="line">Values for NESL Event Class Names:</span><br><span class="line"> Event Class       Description</span><br><span class="line"> -------------------   -----------------------------------------</span><br><span class="line"> Service Suspend   Suspension of a service.  Called top-down.</span><br><span class="line"> Service Resume        Resumption/availability of a service. Called bottom-up.</span><br><span class="line"> Service/Status Change Change in status or level of service.  Called top-down.</span><br><span class="line"> Suspend Request   Request to suspend a service.  Called bottom-up.</span><br><span class="line"></span><br><span class="line"><span class="ngb">Note:</span>  Contact Novell Labs to register new event classes.</span><br><span class="line"></span><br><span class="line">(Table 2710)</span><br><span class="line">Values for NESL Event Names:</span><br><span class="line"> Event Name            Class           Description</span><br><span class="line"> --------------------------    -------------       ---------------------------</span><br><span class="line"> MLID Cable Disconnect     Service Suspend     Cable disconnected from NIC</span><br><span class="line"> MLID Card Removal     Service Suspend     PCMCIA card removed</span><br><span class="line"> MLID Hardware Failure     Service Suspend     Serious hardware</span><br><span class="line">                             failure in NIC</span><br><span class="line"> MLID Not In Range     Service Suspend     Wireless access point</span><br><span class="line">                             is out of range</span><br><span class="line"> MLID Shutdown         Service Suspend     MLID was shut down</span><br><span class="line"> MLID Media Access Denied  Service Suspend     Access to physical</span><br><span class="line">                             medium unsuccessful</span><br><span class="line"> MLID Cable Reconnect      Service Resume      Cable re-connected to NIC</span><br><span class="line"> MLID Card Insertion Complete  Service Resume      PCMCIA card inserted</span><br><span class="line"> MLID In Range         Service Resume      Wireless access point</span><br><span class="line">                             in range</span><br><span class="line"> MLID Reset            Service Resume      MLID was just reset</span><br><span class="line"> MLID Access Point Change  Serv/Status Change  Station has moved to</span><br><span class="line">                             new access point</span><br><span class="line"> MLID Speed Change     Serv/Status Change  Change in communic. speed</span><br><span class="line"></span><br><span class="line"><span class="ngb">Note:</span>  Contact Novell Labs to register new event names.</span><br><span class="line">   For all predefined events above, EPB_DataPtr0 (see #2708) points</span><br><span class="line">     to the MLID Configuration table (see AX=C000h&#34;ODI&#34;) for the</span><br><span class="line">     affected MLID.</span><br></pre>
  
  
  


      </div>

    </div>

    
      <footer>
        <nav class="box">
          <dl>
            <dt>Generated</dt><dd>2025-12-13 13:34:52</dd>
            <dt>Generator</dt><dd><a href="https://ng2web.davep.dev">ng2web v1.5.1 (ngdb v1.2.0)</a></dd>
          </dl>
        </nav>
      </footer>
    

  </body>

</html>

