





<!DOCTYPE html>
<html>

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.1.0 (ngdb v1.1.0)">
    <link rel="stylesheet" type="text/css" href="vgaregs-style.css">
    <title>VGA registers » VGA » Regs</title>
    <meta name="description" content="VGA registers">
    <link rel="prev" href="vgaregs-41127.html">
    <link rel="next" href="vgaregs-43297.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="../index.html">Guides</a></li>


          

<li><a href="vgaregs-about.html">About</a></li>


          

<li><a href="vgaregs-41127.html">Previous</a></li>


          

<li><a href="index.html">Up</a></li>


          

<li><a href="vgaregs-43297.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <section>

      <nav class="menu box">
        <ul>
            <li>VGA</li>
            <ul>
              <li><a href="index.html">Regs</a></li>
              <li><a href="vgaregs-43932.html">ASM</a></li>
              
            </ul>
        </ul>
      </nav>

      <article class="box">
        
  
  
    <pre class="entry"><span class="line"><span class="ngb">PEL address write mode read 03C8h  write 03C8h</span></span><br /><span class="line"></span><br /><span class="line">Layout  b7-b0  ADR  Address during write mode</span><br /><span class="line"></span><br /><span class="line">        This register contains the 8-bit address used to access one of</span><br /><span class="line">        the 256 color registers during a write operation. This</span><br /><span class="line">        register is similar to the address registers associated with</span><br /><span class="line">        the other register groups in that it occupies a location in</span><br /><span class="line">        the host I/O address space and that it indexes one of the</span><br /><span class="line">        internal registers. It differs from the others in that it</span><br /><span class="line">        signifies that a write operation is to occur.</span><br /><span class="line"></span><br /><span class="line">        A write operation consists of 3 byte outputs to the PEL data</span><br /><span class="line">        register. These 3 outputs load the red, green, and blue</span><br /><span class="line">        components of the indexed color register. The PEL data</span><br /><span class="line">        register can be thought of as an 18-bit wide register that</span><br /><span class="line">        loads 6 bits during each output operation.</span><br /><span class="line"></span><br /><span class="line">        At the conclusion of the 3rd output to the PEL data register,</span><br /><span class="line">        the address in this PEL address write register <span class="ngb">automatically</span></span><br /><span class="line">        increments. This feature allows the programmer to output up to</span><br /><span class="line">        768 consecutive bytes to the PEL data register without having</span><br /><span class="line">        to modify the PEL address write register after its initial</span><br /><span class="line">        setting.</span><br /><span class="line"></span><br /><span class="line">        The PEL address write register is a read/write register that</span><br /><span class="line">        allows the programmer to interrogate its current value. The</span><br /><span class="line">        operation of the PEL address write register is identical to</span><br /><span class="line">        that of the PEL address read register except that the latter</span><br /><span class="line">        is used for read operations and is a write-only register.</span><br /><span class="line"></span><br /><span class="line"></span><br /><span class="line">        ; Load color registers 20h-2Fh</span><br /><span class="line">        mov     dx,03C8h                ; PEL addr write reg.</span><br /><span class="line">        mov     al,20h                  ; No. of 1st color reg.</span><br /><span class="line">        out     dx,al                   ; Tell VGA</span><br /><span class="line">        inc     dx                      ; PEL data reg.</span><br /><span class="line">        lea     si,[RGB_array + 20h*3]  ; Point DS:SI to r/g/b values</span><br /><span class="line">        mov     cx,(2Fh + 1 - 20h) *3   ; No. of bytes to output</span><br /><span class="line">        cld                             ; Clear direction flag</span><br /><span class="line">        rep     outsb                   ; Load color reg.s</span><br /></pre>
  
  
  
    <nav class="seeAlso">
      <ul>
        <li>See Also:</li>
        
          <li><a href="vgaregs-43297.html">PEL data</a></li>
        
          <li><a href="vgaregs-41127.html">PEL address read</a></li>
        
      </ul>
    </nav>
  


      </article>

    </section>

  </body>

</html>

