





<!DOCTYPE html>
<html>

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.1.0 (ngdb v1.1.0)">
    <link rel="stylesheet" type="text/css" href="x86-style.css">
    <title>iAPx86 » FPU » Instruction set</title>
    <meta name="description" content="iAPx86">
    <link rel="prev" href="x86-254647.html">
    <link rel="next" href="x86-258452.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="../index.html">Guides</a></li>


          

<li><a href="x86-about.html">About</a></li>


          

<li><a href="x86-254647.html">Previous</a></li>


          

<li><a href="x86-245307.html">Up</a></li>


          

<li><a href="x86-258452.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <section>

      <nav class="menu box">
        <ul>
            <li>CPU</li>
            <ul>
              <li><a href="index.html">Instruction set</a></li>
              <li><a href="x86-175915.html">Registers</a></li>
              <li><a href="x86-190707.html">Protection, privilege</a></li>
              <li><a href="x86-224627.html">Exceptions</a></li>
              <li><a href="x86-225699.html">Addressing modes</a></li>
              <li><a href="x86-229455.html">Opcodes</a></li>
              
            </ul>
            <li>FPU</li>
            <ul>
              <li><a href="x86-245307.html">Instruction set</a></li>
              <li><a href="x86-307843.html">Registers, data types</a></li>
              
            </ul>
            <li>MMX</li>
            <ul>
              <li><a href="x86-318646.html">Instruction set</a></li>
              
            </ul>
        </ul>
      </nav>

      <article class="box">
        
  
  
    <pre class="entry"><span class="line"><span class="ngb">FCOMI           Compare real and set EFLAGS          Exceptions: I D</span></span><br /><span class="line"><span class="ngb">FCOMIP          Compare real, set EFLAGS, and pop</span>    C3 C2 C1 C0: - - * -</span><br /><span class="line">                                                     FPU: PPro+</span><br /><span class="line"><span class="ngb">FCOMI</span> destination, source</span><br /><span class="line"><span class="ngb">FCOMIP</span> destination, source</span><br /><span class="line"></span><br /><span class="line">        <span class="ngb">Logic</span>   ; FCOMI dest, src       ; FCOMIP dest, src</span><br /><span class="line">                CMP ST, ST(src)         CMP ST, ST(src)</span><br /><span class="line">                determine ZF,PF,CF      determine ZF,PF,CF</span><br /><span class="line">                                        POP ST</span><br /><span class="line"></span><br /><span class="line">    Compares the contents of register ST(0) and ST(i) and sets the</span><br /><span class="line">    status flags ZF, PF, and CF in the EFLAGS register according to the</span><br /><span class="line">    results.</span><br /><span class="line">    The sign of zero is ignored for comparisons, so that -0.0 = +0.0.</span><br /><span class="line"></span><br /><span class="line">                <span class="ngb">ZF PF CF</span></span><br /><span class="line">                0  0  0  ST &gt; ST(i)</span><br /><span class="line">                0  0  1  ST &lt; ST(i)</span><br /><span class="line">                1  0  0  ST = ST(i)</span><br /><span class="line">                1  1  1  Unordered</span><br /><span class="line"></span><br /><span class="line">    The FCOMI/FCOMIP instructions perform the same operation as the</span><br /><span class="line">    FUCOMI/FUCOMIP instructions. The only difference is how they handle</span><br /><span class="line">    QNaN operands. The FCOMI/FCOMIP instructions set the status flags to</span><br /><span class="line">    unordered and generate an invalid-arithmetic-operand exception (#IA)</span><br /><span class="line">    when either or both of the operands is a NaN value (SNaN or QNaN) or</span><br /><span class="line">    is in an unsupported format.</span><br /><span class="line"></span><br /><span class="line">    The FUCOMI/FUCOMIP instructions perform the same operation as the</span><br /><span class="line">    FCOMI/FCOMIP instructions, except that they do not generate an</span><br /><span class="line">    invalid-arithmetic-operand exception for QNaNs.</span><br /><span class="line"></span><br /><span class="line"></span><br /><span class="line">    If invalid-operation exception is unmasked, the flags are not set if</span><br /><span class="line">    the invalid-arithmetic-operand exception is generated.</span><br /><span class="line"></span><br /><span class="line"></span><br /><span class="line">    <span class="ngb">Opcode      Format</span></span><br /><span class="line">    DB F0 + i   FCOMI ST, ST(i)</span><br /><span class="line">    DF F0 + i   FCOMIP ST, ST(i)</span><br /><span class="line">    DB E8 + i   FUCOMI ST, ST(i)</span><br /><span class="line">    DF E8 + i   FUCOMIP ST, ST(i)</span><br /><span class="line"></span><br /><span class="line"></span><br /><span class="line">    <span class="ngb">Timing</span></span><br /><span class="line">    ??</span><br /></pre>
  
  
  
    <nav class="seeAlso">
      <ul>
        <li>See Also:</li>
        
          <li><a href="x86-301502.html">FXAM</a></li>
        
          <li><a href="x86-254647.html">FCOM</a></li>
        
          <li><a href="x86-298400.html">FUCOM</a></li>
        
          <li><a href="x86-300260.html">FUCOMI</a></li>
        
          <li><a href="x86-293372.html">FSTSW</a></li>
        
          <li><a href="x86-252847.html">FCMOVcc</a></li>
        
      </ul>
    </nav>
  


      </article>

    </section>

  </body>

</html>

