





<!DOCTYPE html>
<html>

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.1.0 (ngdb v1.1.0)">
    <link rel="stylesheet" type="text/css" href="dos5-style.css">
    <title>DOS 5.0 Ref. » DOS » Structures</title>
    <meta name="description" content="DOS 5.0 Ref.">
    <link rel="prev" href="dos5-227190.html">
    <link rel="next" href="dos5-229595.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="dos5-about.html">About</a></li>


          

<li><a href="dos5-227190.html">Previous</a></li>


          

<li><a href="dos5-221655.html">Up</a></li>


          

<li><a href="dos5-229595.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <section>

      <nav class="menu box">
        <ul>
            <li>DOS</li>
            <ul>
              <li><a href="index.html">Functions (Int 21h)</a></li>
              <li><a href="dos5-135422.html">Multiplex (Int 2Fh)</a></li>
              <li><a href="dos5-159299.html">Interrupts 20h-28h</a></li>
              <li><a href="dos5-182062.html">Device Driver Fnx</a></li>
              <li><a href="dos5-221655.html">Structures</a></li>
              <li><a href="dos5-268064.html">Extended key codes</a></li>
              
            </ul>
        </ul>
      </nav>

      <article class="box">
        
  
  
    <pre class="entry"><span class="line"></span><br /><span class="line">struc DeviceHeader</span><br /><span class="line"> dhLink         dd ?            ; Link to next driver (last = 0FFFFh)</span><br /><span class="line"> dhAttributes   dw ?            ; Device attributes</span><br /><span class="line"> dhStrategy     dw ?            ; Strategy-routine offset</span><br /><span class="line"> dhInterrupt    dw ?            ; Interrupt-routine offset</span><br /><span class="line"> dhNameOrUnits  db &#34;????????&#34;   ; Logical device name (char device only)</span><br /><span class="line">                                ; or Number of units (block device only)</span><br /><span class="line">ends                            ; = 18d bytes</span><br /><span class="line">;</span><br /><span class="line">;       ; dhAttributes for <span class="ngb">character</span> devices; bit 15=1</span><br /><span class="line">;       Bit     Description</span><br /><span class="line">;       0       1 = Standard input (STDIN) device</span><br /><span class="line">;       1       1 = Standard output (STDOUT) device</span><br /><span class="line">;       2       1 = NUL device</span><br /><span class="line">;       3       1 = Clock device</span><br /><span class="line">;       4       1 = Special device (driver supports fast char. output)</span><br /><span class="line">;       5,8,9,10,12 Reserved bits (0)</span><br /><span class="line">;       6       1 = Driver supports device function 13h (Generic IOCTL)</span><br /><span class="line">;       7       1 = Driver supports device function 19h (IOCTL query)</span><br /><span class="line">;       11      1 = Driver supports device functions 0Dh and 0Eh</span><br /><span class="line">;                   (Open Device and Close Device)</span><br /><span class="line">;       13      1 = Driver supports device function 10h</span><br /><span class="line">;                   (Output Until Busy)</span><br /><span class="line">;       14      1 = Driver supports device functions 03h and 0Ch</span><br /><span class="line">;                   (IOCTL Read and IOCTL Write)</span><br /><span class="line">;       15      1 = Character device</span><br /><span class="line">;</span><br /><span class="line">;       </span><br /><span class="line">;       ; dhAttributes for <span class="ngb">block</span> devices; bit 15=0</span><br /><span class="line">;       Bit     Description</span><br /><span class="line">;       0,2,3,4,5,8,9,10,12  Reserved bits (0)</span><br /><span class="line">;       1       0 = Driver supports 16-bit sector addressing</span><br /><span class="line">;               1 = Driver supports 32-bit sector addressing</span><br /><span class="line">;       6       1 = Driver supports device functions 13h, 17h and 18h</span><br /><span class="line">;                   (Generic IOCTL, Get/Set Logical Device)</span><br /><span class="line">;       7       1 = Driver supports device function 19h (IOCTL query)</span><br /><span class="line">;       11      1 = Driver supports device functions 0Dh,0Eh, and 0Fh</span><br /><span class="line">;                   (Open Device, Close Device, and Removable Media)</span><br /><span class="line">;       13      1 = Driver requires DOS to supply the first 512 bytes</span><br /><span class="line">;                   of the file allocation table (FAT) when it calls</span><br /><span class="line">;                   Build BPB (device function 02h)</span><br /><span class="line">;       14      1 = Driver supports device functions 03h and 0Ch</span><br /><span class="line">;                   (IOCTL Read and IOCTL Write)</span><br /><span class="line">;       15      0 = Block device</span><br /><span class="line">;</span><br /><span class="line">;</span><br /><span class="line">;       ; dhLink</span><br /><span class="line">;       0000h:offset   pointer to next DeviceHeader, or</span><br /><span class="line">;       0ffffh:0ffffh  if no other DeviceHeader in file</span><br /><span class="line">;</span><br /><span class="line">;       ; dhNameOrUnits</span><br /><span class="line">;       Char-device:  Space-padded ASCII device name (no colon)</span><br /><span class="line">;       Block-device: 1st byte = no. of units (drives), rest reserved</span><br /></pre>
  
  
  
    <nav class="seeAlso">
      <ul>
        <li>See Also:</li>
        
          <li><a href="dos5-46090.html">4400h</a></li>
        
          <li><a href="dos5-182799.html">Dev*</a></li>
        
      </ul>
    </nav>
  


      </article>

    </section>

  </body>

</html>

