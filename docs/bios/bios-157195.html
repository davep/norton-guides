





<!DOCTYPE html>
<html>

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.1.0 (ngdb v1.1.0)">
    <link rel="stylesheet" type="text/css" href="bios-style.css">
    <title>BIOS ref. » BIOS » Interrupts</title>
    <meta name="description" content="BIOS ref.">
    <link rel="prev" href="bios-156519.html">
    <link rel="next" href="bios-159518.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="../index.html">Guides</a></li>


          

<li><a href="bios-about.html">About</a></li>


          

<li><a href="bios-156519.html">Previous</a></li>


          

<li><a href="bios-146401.html">Up</a></li>


          

<li><a href="bios-159518.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <section>

      <nav class="menu box">
        <ul>
            <li>BIOS</li>
            <ul>
              <li><a href="index.html">Interrupts</a></li>
              <li><a href="bios-14162.html">Low memory</a></li>
              
            </ul>
        </ul>
      </nav>

      <article class="box">
        
  
  
    <pre class="entry"><span class="line"><span class="ngb">Int 15h, 87h            Move Block                                 XT-286, AT</span></span><br /><span class="line"></span><br /><span class="line">    Provides the ability for a Real Mode program to move a block of</span><br /><span class="line">    data to or from the area above 1 Megabyte in the Protected Mode.</span><br /><span class="line"></span><br /><span class="line">        <span class="ngb">Entry</span>   AH    = 87h</span><br /><span class="line">                CX    = Size in words of block to move</span><br /><span class="line">                        (maximum: 8000h = 32K)</span><br /><span class="line">                ES:SI = Pointer to a Global Descriptor Table (GDT)</span><br /><span class="line"></span><br /><span class="line">        <span class="ngb">Return</span>  CF   Set if error, else cleared</span><br /><span class="line">                ZF   Cleared if error, else set</span><br /><span class="line">                AH = Status of Operation</span><br /><span class="line">                     | 00h - Successful</span><br /><span class="line">                     | 01h - Memory Parity error</span><br /><span class="line">                     | 02h - Exception interrupt error occurred</span><br /><span class="line">                     | 03h - Gate address line 20h failed</span><br /><span class="line"></span><br /><span class="line">    ──────────────────────────────────────────────────────────────────</span><br /><span class="line"></span><br /><span class="line">    This service is available only for the AT and XT-286.</span><br /><span class="line"></span><br /><span class="line"></span><br /><span class="line">    ES:SI points to a list of 6 descriptors. Each descriptor is 8</span><br /><span class="line">    bytes long. A descriptor is formatted as follows:</span><br /><span class="line"></span><br /><span class="line">      <span class="ngb">Offset    Bytes     Description</span></span><br /><span class="line">        00h       2       Word containing segment limit</span><br /><span class="line">        02h       2       Low word of 24-bit address</span><br /><span class="line">        04h       1       High byte of 24-bit address</span><br /><span class="line">        05h       1       Access rights byte</span><br /><span class="line">        06h       2       Reserved (must be 0)</span><br /><span class="line"></span><br /><span class="line">    The Global Descriptor Table (GDT) pointed to by ES:SI consists of</span><br /><span class="line">    a list of 6 descriptors. The descriptors are defined below,</span><br /><span class="line">    appearing in the same order as they appear in memory.</span><br /><span class="line"></span><br /><span class="line">      <span class="ngb">Offset    Bytes     Description</span></span><br /><span class="line">        00h       8       Dummy Descriptor. Initialized by user to 0.</span><br /><span class="line">        08h       8       Descriptor of this GDT. Initialized by user</span><br /><span class="line">                          to 0. Modified by BIOS.</span><br /><span class="line">        10h       8       Descriptor of Source block. Initialized by user.</span><br /><span class="line">        18h       8       Descriptor of Destination block.</span><br /><span class="line">                          Initialized by user.</span><br /><span class="line">        20h       8       Descriptor for Protected Mode Code Segment.</span><br /><span class="line">                          Initialized by user to 0. Modified by BIOS.</span><br /><span class="line">        28h       8       Descriptor for Protected Mode Stack Segment.</span><br /><span class="line">                          Initialized by user to 0. Modified by BIOS.</span><br /><span class="line"></span><br /><span class="line"></span><br /><span class="line">    Therefore, for a block move to be performed, only the third and</span><br /><span class="line">    fourth descriptors need to contain values other than 0s. The</span><br /><span class="line">    source and target descriptor fields should be initialized as</span><br /><span class="line">    follows:</span><br /><span class="line"></span><br /><span class="line">        *  The segment limit field (offset 00h) must contain a value</span><br /><span class="line">           of 2 * (CX - 1) or greater.</span><br /><span class="line"></span><br /><span class="line">        *  The 24-bit address field (offset 02h) must contain the</span><br /><span class="line">           source or destination address.</span><br /><span class="line"></span><br /><span class="line">        *  The Access Rights byte (offset 05h) must contain 93h</span><br /><span class="line">           (CPL0-R/W).</span><br /><span class="line"></span><br /><span class="line">    Transfers of large blocks of data may result in lost interrupts,</span><br /><span class="line">    since no interrupts are allowed during the move.</span><br /></pre>
  
  
  
    <nav class="seeAlso">
      <ul>
        <li>See Also:</li>
        
          <li><a href="bios-160212.html">Int 15h, 89h</a></li>
        
      </ul>
    </nav>
  


      </article>

    </section>

  </body>

</html>

