





<!DOCTYPE html>
<html>

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.1.0 (ngdb v1.1.0)">
    <link rel="stylesheet" type="text/css" href="rbint-style.css">
    <title>Ralf Brown » Lists » Memory</title>
    <meta name="description" content="Ralf Brown">
    <link rel="prev" href="rbint-74866.html">
    <link rel="next" href="rbint-83530.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="rbint-about.html">About</a></li>


          

<li><a href="rbint-74866.html">Previous</a></li>


          

<li><a href="rbint-64347.html">Up</a></li>


          

<li><a href="rbint-83530.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <section>

      <nav class="menu box">
        <ul>
            <li>Lists</li>
            <ul>
              <li><a href="index.html">Comments</a></li>
              <li><a href="rbint-7995.html">Interrupts</a></li>
              <li><a href="rbint-15401.html">Glossary</a></li>
              <li><a href="rbint-64347.html">Memory</a></li>
              <li><a href="rbint-180090.html">CMOS</a></li>
              <li><a href="rbint-250757.html">86 Bugs</a></li>
              
            </ul>
        </ul>
      </nav>

      <article class="box">
        
  
  
    <pre class="entry"><span class="line"></span><br /><span class="line"><span class="ngu">Format of Extended BIOS Data Area (PhoenixBIOS 4.0)</span></span><br /><span class="line"></span><br /><span class="line">Offset  Size    Description     (Table M005)</span><br /><span class="line"> 00h   BYTE    length of XBDA in kilobytes</span><br /><span class="line"> 01h 33 BYTEs  reserved</span><br /><span class="line"> 22h   DWORD   Pointing Device Driver entry point</span><br /><span class="line"> 26h   BYTE    Pointing Device Flags 1 (see #M002)</span><br /><span class="line"> 27h   BYTE    Pointing Device Flags 2 (see #M003)</span><br /><span class="line"> 28h  8 BYTEs  Pointing Device Auxiliary Device Data</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #M001,#M004</span><br /><span class="line">--------B-M00400010--------------------------</span><br /><span class="line">MEM 0040h:0010h - INSTALLED HARDWARE</span><br /><span class="line">Size:  WORD</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> INT 11</span><br /><span class="line">Bitfields for BIOS-detected installed hardware:</span><br /><span class="line">Bit(s) Description (Table M006)</span><br /><span class="line"> 15-14 number of parallel devices</span><br /><span class="line">   00 or 11 sometimes used to indicate four LPT ports</span><br /><span class="line"> 13    (Convertible, PS/2-55LS) internal modem</span><br /><span class="line"> 12    game port installed</span><br /><span class="line"> 11-9  number of serial devices</span><br /><span class="line">   000 or 111 sometimes used to indicate eight COM ports</span><br /><span class="line"> 8 reserved</span><br /><span class="line"> 7-6   number of floppy disk drives (minus 1)</span><br /><span class="line"> 5-4   initial video mode</span><br /><span class="line">   00 EGA,VGA,PGA, or other with on-board video BIOS</span><br /><span class="line">   01 40x25 CGA color</span><br /><span class="line">   10 80x25 CGA color</span><br /><span class="line">   11 80x25 mono text</span><br /><span class="line"> 3-2   (PC only) RAM on motherboard</span><br /><span class="line">   00 = 16K, 01 = 32K, 10 = 48K, 11 = 64K</span><br /><span class="line">   (some XTs) RAM on motherboard</span><br /><span class="line">   00 = 64K, 01 = 128K, 10 = 192K, 11 = 256K</span><br /><span class="line"> 2 (pre-PS/2 except PC) reserved</span><br /><span class="line">   (PS/2, some XT clones, newer BIOSes) pointing device installed</span><br /><span class="line"> 1 math coprocessor installed</span><br /><span class="line"> 0 floppy disk drives are installed</span><br /><span class="line">   booted from floppy</span><br /><span class="line">--------B-M00400012--------------------------</span><br /><span class="line">MEM 0040h:0012h - Convertible - POST STATUS</span><br /><span class="line">Size:  BYTE</span><br /><span class="line">--------B-M00400012--------------------------</span><br /><span class="line">MEM 0040h:0012h U - AT - MANUFACTURING TEST INITIALIZATION FLAGS</span><br /><span class="line">Size:  BYTE</span><br /><span class="line">Bitfields for AT manufacturing test initialization flags:</span><br /><span class="line">Bit(s) Description (Table M007)</span><br /><span class="line"> 0 start in manufacturing test mode rather than normal operation</span><br /><span class="line"> 1-7   unused</span><br /><span class="line">--------b-M00400012--------------------------</span><br /><span class="line">MEM 0040h:0012h - MCA - MANUFACTURING TEST</span><br /><span class="line">Size:  BYTE</span><br /><span class="line">Bitfields for MCA manufacturing test flags :</span><br /><span class="line">Bit(s) Description (Table M008)</span><br /><span class="line"> 7 POST flag, ???</span><br /><span class="line"> 6-5   unused</span><br /><span class="line"> 4 POST flag, slot 4 has adapter identifier EDAFh</span><br /><span class="line"> 3 POST flag, 80x25 color video</span><br /><span class="line"> 2 POST flag, ???</span><br /><span class="line"> 1 unused</span><br /><span class="line"> 0 manufacturing test mode rather than normal operation</span><br /><span class="line">--------b-M00400012--------------------------</span><br /><span class="line">MEM 0040h:0012h - PS/2 Model 25 - POST SYSTEM FLAG</span><br /><span class="line">Size:  BYTE</span><br /><span class="line">Bitfields for PS/2 Model 25 POST sytem flag :</span><br /><span class="line">Bit(s) Description (Table M009)</span><br /><span class="line"> 0 optional memory failed; memory remapped</span><br /><span class="line"> 1 real-time clock installed</span><br /><span class="line">--------B-M00400013--------------------------</span><br /><span class="line">MEM 0040h:0013h - BASE MEMORY SIZE IN KBYTES</span><br /><span class="line">Size:  WORD</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> INT 12</span><br /><span class="line">--------b-M00400015--------------------------</span><br /><span class="line">MEM 0040h:0015h - PC, XT - ADAPTER MEMORY SIZE IN KBYTES</span><br /><span class="line">Size:  WORD</span><br /><span class="line">--------b-M00400015--------------------------</span><br /><span class="line">MEM 0040h:0015h U - AT - MANUFACTURING TEST SCRATCH PAD</span><br /><span class="line">Size:  BYTE</span><br /><span class="line">--------K-M00400015--------------------------</span><br /><span class="line">MEM 0040h:0015h - Compaq Deskpro 386 - PREVIOUS SCAN CODE</span><br /><span class="line">Size:  BYTE</span><br /><span class="line">--------b-M00400016--------------------------</span><br /><span class="line">MEM 0040h:0016h U - AT - MANUFACTURING TEST SCRATCH PAD</span><br /><span class="line">Size:  BYTE</span><br /><span class="line">--------b-M00400016--------------------------</span><br /><span class="line">MEM 0040h:0016h U - PS/2 Model 30 - BIOS CONTROL FLAGS</span><br /><span class="line">Size:  BYTE</span><br /><span class="line">--------K-M00400016--------------------------</span><br /><span class="line">MEM 0040h:0016h - Compaq Deskpro 386 - KEYCLICK VOLUME</span><br /><span class="line">Size:  BYTE</span><br /><span class="line">Range: 00h-7Fh</span><br /><span class="line">--------K-M00400017--------------------------</span><br /><span class="line">MEM 0040h:0017h - KEYBOARD - STATUS FLAGS 1</span><br /><span class="line">Size:  BYTE</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> MEM 0040h:0018h,INT 16/AH=02h,MEM 0040h:0096h</span><br /><span class="line">Bitfields for keyboard status flags 1:</span><br /><span class="line">Bit(s) Description (Table M010)</span><br /><span class="line"> 7 INSert active</span><br /><span class="line"> 6 Caps Lock active</span><br /><span class="line"> 5 Num Lock active</span><br /><span class="line"> 4 Scroll Lock active</span><br /><span class="line"> 3 either Alt pressed</span><br /><span class="line"> 2 either Ctrl pressed</span><br /><span class="line"> 1 Left Shift pressed</span><br /><span class="line"> 0 Right Shift pressed</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #M011,#0511</span><br /><span class="line">--------K-M00400018--------------------------</span><br /><span class="line">MEM 0040h:0018h - KEYBOARD - STATUS FLAGS 2</span><br /><span class="line">Size:  BYTE</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> MEM 0040h:0017h,INT 16/AH=12h</span><br /><span class="line">Bitfields for keyboard status flags 2 :</span><br /><span class="line">Bit(s) Description (Table M011)</span><br /><span class="line"> 7 INSert pressed</span><br /><span class="line"> 6 Caps Lock pressed</span><br /><span class="line"> 5 Num Lock pressed</span><br /><span class="line"> 4 Scroll Lock pressed</span><br /><span class="line"> 3 Pause state active</span><br /><span class="line"> 2 Sys Req pressed</span><br /><span class="line"> 1 Left Alt pressed</span><br /><span class="line"> 0 Left Ctrl pressed</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #M010,#0512</span><br /><span class="line">--------K-M00400019--------------------------</span><br /><span class="line">MEM 0040h:0019h - KEYBOARD - ALT-nnn KEYPAD WORKSPACE</span><br /><span class="line">Size:  BYTE</span><br /><span class="line"><span class="ngb">Desc:</span>  holds the current value of an Alt-NNN keypad sequence; when Alt is</span><br /><span class="line">     released and this byte is non-zero, the appropriate character is</span><br /><span class="line">     placed in the keyboard buffer</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> INT 16/AH=00h,MEM 0040h:001Ah</span><br /><span class="line">--------K-M0040001A--------------------------</span><br /><span class="line">MEM 0040h:001Ah - KEYBOARD - POINTER TO NEXT CHARACTER IN KEYBOARD BUFFER</span><br /><span class="line">Size:  WORD</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> MEM 0040h:001Ch,MEM 0040h:0080h,MEM 0040h:0082h,INT 16/AH=00h</span><br /><span class="line">--------K-M0040001C--------------------------</span><br /><span class="line">MEM 0040h:001Ch - KEYBOARD - POINTER TO FIRST FREE SLOT IN KEYBOARD BUFFER</span><br /><span class="line">Size:  WORD</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> MEM 0040h:001Ah,MEM 0040h:001Eh,MEM 0040h:0080h,MEM 0040h:0082h</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> INT 16/AH=00h</span><br /><span class="line">--------K-M0040001E--------------------------</span><br /><span class="line">MEM 0040h:001Eh - KEYBOARD - DEFAULT KEYBOARD CIRCULAR BUFFER</span><br /><span class="line">Size:  16 WORDs</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> MEM 0040h:001Ah,MEM 0040h:001Ch,MEM 0040h:0080h,MEM 0040h:0082h</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> INT 16/AH=00h,INT 16/AH=05h</span><br /><span class="line">--------B-M0040003E--------------------------</span><br /><span class="line">MEM 0040h:003Eh - DISKETTE - RECALIBRATE STATUS</span><br /><span class="line">Size:  BYTE</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> MEM 0040h:003Fh,MEM 0040h:0040h,INT 13/AH=00h,INT 13/AH=11h</span><br /><span class="line">Bitfields for diskette recalibrate status:</span><br /><span class="line">Bit(s) Description (Table M012)</span><br /><span class="line"> 7 diskette hardware interrupt occurred</span><br /><span class="line"> 6-4   reserved</span><br /><span class="line"> 3 recalibrate diskette 3 (PC,XT only)</span><br /><span class="line"> 2 recalibrate diskette 2 (PC,XT only)</span><br /><span class="line"> 1 recalibrate diskette 1</span><br /><span class="line"> 0 recalibrate diskette 0</span><br /><span class="line">--------B-M0040003F--------------------------</span><br /><span class="line">MEM 0040h:003Fh - DISKETTE - MOTOR STATUS</span><br /><span class="line">Size:  BYTE</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> MEM 0040h:003Eh,MEM 0040h:0040h</span><br /><span class="line">Bitfields for diskette motor status:</span><br /><span class="line">Bit(s) Description (Table M013)</span><br /><span class="line"> 7 current operation is write or format, rather than read or verify</span><br /><span class="line"> 6 reserved (DMA enabled on 82077)</span><br /><span class="line"> 5-4   diskette drive number selected (0-3)</span><br /><span class="line"> 3 diskette 3 motor on (PC,XT only)</span><br /><span class="line"> 2 diskette 2 motor on (PC,XT only)</span><br /><span class="line"> 1 diskette 1 motor on</span><br /><span class="line"> 0 diskette 0 motor on</span><br /><span class="line">--------B-M00400040--------------------------</span><br /><span class="line">MEM 0040h:0040h - DISKETTE - MOTOR TURN-OFF TIMEOUT COUNT</span><br /><span class="line">Size:  BYTE</span><br /><span class="line"><span class="ngb">Desc:</span>  number of clock ticks until diskette motor is turned off</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  the typical implementation of the timeout is to have the INT 08</span><br /><span class="line">     handler decrement this byte on every clock tick, and force the</span><br /><span class="line">     diskette motor off if the result is equal to zero</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> MEM 0040h:003Eh,MEM 0040h:003Fh,MEM 0040h:0041h,INT 08&#34;IRQ0&#34;</span><br /><span class="line">--------B-M00400041--------------------------</span><br /><span class="line">MEM 0040h:0041h - DISKETTE - LAST OPERATION STATUS</span><br /><span class="line">Size:  BYTE</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> MEM 0040h:003Eh,MEM 0040h:0042h,INT 13/AH=01h</span><br /><span class="line">Bitfields for diskette last operation status:</span><br /><span class="line">Bit(s) Description (Table M014)</span><br /><span class="line"> 7 drive not ready</span><br /><span class="line"> 6 seek error</span><br /><span class="line"> 5 general controller failure</span><br /><span class="line"> 4-0   error reason</span><br /><span class="line">   00h no error</span><br /><span class="line">   01h invalid request/parameter</span><br /><span class="line">   02h address mark not found</span><br /><span class="line">   03h write-protect error</span><br /><span class="line">   04h sector not found</span><br /><span class="line">   06h diskette change line active</span><br /><span class="line">   08h DMA overrun</span><br /><span class="line">   09h DMA across 64k boundary</span><br /><span class="line">   0Ch media type unknown</span><br /></pre>
  
  
  


      </article>

    </section>

  </body>

</html>

