





<!DOCTYPE html>
<html>

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.1.0 (ngdb v1.1.0)">
    <link rel="stylesheet" type="text/css" href="rbint-style.css">
    <title>Ralf Brown » Lists » Interrupts</title>
    <meta name="description" content="Ralf Brown">
    <link rel="prev" href="rbint-5077245.html">
    <link rel="next" href="rbint-5087583.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="rbint-about.html">About</a></li>


          

<li><a href="rbint-5077245.html">Previous</a></li>


          

<li><a href="rbint-5037937.html">Up</a></li>


          

<li><a href="rbint-5087583.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <section>

      <nav class="menu box">
        <ul>
            <li>Lists</li>
            <ul>
              <li><a href="index.html">Comments</a></li>
              <li><a href="rbint-7995.html">Interrupts</a></li>
              <li><a href="rbint-15401.html">Glossary</a></li>
              <li><a href="rbint-64347.html">Memory</a></li>
              <li><a href="rbint-180090.html">CMOS</a></li>
              <li><a href="rbint-250757.html">86 Bugs</a></li>
              
            </ul>
        </ul>
      </nav>

      <article class="box">
        
  
  
    <pre class="entry"><span class="line"></span><br /><span class="line"><span class="ngu">Int 61 Fn 0002  - Banyan Vines - 3270 Interface                          </span>  [<span class="ngb">I</span>]</span><br /><span class="line"></span><br /><span class="line">   AX = 0002h</span><br /><span class="line">   BH = function number (see #3017)</span><br /><span class="line">   DS:CX -&gt; argument block (except BH=00h,1Ah) (see #3019)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = status (see #3018)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Notes:</span> Either 3270/SNA or 3270/BSC interface may use AX=0002h, depending on</span><br /><span class="line">     which is loaded first.  The other interface will use AX=000Ah</span><br /><span class="line">   Status codes greater than 63h indicate an inconsistency in the 3270/SNA</span><br /><span class="line">     or 3270/BSC resident driver, which must be reloaded by the user</span><br /><span class="line"></span><br /><span class="line">(Table 3017)</span><br /><span class="line">Values for VINES 3270 interface function number:</span><br /><span class="line"> 00h &#34;pi2reset&#34;     reset 3270/SNA or 3270/BSC driver</span><br /><span class="line"> 02h &#34;pi2bsc&#34;   (3270/BSC only)</span><br /><span class="line"> 03h &#34;pi2get&#34;   get information stored in 3270 resident driver</span><br /><span class="line"> 04h &#34;pi2put&#34;   store information in 3270 resident driver</span><br /><span class="line"> 05h &#34;pi2gcur&#34;  get current screen position</span><br /><span class="line"> 07h &#34;pi2sdat&#34;  send data keystroke</span><br /><span class="line"> 08h &#34;pi2scom&#34;  send command keystroke</span><br /><span class="line"> 0Ah &#34;pi2field&#34;     get field info for arbitrary screen positions</span><br /><span class="line"> 0Fh &#34;pi2stat&#34;  get logical unit/device status</span><br /><span class="line"> 12h &#34;pi2nlus&#34;  determine logical unit/device assignment</span><br /><span class="line"> 13h &#34;pi2gate&#34;  specifies comm port address to gateway service</span><br /><span class="line"> 14h &#34;pi2attach&#34; attach a logical unit/device</span><br /><span class="line"> 15h &#34;pi2sdev&#34;  save logical unit/device info in resident driver</span><br /><span class="line">       (not supported in &gt;3.0)</span><br /><span class="line"> 16h &#34;pi2gdev&#34;  get device information (not supported in &gt;3.0)</span><br /><span class="line"> 17h &#34;pi2luinfo&#34; get info about specific logical unit/device</span><br /><span class="line"> 18h &#34;pi2gerr&#34;  get finer error detail</span><br /><span class="line"> 19h &#34;pi2dhold&#34;     (3270/SNA only)  holds a 3270 device</span><br /><span class="line"> 1Ah &#34;pi2shut&#34;  release memory-resident module</span><br /><span class="line"> 1Ch &#34;pi2sprof&#34;     save profile info in res driver (not supp in &gt;3.0)</span><br /><span class="line"> 1Dh &#34;pi2gprof&#34;     get prevsly stored profile info (not supp in &gt;3.0)</span><br /><span class="line"></span><br /><span class="line">(Table 3018)</span><br /><span class="line">Values for VINES 3270 status:</span><br /><span class="line"> 0000h successful</span><br /><span class="line"> 000Bh invalid parameter or data does not fit data area</span><br /><span class="line"> 000Ch another code path currently active in resident driver</span><br /><span class="line"> 000Dh operation currently not allowed</span><br /><span class="line"> 0032h encountered connection disconnect error</span><br /><span class="line"> 0033h encountered &#34;sosend&#34; completion error</span><br /><span class="line"> 0034h encountered &#34;sosend&#34; communication error</span><br /><span class="line"> 0035h attach request refused. extended error info via &#34;pi2gerr&#34;:</span><br /><span class="line">   01h resource unavailable</span><br /><span class="line">   02h invalid type</span><br /><span class="line">   03h version mismatch</span><br /><span class="line">   04h invalid logical unit number</span><br /><span class="line">   05h error during ARL processing</span><br /><span class="line">   06h no access for user</span><br /><span class="line"> 0071h encountered &#34;sosock&#34; error</span><br /><span class="line"> 0072h encountered unrecognizable error</span><br /><span class="line"> 0073h encountered &#34;sowait&#34; error (extended info via &#34;pi2gerr&#34;)</span><br /><span class="line"> 0074h encountered invalid type-of-request on &#34;sowait&#34;</span><br /><span class="line"> 0075h encountered &#34;sorec&#34; error (extended info via &#34;pi2gerr&#34;)</span><br /><span class="line"> 0076h encountered &#34;sorec&#34; completion error (ext info via &#34;pi2gerr&#34;)</span><br /><span class="line"> 0077h encountered connection request</span><br /><span class="line"> 0078h encountered unrecognizable data</span><br /><span class="line"> 0079h encountered unknown connection ID (ext info via &#34;pi2gerr&#34;)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2996</span><br /><span class="line"></span><br /><span class="line">Format of argument block for BH=03h,04h:</span><br /><span class="line">Offset Size    Description (Table 3019)</span><br /><span class="line"> 00h   WORD    size of data area (max 256)</span><br /><span class="line"> 02h  N BYTEs  data area</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #3020,#3021,#3022</span><br /><span class="line"></span><br /><span class="line">Format of argument block for BH=05h:</span><br /><span class="line">Offset Size    Description (Table 3020)</span><br /><span class="line"> 00h   WORD    logical unit/device number</span><br /><span class="line"> 02h   WORD    pointer to WORD buffer for cursor index</span><br /><span class="line"> 04h   WORD    pointer to BYTE buffer for current field attribute</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #3019,#3021,#3022</span><br /><span class="line"></span><br /><span class="line">Format of argument block for BH=07h:</span><br /><span class="line">Offset Size    Description (Table 3021)</span><br /><span class="line"> 00h   WORD    logical unit/device number</span><br /><span class="line"> 02h   WORD    ASCII data byte</span><br /><span class="line"> 04h   WORD    pointer to WORD count of characters which will need updating</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #3019,#3020,#3022</span><br /><span class="line"></span><br /><span class="line">Format of argument block for BH=08h:</span><br /><span class="line">Offset Size    Description (Table 3022)</span><br /><span class="line"> 00h   WORD    logical unit/device number</span><br /><span class="line"> 02h   WORD    3270 keystroke (see #3023)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #3019,#3020,#3021,#3024</span><br /><span class="line"></span><br /><span class="line">(Table 3023)</span><br /><span class="line">Values for 3270 keystroke:</span><br /><span class="line"> 0000h Enter</span><br /><span class="line"> 0001h Clear</span><br /><span class="line"> 0002h PA1</span><br /><span class="line"> 0003h PA2</span><br /><span class="line"> 0004h PA3</span><br /><span class="line"> 0005h PF1</span><br /><span class="line"> ...</span><br /><span class="line"> 001Ch PF24</span><br /><span class="line"> 001Dh CSELECT (cursor select)</span><br /><span class="line"> 001Eh Insert</span><br /><span class="line"> 001Fh Delete</span><br /><span class="line"> 0020h EOField</span><br /><span class="line"> 0021h EINPUT (erase input)</span><br /><span class="line"> 0022h Reset</span><br /><span class="line"> 0023h Attention</span><br /><span class="line"> 0024h SysReq</span><br /><span class="line"> 0025h Duplicate</span><br /><span class="line"> 0026h Fieldmark</span><br /><span class="line"> 0027h Home</span><br /><span class="line"> 0028h NextLine</span><br /><span class="line"> 0029h Tab</span><br /><span class="line"> 002Ah BackTab</span><br /><span class="line"> 002Bh cursor up</span><br /><span class="line"> 002Ch cursor down</span><br /><span class="line"> 002Dh cursor right</span><br /><span class="line"> 002Eh cursor left</span><br /><span class="line"> 002Fh double cursor right</span><br /><span class="line"> 0030h double cursor left</span><br /><span class="line"> 0031h PRINT</span><br /><span class="line"> 0032h CANCEL</span><br /><span class="line"> 0033h Backspace</span><br /><span class="line"></span><br /><span class="line">Format of argument block for BH=0Ah:</span><br /><span class="line">Offset Size    Description (Table 3024)</span><br /><span class="line"> 00h   WORD    logical unit/device number</span><br /><span class="line"> 02h   WORD    screen index</span><br /><span class="line"> 04h   WORD    pointer to WORD buffer for field length</span><br /><span class="line"> 06h   WORD    pointer to WORD buffer for offset in screen of field start</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #3022,#3025</span><br /><span class="line"></span><br /><span class="line">Format of argument block for BH=0Fh:</span><br /><span class="line">Offset Size    Description (Table 3025)</span><br /><span class="line"> 00h   WORD    logical unit/device number</span><br /><span class="line"> 02h   WORD    clear mask (clear these bits of status after returning status)</span><br /><span class="line"> 04h   WORD    pointer to WORD buffer for device status (see #3026)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #3024,#3027</span><br /><span class="line"></span><br /><span class="line">Bitfields for Banyan 3270 device status:</span><br /><span class="line">Bit(s) Description (Table 3026)</span><br /><span class="line"> 10    status modified</span><br /><span class="line"> 9 buffer modified</span><br /><span class="line"> 8 set cursor</span><br /><span class="line"> 5 sound alarm</span><br /><span class="line"> 1-0   size of print line for printer logical units</span><br /><span class="line">   00  unformatted line</span><br /><span class="line">   01  40-character line</span><br /><span class="line">   10  64-character line</span><br /><span class="line">   11  80-character line</span><br /><span class="line"></span><br /><span class="line">Format of argument block for BH=12h:</span><br /><span class="line">Offset Size    Description (Table 3027)</span><br /><span class="line"> 00h   WORD    pointer to WORD buffer for number of logical units or devices</span><br /><span class="line"> 02h   WORD    pointer to WORD buffer for version number</span><br /><span class="line"> 04h   WORD    pointer to 64-byte buffer for logical unit/device list</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #3025,#3028</span><br /><span class="line"></span><br /><span class="line">Format of argument block for BH=13h:</span><br /><span class="line">Offset Size    Description (Table 3028)</span><br /><span class="line"> 00h 16 BYTEs  communications port address (see #2999)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #3027,#3029</span><br /><span class="line"></span><br /><span class="line">Format of argument block for BH=14h:</span><br /><span class="line">Offset Size    Description (Table 3029)</span><br /><span class="line"> 00h   WORD    logical unit/device number</span><br /><span class="line">       0000h attach any free device of the specified type</span><br /><span class="line"> 02h   WORD    logical unit/device type</span><br /><span class="line">       (3270/SNA) 01h, 02h, or 03h</span><br /><span class="line">       (3270/BSC) 02h display</span><br /><span class="line">       (3270/BSC) 03h printer</span><br /><span class="line"> 04h   WORD    pointer to WORD buffer for attached logical unit/device number</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #3028,#3030</span><br /><span class="line"></span><br /><span class="line">Format of argument block for BH=16h:</span><br /><span class="line">Offset Size    Description (Table 3030)</span><br /><span class="line"> 00h   WORD    pointer to 18-byte buffer for device block (see #3035)</span><br /><span class="line">       first WORD must be set to desired logical unit/device number</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #3029,#3031</span><br /><span class="line"></span><br /><span class="line">Format of argument block for BH=17h:</span><br /><span class="line">Offset Size    Description (Table 3031)</span><br /><span class="line"> 00h   WORD    logical unit/device number</span><br /><span class="line"> 02h   WORD    pointer to information block in caller&#39;s DS (see #3036)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #3030,#3032</span><br /><span class="line"></span><br /><span class="line">Format of argument block for BH=18h:</span><br /><span class="line">Offset Size    Description (Table 3032)</span><br /><span class="line"> 00h   WORD    pointer to WORD buffer for major error code</span><br /><span class="line"> 02h   WORD    pointer to WORD buffer for minor error code</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #3031,#3033</span><br /><span class="line"></span><br /><span class="line">Format of argument block for BH=19h:</span><br /><span class="line">Offset Size    Description (Table 3033)</span><br /><span class="line"> 00h   WORD    logical unit/device number</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #3032,#3034</span><br /><span class="line"></span><br /><span class="line">Format of argument block for BH=1Ch,1Dh:</span><br /><span class="line">Offset Size    Description (Table 3034)</span><br /><span class="line"> 00h   WORD    pointer to profile block in caller&#39;s DS (see #3039)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #3019,#3033</span><br /><span class="line"></span><br /><span class="line">Format of device block, argument block for BH=15h:</span><br /><span class="line">Offset Size    Description (Table 3035)</span><br /><span class="line"> 00h   WORD    logical unit/device number</span><br /><span class="line"> 02h   WORD    logical unit/device type</span><br /><span class="line"> 04h   WORD    display model number</span><br /><span class="line"> 06h   WORD    numeric checking</span><br /><span class="line"> 08h   WORD    status line</span><br /><span class="line"> 0Ah   BYTE    unprotected normal field attribute</span><br /><span class="line"> 0Bh   BYTE    unprotected intensified field attribute</span><br /><span class="line"> 0Ch   BYTE    protected normal field attribute</span><br /><span class="line"> 0Dh   BYTE    protected intensified field attribute</span><br /><span class="line"> 0Eh   WORD    reserved</span><br /><span class="line"> 10h   WORD    printer port number</span><br /><span class="line"></span><br /><span class="line">Format of information block:</span><br /><span class="line">Offset Size    Description (Table 3036)</span><br /><span class="line"> 00h   WORD    device model number</span><br /><span class="line"> 02h   DWORD   screen buffer pointer</span><br /><span class="line"> 06h   DWORD   status line pointer (see #3037)</span><br /><span class="line"> 0Ah   DWORD   reserved</span><br /><span class="line"></span><br /><span class="line">Format of Banyan VINES 3270 status line:</span><br /><span class="line">Offset Size    Description (Table 3037)</span><br /><span class="line"> 00h   BYTE    comm line status</span><br /><span class="line">       00h inactive</span><br /><span class="line">       01h active</span><br /><span class="line"> 01h   BYTE    activation level</span><br /><span class="line">       01h physical unit activated</span><br /><span class="line">       02h logical unit also activated</span><br /><span class="line">       03h session is bound</span><br /><span class="line"> 02h   BYTE    data traffic state</span><br /><span class="line">       00h inactive</span><br /><span class="line">       01h active</span><br /><span class="line"> 03h   BYTE    screen ownership</span><br /><span class="line">       00h SLU-&gt;PLU session owns screen</span><br /><span class="line">       01h SLU-&gt;SSCP session owns screen</span><br /><span class="line"> 04h   BYTE    keyboard status (see #3038)</span><br /><span class="line"> 05h   BYTE    insert mode</span><br /><span class="line">       01h if in insert mode</span><br /><span class="line"> 06h   BYTE    numeric</span><br /><span class="line">       01h if current screen buffer is numeric only</span><br /><span class="line"> 07h   BYTE    printer status</span><br /><span class="line">       00h printer not assigned</span><br /><span class="line">       01h printer is inactive</span><br /><span class="line">       02h printer error</span><br /><span class="line">       03h currently printing</span><br /><span class="line">       04h printer is busy</span><br /><span class="line">       05h printer is very busy</span><br /><span class="line"> 08h   BYTE    printer assignment</span><br /><span class="line"> 09h   BYTE    maximum size of network name</span><br /><span class="line"> 0Ah  N BYTEs  ASCIZ network name</span><br /><span class="line">   BYTE    maximum size of message window</span><br /><span class="line">      M BYTEs  null-terminated message window</span><br /><span class="line">   BYTE    code set</span><br /><span class="line">       00h EBCDIC</span><br /><span class="line">       01h ASCII</span><br /><span class="line">      M BYTEs  extended attributes</span><br /><span class="line">       01h extended attributes are in effect (stored at screen+1920)</span><br /><span class="line">           each extended attribute specifies</span><br /><span class="line">           bits 0,1: 00=normal, 01=blink, 10=reverse, 11=underscor</span><br /><span class="line">           bits 2-4: 000=default,001=blue,010=red,011=pink,</span><br /><span class="line">                 100=green,101=turquoise,110=yellow,111=white</span><br /><span class="line">   BYTE    extended color</span><br /><span class="line">       01h other than base color is in effect</span><br /><span class="line"></span><br /><span class="line">(Table 3038)</span><br /><span class="line">Values for Banyan VINES 3270 keyboard status:</span><br /><span class="line"> 00h   UNLOCK - ready to accept data</span><br /><span class="line"> 01h   TIME - aid was struck</span><br /><span class="line"> 02h   SYSTEM - received response no restore</span><br /><span class="line"> 03h   FUNCTION - unavailable keyboard function</span><br /><span class="line"> 04h   INPUT - not currently used</span><br /><span class="line"> 05h   ENDFIELD - field filled in insert mode</span><br /><span class="line"> 06h   PROTECTED - attempt to enter in protected field</span><br /><span class="line"> 07h   NUMERIC - attempt to enter in numeric field</span><br /><span class="line"> 08h   PROGRAM - error in outbound data stream</span><br /><span class="line"></span><br /><span class="line">Format of Banyan VINES 3270 profile block:</span><br /><span class="line">Offset Size    Description (Table 3039)</span><br /><span class="line"> 00h 64 BYTEs  gateway service name</span><br /><span class="line"> 40h 16 BYTEs  gateway comm port address</span><br /><span class="line"> 50h   WORD    primary logical unit number</span><br /><span class="line"> 52h   WORD    secondary logical unit type</span><br /><span class="line"> 54h   WORD    secondary logical unit number</span><br /><span class="line"> 56h   WORD    printer assignment</span><br /><span class="line"> 58h 50 BYTEs  keyboard definitions filename</span><br /></pre>
  
  
  


      </article>

    </section>

  </body>

</html>

