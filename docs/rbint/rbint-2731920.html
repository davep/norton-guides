





<!DOCTYPE html>
<html>

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.2.0 (ngdb v1.1.0)">
    <link rel="stylesheet" type="text/css" href="rbint-style.css">
    <title>Ralf Brown » Lists » Interrupts</title>
    <meta name="description" content="Ralf Brown">
    <link rel="prev" href="rbint-2731534.html">
    <link rel="next" href="rbint-2734386.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="../index.html">Guides</a></li>


          

<li><a href="rbint-about.html">About</a></li>


          

<li><a href="rbint-2731534.html">Previous</a></li>


          

<li><a href="rbint-2693185.html">Up</a></li>


          

<li><a href="rbint-2734386.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <section>

      
        <nav class="menu box">
          <ul>
              <li>Lists</li>
              <ul>
                <li><a href="index.html">Comments</a></li>
                <li><a href="rbint-7995.html">Interrupts</a></li>
                <li><a href="rbint-15401.html">Glossary</a></li>
                <li><a href="rbint-64347.html">Memory</a></li>
                <li><a href="rbint-180090.html">CMOS</a></li>
                <li><a href="rbint-250757.html">86 Bugs</a></li>
                
              </ul>
          </ul>
        </nav>
      

      <article class="box">
        
  
  
    <pre class="entry"><span class="line"></span><br /><span class="line"><span class="ngu">Int 21 Fn 69  U - Dos 4.0+ Internal - Get/set Disk Serial Number         </span>  [<span class="ngb">D</span>]</span><br /><span class="line"></span><br /><span class="line">   AH = 69h</span><br /><span class="line">   AL = subfunction</span><br /><span class="line">       00h get serial number</span><br /><span class="line">       01h set serial number</span><br /><span class="line">   BL = drive (0=default, 1=A, 2=B, etc)</span><br /><span class="line">   BH = info level (00h only for DOS; OS/2 allows other levels)</span><br /><span class="line">   DS:DX -&gt; disk info (see #1455)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> CF set on error</span><br /><span class="line">       AX = error code (see #1366 at AH=59h/BX=0000h)</span><br /><span class="line">   CF clear if successful</span><br /><span class="line">       AX destroyed</span><br /><span class="line">       (AL = 00h) buffer filled with appropriate values from extended BPB</span><br /><span class="line">       (AL = 01h) extended BPB on disk set to values from buffer</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Notes:</span> does not generate a critical error; all errors are returned in AX</span><br /><span class="line">   error 0005h given if no extended BPB on disk</span><br /><span class="line">   does not work on network drives (error 0001h)</span><br /><span class="line">   buffer after first two bytes is exact copy of bytes 27h thru 3Dh of</span><br /><span class="line">     extended BPB on disk</span><br /><span class="line">   this function is supported under Novell NetWare versions 2.0A through</span><br /><span class="line">     3.11; the returned serial number is the one a DIR would display,</span><br /><span class="line">     the volume label is the NetWare volume label, and the file system</span><br /><span class="line">     is set to &#34;FAT16&#34;.</span><br /><span class="line">   this function is not supported by Novell DOS 7 through Update 13, but</span><br /><span class="line">     Personal NetWare 1.0 and Update 15 do support this function</span><br /><span class="line">   the serial number is computed from the current date and time when the</span><br /><span class="line">     disk is created; the first part is the sum of the seconds/hundredths</span><br /><span class="line">     and month/day, the second part is the sum of the hours/minutes and</span><br /><span class="line">     year</span><br /><span class="line">   the volume label which is read or set is the one stored in the extended</span><br /><span class="line">     BPB on disks formatted with DOS 4.0+, rather than the special root</span><br /><span class="line">     directory entry used by the DIR command in COMMAND.COM (use AH=11h</span><br /><span class="line">     to find that volume label)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> AX=440Dh&#34;DOS 3.2+&#34;</span><br /><span class="line"></span><br /><span class="line">Format of disk info:</span><br /><span class="line">Offset Size    Description (Table 1455)</span><br /><span class="line"> 00h   WORD    0000h (info level)</span><br /><span class="line"> 02h   DWORD   disk serial number (binary)</span><br /><span class="line"> 06h 11 BYTEs  volume label or &#34;NO NAME    &#34; if none present</span><br /><span class="line"> 11h  8 BYTEs  (AL=00h only) filesystem type (see #1456)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  under MS-DOS 7.0 or a Windows95 DOS box, the volume label field can be</span><br /><span class="line">     all blanks even when a volume label has been set (the Win95</span><br /><span class="line">     installation seems to blank the volume label field in the partition</span><br /><span class="line">     boot sector; once LABEL has been run, the volume label is reported</span><br /><span class="line">     correctly)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> AH=4Eh</span><br /><span class="line"></span><br /><span class="line">(Table 1456)</span><br /><span class="line">Values for filesystem type:</span><br /><span class="line"> &#34;FAT12      &#34; 12-bit FAT</span><br /><span class="line"> &#34;FAT16      &#34; 16-bit FAT</span><br /><span class="line"> &#34;CDROM      &#34; High-Sierra CD-ROM filesystem</span><br /><span class="line"> &#34;CD001      &#34; ISO 9660 CD-ROM filesystem</span><br /><span class="line"> &#34;CDAUDIO &#34;    audio CD</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #1455</span><br /></pre>
  
  
  


      </article>

    </section>

    
      <footer>
        <nav class="box">
          <dl>
            <dt>Generated</dt><dd>2025-12-02 09:10:33</dd>
            <dt>Generator</dt><dd><a href="https://ng2web.davep.dev">ng2web v1.2.0 (ngdb v1.1.0)</a></dd>
          </dl>
        </nav>
      </footer>
    

  </body>

</html>

