





<!DOCTYPE html>
<html>

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.1.0 (ngdb v1.1.0)">
    <link rel="stylesheet" type="text/css" href="rbint-style.css">
    <title>Ralf Brown » Lists » Interrupts</title>
    <meta name="description" content="Ralf Brown">
    <link rel="prev" href="rbint-1147944.html">
    <link rel="next" href="rbint-1160756.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="rbint-about.html">About</a></li>


          

<li><a href="rbint-1147944.html">Previous</a></li>


          

<li><a href="rbint-1061380.html">Up</a></li>


          

<li><a href="rbint-1160756.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <section>

      <nav class="menu box">
        <ul>
            <li>Lists</li>
            <ul>
              <li><a href="index.html">Comments</a></li>
              <li><a href="rbint-7995.html">Interrupts</a></li>
              <li><a href="rbint-15401.html">Glossary</a></li>
              <li><a href="rbint-64347.html">Memory</a></li>
              <li><a href="rbint-180090.html">CMOS</a></li>
              <li><a href="rbint-250757.html">86 Bugs</a></li>
              
            </ul>
        </ul>
      </nav>

      <article class="box">
        
  
  
    <pre class="entry"><span class="line"></span><br /><span class="line"><span class="ngu">Int 15 Fn 12  - Topview - Send Message - &#34;write&#34; - Write String To Window</span>  [<span class="ngb">Q</span>]</span><br /><span class="line"></span><br /><span class="line">   AH = 12h</span><br /><span class="line">   BH = 05h</span><br /><span class="line">   BL = window to write to</span><br /><span class="line">       00h DWORD on top of stack is window handle</span><br /><span class="line">       01h write string to task&#39;s default window</span><br /><span class="line">       0Ch (DV 2.26+) default window of task owning handle on top of stack</span><br /><span class="line">       0Dh (DV 2.26+) default window of parent of current task</span><br /><span class="line">   STACK: DWORD object handle if handle passed on stack</span><br /><span class="line">          DWORD total length of string (high word == 0)</span><br /><span class="line">          DWORD address of string to display (see #0365)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> indicated actions performed</span><br /><span class="line">   a. non-control characters are displayed (opcodes DEh and DFh control</span><br /><span class="line">      whether the attributes are left or changed to the current attrib)</span><br /><span class="line">   b. CR/LF/BS/Tab cause the usual cursor movement</span><br /><span class="line">   c. ESC starts a data structure with additional commands if following</span><br /><span class="line">      byte is less than 20h; otherwise, it is written to the window</span><br /><span class="line">   STACK:  DWORD handle of new window if window stream opcode E6h</span><br /><span class="line">       else nothing (arguments have been popped)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> AH=12h/BH=04h,AH=12h/BH=85h</span><br /><span class="line"></span><br /><span class="line">Format of stream data structure:</span><br /><span class="line">Offset Size    Description (Table 0365)</span><br /><span class="line"> 00h   BYTE    1Bh magic value identifying start of stream</span><br /><span class="line"> 01h   BYTE    stream type (00h, 01h, 10h, 14h-1Fh legal)</span><br /><span class="line">       (see #0366,#0372,#0373,#0374)</span><br /><span class="line"> 02h   WORD    length of remainder of stream in bytes</span><br /><span class="line">   var-length fields follow, each an OPCODE followed by</span><br /><span class="line">        zero or more args</span><br /><span class="line"></span><br /><span class="line">(Table 0366)</span><br /><span class="line">Values for MODE 00h (set or display values) &#34;WINDOW STREAM&#34; opcodes:</span><br /><span class="line">Opcodes:args</span><br /><span class="line"> 00h  display 20h blanks with the default attribute</span><br /><span class="line"> 01h-1Fh display OPCODE blanks with the default attribute</span><br /><span class="line"> 20h  display char with default attribute 20h times</span><br /><span class="line">   BYTE char to repeat</span><br /><span class="line"> 21h-3Fh display char with default attribute OPCODE-20h times</span><br /><span class="line">   BYTE char to repeat</span><br /><span class="line"> 40h  display 20h blanks with specified attribute</span><br /><span class="line">   BYTE attribute of blanks</span><br /><span class="line"> 41h-5Fh display OPCODE-40h blanks with specified attribute</span><br /><span class="line">   BYTE attribute of blanks</span><br /><span class="line"> 60h  display next 20h characters</span><br /><span class="line">   20h BYTEs characters to display</span><br /><span class="line"> 61h-7Fh display next OPCODE-60h characters</span><br /><span class="line">   N BYTEs characters to display</span><br /><span class="line"> 80h-87h display N blanks with default attribute</span><br /><span class="line">   BYTE low 8 bits of 11-bit count (high 3 in low 3 bits of OPCODE)</span><br /><span class="line">         [000h means 800h]</span><br /><span class="line"> 88h-8Fh display N copies of the character</span><br /><span class="line">   BYTE low 8 bits of 11-bit count (high 3 in low 3 bits of OPCODE)</span><br /><span class="line">         [000h means 800h]</span><br /><span class="line">   BYTE character to repeat</span><br /><span class="line"> 90h-97h display N blanks with specified attribute</span><br /><span class="line">   BYTE low 8 bits of 11-bit length (high 3 in low 3 bits of OPCODE)</span><br /><span class="line">         [000h means 800h]</span><br /><span class="line">   BYTE attribute</span><br /><span class="line"> 98h-9Fh display string at logical cursor pos</span><br /><span class="line">   BYTE low 8 bits of 11-bit length (high 3 in low 3 bits of OPCODE)</span><br /><span class="line">         [000h means 800h]</span><br /><span class="line">   N BYTEs string to display</span><br /><span class="line"> A0h  set logical cursor row</span><br /><span class="line">   BYTE row number (0 is top)</span><br /><span class="line"> A1h  set logical cursor column</span><br /><span class="line">   BYTE column number (0 is leftmost)</span><br /><span class="line"> A2h  set top edge of scrolling region</span><br /><span class="line">   BYTE row</span><br /><span class="line"> A3h  set left edge of scrolling region</span><br /><span class="line">   BYTE column</span><br /><span class="line"> A4h  set row of physical window position</span><br /><span class="line">   BYTE line</span><br /><span class="line"> A5h  set column of physical window position</span><br /><span class="line">   BYTE column</span><br /><span class="line"> A6h  set height of physical window</span><br /><span class="line">   BYTE number of rows</span><br /><span class="line"> A7h  set width of physical window</span><br /><span class="line">   BYTE number of columns</span><br /><span class="line"> A8h  set viewport row</span><br /><span class="line">   BYTE row</span><br /><span class="line"> A9h  set viewport column</span><br /><span class="line">   BYTE column</span><br /><span class="line"> AAh  set virtual screen height [contents of window unpredictable after]</span><br /><span class="line">   BYTE rows</span><br /><span class="line"> ABh  set virtual screen width [contents of window unpredictable after]</span><br /><span class="line">   BYTE columns</span><br /><span class="line"> ACh-AEh unused</span><br /><span class="line"> AFh  set compatible/preferred video modes</span><br /><span class="line">   BYTE compatibility/preference mask</span><br /><span class="line">       bit 7   compatible with monochrome</span><br /><span class="line">       bit 6   compatible with color text, EGA/VGA graphics</span><br /><span class="line">       bit 5   compatible with medium-resolution CGA graphics</span><br /><span class="line">       bit 4   compatible with high-resolution CGA graphics</span><br /><span class="line">       bit 3   prefer monochrome</span><br /><span class="line">       bit 2   prefer color text, EGA/VGA graphics</span><br /><span class="line">       bit 1   prefer medium-resolution CGA graphics</span><br /><span class="line">       bit 0   prefer high-resolution CGA graphics</span><br /><span class="line"> B0h  move logical cursor down</span><br /><span class="line">   BYTE number of rows (signed, negative values move up)</span><br /><span class="line">       [if rows=0 and hardware cursor owner, update hardware cursor]</span><br /><span class="line"> B1h  move logical cursor right</span><br /><span class="line">   BYTE number of columns (signed, negative values move left)</span><br /><span class="line">       [if cols=0 and hardware cursor owner, update hardware cursor]</span><br /><span class="line"> B2h  shift top edge of scrolling region</span><br /><span class="line">   BYTE number of rows (signed)</span><br /><span class="line"> B3h  shift left edge of scrolling region</span><br /><span class="line">   BYTE number of columns (signed)</span><br /><span class="line"> B4h  shift physical window down</span><br /><span class="line">   BYTE number of lines (signed)</span><br /><span class="line"> B5h  shift physical window right</span><br /><span class="line">   BYTE number of columns (signed)</span><br /><span class="line"> B6h  expand physical window vertically</span><br /><span class="line">   BYTE number of lines (signed)</span><br /><span class="line"> B7h  expand physical window horizontally</span><br /><span class="line">   BYTE number of columns (signed)</span><br /><span class="line"> B8h  adjust viewport row</span><br /><span class="line">   BYTE number of rows (signed)</span><br /><span class="line"> B9h  adjust viewport column</span><br /><span class="line">   BYTE number of columns (signed)</span><br /><span class="line"> BAh  adjust virtual screen height [contents of window unpredict after]</span><br /><span class="line">   BYTE number of rows to increase (signed)</span><br /><span class="line"> BBh  adjust virtual screen width [contents of window unpredictbl after]</span><br /><span class="line">   BYTE number of columns to increase (signed)</span><br /><span class="line"> BCh-BFh reserved (currently unused)</span><br /><span class="line"> C0h  set logical cursor position</span><br /><span class="line">   BYTE row number (0 is top border)</span><br /><span class="line">   BYTE column number (0 is left border)</span><br /><span class="line"> C1h  set top left corner of scrolling region</span><br /><span class="line">   BYTE row</span><br /><span class="line">   BYTE column</span><br /><span class="line"> C2h  set physical window pos</span><br /><span class="line">   BYTE upper left row (no top border if 0)</span><br /><span class="line">   BYTE upper left column (no left border if 0)</span><br /><span class="line"> C3h  set current window size</span><br /><span class="line">   BYTE number of rows</span><br /><span class="line">   BYTE number of columns</span><br /><span class="line"> C4h  set upper left corner of viewport (portion of virtual screen displayed</span><br /><span class="line">     in window)</span><br /><span class="line">   BYTE row</span><br /><span class="line">   BYTE column</span><br /><span class="line"> C5h  set size of virtual screen [contents unpredictable afterwards]</span><br /><span class="line">   BYTE number of rows</span><br /><span class="line">   BYTE number of columns</span><br /><span class="line"> C6h  unused</span><br /><span class="line"> C7h  unused</span><br /><span class="line"> C8h  set logical cursor relative to current position</span><br /><span class="line">   BYTE number of rows to move down (signed)</span><br /><span class="line">   BYTE number of columns to move right (signed)</span><br /><span class="line">       [if rows=cols=0 and hardware cursor owner, update hardw cursor]</span><br /><span class="line"> C9h  shift top left corner of scrolling region</span><br /><span class="line">   BYTE number of rows (signed)</span><br /><span class="line">   BYTE number of columns (signed)</span><br /><span class="line"> CAh  set window pos relative to current position</span><br /><span class="line">   BYTE number of rows to shift down (signed)</span><br /><span class="line">   BYTE number of columns to shift right (signed)</span><br /><span class="line"> CBh  set window size relative to current size</span><br /><span class="line">   BYTE number of rows to expand (signed)</span><br /><span class="line">   BYTE number of cols to expand (signed)</span><br /><span class="line"> CCh  shift viewport relative to current position</span><br /><span class="line">   BYTE rows to shift (signed)</span><br /><span class="line">   BYTE cols to shift (signed)</span><br /><span class="line"> CDh  resize virtual screen</span><br /><span class="line">   BYTE number of rows to expand (signed)</span><br /><span class="line">   BYTE number of columns to expand (signed)</span><br /><span class="line"> CEh  scroll text when using E8h-EBh/F8h-FBh opcodes (default)</span><br /><span class="line"> CFh  scroll attributes when using  E8h-EBh/F8h-FBh opcodes</span><br /><span class="line"> D0h  allow window frame to extend beyond screen</span><br /><span class="line"> D1h  always display a complete frame, even if window extends beyond edge of</span><br /><span class="line">     screen</span><br /><span class="line"> D2h  allow DV to change logical colors on video mode switch (default)</span><br /><span class="line"> D3h  application changes logical attributes</span><br /><span class="line"> D4h  window is visible [must redraw to actually make visible]</span><br /><span class="line"> D5h  window is hidden [must redraw to actually remove]</span><br /><span class="line"> D6h  window has frame (default)</span><br /><span class="line"> D7h  window unframed [must redraw to actually remove frame]</span><br /><span class="line"> D8h  READ/READN will read characters from window (default)</span><br /><span class="line"> D9h  READ/READN will read attributes from window</span><br /><span class="line"> DAh  use logical attributes, which may be remapped (see #0367)</span><br /><span class="line"> DBh  use physical attributes for characters</span><br /><span class="line"> DCh  enable special actions for control characters (default)</span><br /><span class="line"> DDh  disable special control char handling, all chars displayable by BIOS TTY</span><br /><span class="line">     call</span><br /><span class="line"> DEh  write both character and attribute (default)</span><br /><span class="line"> DFh  write character only, leave attribute untouched</span><br /><span class="line"> E0h  repeat following commands through E1h opcode</span><br /><span class="line">   BYTE number of times to repeat (00h means 256 times)</span><br /><span class="line"> E1h  end of commands to repeat, start repeating them</span><br /><span class="line"> E2h  set current output color</span><br /><span class="line">   BYTE color</span><br /><span class="line"> E3h  clear virtual screen from scroll origin to end using current color</span><br /><span class="line"> E4h  redraw window</span><br /><span class="line"> E5h  select menu style</span><br /><span class="line">   BYTE style (normally 18h)</span><br /><span class="line">       bits 5,4 = 01 use two-letter menu entries for remainder of</span><br /><span class="line">         this stream</span><br /><span class="line"> E5h  (panel file only)</span><br /><span class="line">   BYTE modifier</span><br /><span class="line">       bits 7,6 = 11 panel stream creates new window</span><br /><span class="line">            = 10 panel defines new field table for existing window</span><br /><span class="line">            = 01 panel stream uses existing window &amp; field table</span><br /><span class="line">       bit 5 = 1 stream contains a field table (create kyboard object)</span><br /><span class="line">       bit 4 = 1 stream defines input fields (create keyboard object)</span><br /><span class="line">       bit 3 = 1 stream defines select fields but not input fields</span><br /><span class="line">       bit 2 = 1 stream defines exclusive input window (DV 2.2)</span><br /><span class="line">       bit 1 reserved</span><br /><span class="line">       bit 0 reserved</span><br /><span class="line"> E6h  create new window and perform rest of manipulations in new window</span><br /><span class="line">   BYTE number of rows</span><br /><span class="line">   BYTE number of columns</span><br /><span class="line"></span><br /><span class="line">   <span class="ngb">Return:</span> DWORD object handle of new window returned on stack at end</span><br /><span class="line"></span><br /><span class="line">   <span class="ngb">Note:</span>   the window is created with a physical size of 0x0 at the</span><br /><span class="line">         same position as the window to which this stream was sent</span><br /><span class="line"> E7h  no operation</span><br /><span class="line"> E8h  scroll area up (top left corner defined by opcode C1h)</span><br /><span class="line">   BYTE height</span><br /><span class="line">   BYTE width</span><br /><span class="line"> E9h  scroll area down (top left corner defined by opcode C1h)</span><br /><span class="line">   BYTE height</span><br /><span class="line">   BYTE width</span><br /><span class="line"> EAh  scroll area left (top left corner defined by opcode C1h)</span><br /><span class="line">   BYTE height</span><br /><span class="line">   BYTE width</span><br /><span class="line"> EBh  scroll area right (top left corner defined by opcode C1h)</span><br /><span class="line">   BYTE height</span><br /><span class="line">   BYTE width</span><br /><span class="line"> ECh  set logical attributes for window contents</span><br /><span class="line">   BYTE video modes command applies to</span><br /><span class="line">       bit 7   monochrome</span><br /><span class="line">       bit 6   color text, EGA/VGA graphics</span><br /><span class="line">       bit 5   medium-resolution CGA graphics</span><br /><span class="line">       bit 4   high-resolution CGA graphics</span><br /><span class="line">   BYTE which attributes to set</span><br /><span class="line">       bit 7   if set, copy single following byte to indicated attribs</span><br /><span class="line">       bits 4-6  number of first attribute to change - 1</span><br /><span class="line">       bits 0-3  number of consecutive attributes to change</span><br /><span class="line">   N BYTEs new attributes</span><br /><span class="line"> EDh  set logical attributes for window frame</span><br /><span class="line">   BYTE video modes command applies to (also see opcode ECh)</span><br /><span class="line">   BYTE which attributes to set</span><br /><span class="line">       bit 7   if set, copy single following byte to indicated attrs</span><br /><span class="line">       bits 4-6  number of first attribute to change - 1</span><br /><span class="line">       bits 0-3  number of consecutive attributes to change</span><br /><span class="line">   N BYTEs new attributes</span><br /><span class="line">         attributes</span><br /><span class="line">              1 = top left corner</span><br /><span class="line">              2 = top right corner</span><br /><span class="line">              3 = bottom left corner</span><br /><span class="line">              4 = bottom right corner</span><br /><span class="line">              5 = top edge</span><br /><span class="line">              6 = bottom edge</span><br /><span class="line">              7 = left edge</span><br /><span class="line">              8 = right edge</span><br /><span class="line"> EEh  set characters for window frame</span><br /><span class="line">   BYTE video modes command applies to (also see opcode ECh)</span><br /><span class="line">   BYTE which characters to set</span><br /><span class="line">       bit 7   if set, copy single following byte to indicated chars</span><br /><span class="line">       bits 4-6  number of first character to change - 1</span><br /><span class="line">       bits 0-3  number of consecutive characters to change</span><br /><span class="line">   N BYTEs new chars (same relative position as attributes above)</span><br /><span class="line"> EFh  set window name</span><br /><span class="line">   BYTE length of name (should be in range 0 to logical screen width)</span><br /><span class="line">   N BYTEs name</span><br /><span class="line"> F0h  clear input field to blanks</span><br /><span class="line">   BYTE field number</span><br /><span class="line"> F1h  fill input field with character</span><br /><span class="line">   BYTE field number</span><br /><span class="line">   BYTE char</span><br /><span class="line"> F2h  set color of input field</span><br /><span class="line">   BYTE field number (1-N)</span><br /><span class="line">   BYTE attribute</span><br /><span class="line"> F3h  set initial contents of input field</span><br /><span class="line">   BYTE field number (1-N)</span><br /><span class="line">   N BYTEs enough chars to exactly fill field as defined by op FFh</span><br /><span class="line"> F4h  position cursor to start of specific input field</span><br /><span class="line">   BYTE field number (1-N)</span><br /><span class="line"> F5h  change field table entry</span><br /><span class="line">   BYTE field number</span><br /><span class="line">   7-8 BYTEs field table entry (also see opcode FFh below)</span><br /><span class="line"> F6h  set field type</span><br /><span class="line">   BYTE field number</span><br /><span class="line">   BYTE type</span><br /><span class="line">       00h inactive</span><br /><span class="line">       40h output field</span><br /><span class="line">       80h input field</span><br /><span class="line">       C0h deselected field</span><br /><span class="line">       C2h selected field</span><br /><span class="line"> F7h  &#34;broadcast write&#34;    write data to fields with program output bit set in</span><br /><span class="line">     the field table entry, in field number order</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">.NG limit reached, continued in next section...</span></span><br /></pre>
  
  
  


      </article>

    </section>

  </body>

</html>

