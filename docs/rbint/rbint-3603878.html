





<!DOCTYPE html>
<html>

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.2.0 (ngdb v1.1.0)">
    <link rel="stylesheet" type="text/css" href="rbint-style.css">
    <title>Ralf Brown » Lists » Interrupts</title>
    <meta name="description" content="Ralf Brown">
    <link rel="prev" href="rbint-3602091.html">
    <link rel="next" href="rbint-3608759.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="../index.html">Guides</a></li>


          

<li><a href="rbint-about.html">About</a></li>


          

<li><a href="rbint-3602091.html">Previous</a></li>


          

<li><a href="rbint-3558542.html">Up</a></li>


          

<li><a href="rbint-3608759.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <section>

      
        <nav class="menu box">
          <ul>
              <li>Lists</li>
              <ul>
                <li><a href="index.html">Comments</a></li>
                <li><a href="rbint-7995.html">Interrupts</a></li>
                <li><a href="rbint-15401.html">Glossary</a></li>
                <li><a href="rbint-64347.html">Memory</a></li>
                <li><a href="rbint-180090.html">CMOS</a></li>
                <li><a href="rbint-250757.html">86 Bugs</a></li>
                
              </ul>
          </ul>
        </nav>
      

      <article class="box">
        
  
  
    <pre class="entry"><span class="line"></span><br /><span class="line"><span class="ngu">Int 2F Fn 0803  U - Dos 4.0+ Driver.sys Support - Get Drive Data Table Li</span>  [<span class="ngb">D</span>]</span><br /><span class="line"></span><br /><span class="line">   AX = 0803h</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> DS:DI -&gt; first drive data table in list (see #2288,#2289,#2290)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  not available under DR DOS 5.0, but supported by Novell DOS 7 (using</span><br /><span class="line">     the MS-DOS 4+ data table format)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> AX=0801h</span><br /><span class="line"></span><br /><span class="line">Format of DOS 3.30 drive data table:</span><br /><span class="line">Offset Size    Description (Table 2288)</span><br /><span class="line"> 00h   DWORD   pointer to next table (offset FFFFh if last table)</span><br /><span class="line"> 04h   BYTE    physical unit number (for INT 13)</span><br /><span class="line"> 05h   BYTE    logical drive number (0=A:)</span><br /><span class="line"> 06h 19 BYTEs  BIOS Parameter Block (see also INT 21/AH=53h)</span><br /><span class="line">       Offset  Size    Description</span><br /><span class="line">        00h    WORD    bytes per sector</span><br /><span class="line">        02h    BYTE    sectors per cluster, FFh if unknown</span><br /><span class="line">        03h    WORD    number of reserved sectors</span><br /><span class="line">        05h    BYTE    number of FATs</span><br /><span class="line">        06h    WORD    number of root dir entries</span><br /><span class="line">        08h    WORD    total sectors</span><br /><span class="line">        0Ah    BYTE    media descriptor, 00h if unknown</span><br /><span class="line">        0Bh    WORD    sectors per FAT</span><br /><span class="line">        0Dh    WORD    sectors per track</span><br /><span class="line">        0Fh    WORD    number of heads</span><br /><span class="line">        11h    WORD    number of hidden sectors</span><br /><span class="line"> 19h   BYTE    flags</span><br /><span class="line">       bit 6: 16-bit FAT instead of 12-bit FAT</span><br /><span class="line"> 1Ah   WORD    number of DEVICE OPEN calls without corresponding DEVICE CLOSE</span><br /><span class="line"> 1Ch 11 BYTEs  volume label or &#34;NO NAME    &#34; if none (always &#34;NO NAME&#34; for</span><br /><span class="line">         fixed media)</span><br /><span class="line"> 27h   BYTE    terminating null for volume label???</span><br /><span class="line"> 28h   BYTE    device type (see #1248 at INT 21/AX=440Dh&#34;DOS 3.2+&#34;)</span><br /><span class="line"> 29h   WORD    bit flags describing drive (see #2291)</span><br /><span class="line"> 2Bh   WORD    number of cylinders</span><br /><span class="line"> 2Dh 19 BYTEs  BIOS Parameter Block for highest capacity supported</span><br /><span class="line"> 40h  3 BYTEs  ???</span><br /><span class="line"> 43h  9 BYTEs  filesystem type???, default = &#34;NO NAME  &#34;</span><br /><span class="line">       (apparently only MS-DOS 3.30 fixed media, nulls for removable</span><br /><span class="line">         media and PC-DOS 3.30)</span><br /><span class="line"> 4Ch   BYTE    least-significant byte of last-accessed cylinder number</span><br /><span class="line">---removable media---</span><br /><span class="line"> 4Dh   DWORD   time of last access in clock ticks (FFFFFFFFh if never)</span><br /><span class="line">---fixed media---</span><br /><span class="line"> 4Dh   WORD    partition (FFFFh = primary, 0001h = extended)</span><br /><span class="line"> 4Fh   WORD    absolute cylinder number of partition&#39;s start on physical</span><br /><span class="line">         drive (always FFFFh if primary partition)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2289,#2290</span><br /><span class="line"></span><br /><span class="line">Format of COMPAQ DOS 3.31 drive data table:</span><br /><span class="line">Offset Size    Description (Table 2289)</span><br /><span class="line"> 00h   DWORD   pointer to next table (offset FFFFh if last table)</span><br /><span class="line"> 04h   BYTE    physical unit number (for INT 13)</span><br /><span class="line"> 05h   BYTE    logical drive number (0=A:)</span><br /><span class="line"> 06h 25 BYTEs  BIOS Parameter Block (see #2290)</span><br /><span class="line"> 1Fh  6 BYTEs  reserved fields from BPB above???</span><br /><span class="line"> 25h   BYTE    flags</span><br /><span class="line">       bit 6: 16-bit FAT instead of 12-bit FAT</span><br /><span class="line">       bit 5: large volume???</span><br /><span class="line"> 26h   WORD    device-open count???</span><br /><span class="line"> 28h 11 BYTEs  volume label or &#34;NO NAME    &#34; if none (always &#34;NO NAME&#34; for</span><br /><span class="line">         fixed media)</span><br /><span class="line"> 33h   BYTE    terminating null for volume label</span><br /><span class="line"> 34h   BYTE    device type (see #1248 at INT 21/AX=440Dh&#34;DOS 3.2+&#34;)</span><br /><span class="line"> 35h   WORD    bit flags describing drive (see #2291)</span><br /><span class="line"> 37h   WORD    number of cylinders</span><br /><span class="line"> 39h 25 BYTEs  BIOS parameter block for highest capacity drive supports</span><br /><span class="line"> 52h  6 BYTEs  ??? apparently always zeros</span><br /><span class="line"> 58h   BYTE    least-significant byte of last-accessed cylinder number</span><br /><span class="line">---removable media---</span><br /><span class="line"> 59h   DWORD   time of last access in clock ticks (FFFFFFFFh if never)</span><br /><span class="line">---fixed media---</span><br /><span class="line"> 59h   WORD    partition (FFFFh = primary, 0001h = extended)</span><br /><span class="line"> 5Bh   WORD    absolute cylinder number of partition&#39;s start on physical</span><br /><span class="line">         drive (always FFFFh if primary partition)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2288,#2290</span><br /><span class="line"></span><br /><span class="line">Format of DOS 4.0-7.0 drive data table:</span><br /><span class="line">Offset Size    Description (Table 2290)</span><br /><span class="line"> 00h   DWORD   pointer to next table (offset FFFFh if last table)</span><br /><span class="line"> 04h   BYTE    physical unit number (for INT 13)</span><br /><span class="line"> 05h   BYTE    logical drive number (0=A:)</span><br /><span class="line"> 06h 25 BYTEs  BIOS Parameter Block (see also INT 21/AH=53h)</span><br /><span class="line">       Offset  Size    Description</span><br /><span class="line">        00h    WORD    bytes per sector</span><br /><span class="line">        02h    BYTE    sectors per cluster, FFh if unknown</span><br /><span class="line">        03h    WORD    number of reserved sectors</span><br /><span class="line">        05h    BYTE    number of FATs</span><br /><span class="line">        06h    WORD    number of root dir entries</span><br /><span class="line">        08h    WORD    total sectors (refer to offset 15h if zero)</span><br /><span class="line">        0Ah    BYTE    media descriptor, 00h if unknown</span><br /><span class="line">        0Bh    WORD    sectors per FAT</span><br /><span class="line">        0Dh    WORD    sectors per track</span><br /><span class="line">        0Fh    WORD    number of heads</span><br /><span class="line">        11h    DWORD   number of hidden sectors</span><br /><span class="line">        15h    DWORD   total sectors if WORD at 08h is zero</span><br /><span class="line"> 1Fh   BYTE    flags</span><br /><span class="line">       bit 6: 16-bit FAT instead of 12-bit</span><br /><span class="line">       bit 7: unsupportable disk (all accesses will return Not Ready)</span><br /><span class="line"> 20h   WORD    device-open count</span><br /><span class="line"> 22h   BYTE    device type (see #1248 at INT 21/AX=440Dh&#34;DOS 3.2+&#34;)</span><br /><span class="line"> 23h   WORD    bit flags describing drive (see #2291)</span><br /><span class="line"> 25h   WORD    number of cylinders (for partition only, if hard disk)</span><br /><span class="line"> 27h 25 BYTEs  BIOS Parameter Block for default (highest) capacity supported</span><br /><span class="line"> 40h  6 BYTEs  reserved (part of BPB above)</span><br /><span class="line"> 46h   BYTE    last track accessed</span><br /><span class="line">---removable media---</span><br /><span class="line"> 47h   DWORD   time of last access in clock ticks (FFFFFFFFh if never)</span><br /><span class="line">---fixed media---</span><br /><span class="line"> 47h   WORD    partition (FFFFh = primary, 0001h = extended)</span><br /><span class="line">       always 0001h for DOS 5+</span><br /><span class="line"> 49h   WORD    absolute cylinder number of partition&#39;s start on physical drive</span><br /><span class="line">       (FFFFh if primary partition in DOS 4.x)</span><br /></pre>
  
  
  


      </article>

    </section>

    
      <footer>
        <nav class="box">
          <dl>
            <dt>Generated</dt><dd>2025-12-02 09:10:33</dd>
            <dt>Generator</dt><dd><a href="https://ng2web.davep.dev">ng2web v1.2.0 (ngdb v1.1.0)</a></dd>
          </dl>
        </nav>
      </footer>
    

  </body>

</html>

