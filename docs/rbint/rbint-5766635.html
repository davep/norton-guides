





<!DOCTYPE html>
<html>

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.1.0 (ngdb v1.1.0)">
    <link rel="stylesheet" type="text/css" href="rbint-style.css">
    <title>Ralf Brown » Lists » Interrupts</title>
    <meta name="description" content="Ralf Brown">
    <link rel="prev" href="rbint-5765679.html">
    <link rel="next" href="rbint-5772211.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="rbint-about.html">About</a></li>


          

<li><a href="rbint-5765679.html">Previous</a></li>


          

<li><a href="rbint-5757296.html">Up</a></li>


          

<li><a href="rbint-5772211.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <section>

      <nav class="menu box">
        <ul>
            <li>Lists</li>
            <ul>
              <li><a href="index.html">Comments</a></li>
              <li><a href="rbint-7995.html">Interrupts</a></li>
              <li><a href="rbint-15401.html">Glossary</a></li>
              <li><a href="rbint-64347.html">Memory</a></li>
              <li><a href="rbint-180090.html">CMOS</a></li>
              <li><a href="rbint-250757.html">86 Bugs</a></li>
              
            </ul>
        </ul>
      </nav>

      <article class="box">
        
  
  
    <pre class="entry"><span class="line"></span><br /><span class="line"><span class="ngu">Int 7A  - Novell Netware - Ipx Driver - Send Packet                      </span>  [<span class="ngb">N</span>]</span><br /><span class="line"></span><br /><span class="line">   BX = 0003h</span><br /><span class="line">   ES:SI -&gt; Event Control Block (see #3481,#3482)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Notes:</span> returns immediately; IPX attempts to send the packet in the background</span><br /><span class="line">   this function is supported by Advanced NetWare 1.02+</span><br /><span class="line">   this function is nearly identical to BX=000Fh, except that it always</span><br /><span class="line">     copies the source address into the IPX header assumed to be at the</span><br /><span class="line">     beginning of the first fragment</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> BX=0004h,BX=000Fh,INT 21/AH=EEh&#34;Novell&#34;</span><br /><span class="line"></span><br /><span class="line">Format of IPX Event Control Block:</span><br /><span class="line">Offset Size    Description (Table 3481)</span><br /><span class="line"> 00h   DWORD   Link</span><br /><span class="line"> 04h   DWORD   -&gt; Event Service Routine (00000000h if none) (see #3485)</span><br /><span class="line"> 08h   BYTE    in use flag (see #3483)</span><br /><span class="line"> 09h   BYTE    completion code (see #3484)</span><br /><span class="line"> 0Ah   WORD    (big-endian) socket number (see #3480)</span><br /><span class="line"> 0Ch  4 BYTEs  IPX workspace</span><br /><span class="line"> 10h 12 BYTEs  driver workspace</span><br /><span class="line"> 1Ch  6 BYTEs  immediate local node address</span><br /><span class="line"> 22h   WORD    fragment count</span><br /><span class="line"> 24h   var fragment descriptors</span><br /><span class="line">       Offset  Size    Description</span><br /><span class="line">        00h    DWORD   -&gt; fragment data</span><br /><span class="line">        04h    WORD    size of fragment in bytes.</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Notes:</span> ESR is a far procedure that is called when the ECB has been handled.</span><br /><span class="line">     On call, the in use flag is zero if the ECB has been handled,</span><br /><span class="line">     non-zero otherwise. If the flag is zero, the completion code holds</span><br /><span class="line">     the result of the event.</span><br /><span class="line">   the first fragment should start with an IPX header (see #3486)</span><br /><span class="line">   all fragments are concatenated and sent in one piece</span><br /><span class="line">   node address FFh FFh FFh FFh FFh FFh broadcasts to all nodes</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #3482</span><br /><span class="line"></span><br /><span class="line">Format of AES-ECB:</span><br /><span class="line">Offset Size    Description (Table 3482)</span><br /><span class="line"> 00h   DWORD   Link</span><br /><span class="line"> 04h   DWORD   ESR (Event Service Routine) address (see #3485)</span><br /><span class="line"> 08h   BYTE    in use flag (see #3483)</span><br /><span class="line"> 09h  5 BYTEs  AES workspace</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #3481</span><br /><span class="line"></span><br /><span class="line">(Table 3483)</span><br /><span class="line">Values for ECB in use flag:</span><br /><span class="line"> 00h   available</span><br /><span class="line"> E0h   AES temporary</span><br /><span class="line"> F6h   \ special IPX/SPX processing for v3.02+</span><br /><span class="line"> F7h   /</span><br /><span class="line"> F8h   IPX in critical section</span><br /><span class="line"> F9h   SPX listening</span><br /><span class="line"> FAh   processing</span><br /><span class="line"> FBh   holding</span><br /><span class="line"> FCh   AES waiting</span><br /><span class="line"> FDh   AES couting down delay time</span><br /><span class="line"> FEh   awaiting packet reception</span><br /><span class="line"> FFh   sending packet</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #3481,#3482,#3484</span><br /><span class="line"></span><br /><span class="line">(Table 3484)</span><br /><span class="line">Values for ECB completion code:</span><br /><span class="line"> 00h   success</span><br /><span class="line"> ECh   remote terminated connection without acknowledging packet</span><br /><span class="line"> EDh   abnormal connection termination</span><br /><span class="line"> EEh   invalid connection ID</span><br /><span class="line"> EFh   SPX connection table full</span><br /><span class="line"> F9h   event should not be cancelled</span><br /><span class="line"> FAh   cannot establish connection with specified destination</span><br /><span class="line"> FCh   cancelled</span><br /><span class="line"> FDh   malformed packet</span><br /><span class="line"> FEh   packet undeliverable</span><br /><span class="line"> FFh   physical error</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #3481,#3483</span><br /><span class="line"></span><br /><span class="line">(Table 3485)</span><br /><span class="line">Values Event Service Routine is called with:</span><br /><span class="line">   AL = caller&#39;s identity (00h = AES, FFh = IPX)</span><br /><span class="line">   ES:SI -&gt; event control block</span><br /><span class="line">   interrupts disabled</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> all registers preserved</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #3481,#3486</span><br /><span class="line"></span><br /><span class="line">Format of IPX header:</span><br /><span class="line">Offset Size    Description (Table 3486)</span><br /><span class="line"> 00h   WORD    (big-endian) checksum</span><br /><span class="line"> 02h   WORD    (big-endian) length in bytes of total packet</span><br /><span class="line"> 04h   BYTE    transport control</span><br /><span class="line"> 05h   BYTE    packet type (see #3487)</span><br /><span class="line"> 06h 10 BYTEs  destination internetwork address</span><br /><span class="line"> 10h   WORD    (big-endian) destination socket</span><br /><span class="line"> 12h 10 BYTEs  source internetwork address</span><br /><span class="line"> 1Ch   WORD    (big-endian) source socket</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Notes:</span> an IPX packet has the identical format as a Xerox Network Standard</span><br /><span class="line">     (XNS) packet</span><br /><span class="line">   the application must set packet type, destination address, and</span><br /><span class="line">     destination socket; IPX/SPX set the remaining fields</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #3481,#3497</span><br /><span class="line"></span><br /><span class="line">(Table 3487)</span><br /><span class="line">Values for IPX packet type:</span><br /><span class="line"> 00h   unknown packet type</span><br /><span class="line"> 01h   routing information packet</span><br /><span class="line"> 02h   echo packet</span><br /><span class="line"> 03h   error packet</span><br /><span class="line"> 04h   packet exchange packet (always use this one for data)</span><br /><span class="line"> 05h   SPX packet (see #3497)</span><br /><span class="line"> 11h   NetWare Core Protocol (also used by Service Advertising Protocol)</span><br /><span class="line"> 14h   Propagated Packet (for NetWare), NetBIOS name packet</span><br /><span class="line"> 15h-1Eh experimental protocols</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  undocumented packet type 14h will cross up to 16 networks deep in</span><br /><span class="line">     all directions; as Aaron Martin of Origin Systems discovered, the</span><br /><span class="line">     first 64 bytes of the IPX data in such packets should be considered</span><br /><span class="line">     reserved, as IPX places the traversed server nodes there.</span><br /><span class="line"></span><br /><span class="line">Format of Service Advertising Protocol Service Query Packet:</span><br /><span class="line">Offset Size    Description (Table 3488)</span><br /><span class="line"> 00h 30 BYTEs  IPX header</span><br /><span class="line"> 1Eh   WORD    (big-endian) query type</span><br /><span class="line">       0001h general find service</span><br /><span class="line">       0003h find nearest server</span><br /><span class="line"> 20h   WORD    (big-endian) server type</span><br /><span class="line">       (see #1578 at INT 21/AH=E3h&#34;CONNECTION CONTROL&#34;)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #3489</span><br /><span class="line"></span><br /><span class="line">Format of Service Advertising Protocol Server Identification Packet:</span><br /><span class="line">Offset Size    Description (Table 3489)</span><br /><span class="line"> 00h 30 BYTEs  IPX header</span><br /><span class="line"> 1Eh   WORD    (big-endian) response type</span><br /><span class="line">       0002h general service</span><br /><span class="line">       0004h nearest service</span><br /><span class="line"> 20h 64N BYTEs server entries (1-7) (see #3490)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #3488,#3491</span><br /><span class="line"></span><br /><span class="line">Format of SAP server entry:</span><br /><span class="line">Offset Size    Description (Table 3490)</span><br /><span class="line"> 00h   WORD    (big-endian) server type</span><br /><span class="line">       (see #1578 at INT 21/AH=E3h&#34;CONNECTION CONTROL&#34;)</span><br /><span class="line"> 02h 48 BYTEs  ASCIZ server name</span><br /><span class="line"> 32h  2 WORDs  (big-endian) network number</span><br /><span class="line"> 34h  3 WORDs  (big-endian) node number</span><br /><span class="line"> 3Ch   WORD    (big-endian) socket number</span><br /><span class="line"> 3Eh   WORD    (big-endian) number of hops between caller and server</span><br /><span class="line">       10h = Server Shutdown Advertising Packet</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #3489</span><br /><span class="line"></span><br /><span class="line">Format of IPX Routing Information packet:</span><br /><span class="line">Offset Size    Description (Table 3491)</span><br /><span class="line"> 00h 30 BYTEs  IPX header</span><br /><span class="line"> 1Eh   WORD    operation (0001h request, 0002h response)</span><br /><span class="line"> 20h 8N BYTEs  network entries (1-50) (see #3492)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #3489</span><br /><span class="line"></span><br /><span class="line">Format of RIP network entry:</span><br /><span class="line">Offset Size    Description (Table 3492)</span><br /><span class="line"> 00h   DWORD   network number (FFFFFFFFh = general request)</span><br /><span class="line"> 04h   WORD    (response) number of hops</span><br /><span class="line"> 06h   WORD    (response) number of clock ticks to reach destination</span><br /></pre>
  
  
  


      </article>

    </section>

  </body>

</html>

