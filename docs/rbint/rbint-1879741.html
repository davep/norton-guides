





<!DOCTYPE html>
<html>

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.1.0 (ngdb v1.1.0)">
    <link rel="stylesheet" type="text/css" href="rbint-style.css">
    <title>Ralf Brown » Lists » Interrupts</title>
    <meta name="description" content="Ralf Brown">
    <link rel="prev" href="rbint-1872488.html">
    <link rel="next" href="rbint-1891042.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="../index.html">Guides</a></li>


          

<li><a href="rbint-about.html">About</a></li>


          

<li><a href="rbint-1872488.html">Previous</a></li>


          

<li><a href="rbint-1712194.html">Up</a></li>


          

<li><a href="rbint-1891042.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <section>

      <nav class="menu box">
        <ul>
            <li>Lists</li>
            <ul>
              <li><a href="index.html">Comments</a></li>
              <li><a href="rbint-7995.html">Interrupts</a></li>
              <li><a href="rbint-15401.html">Glossary</a></li>
              <li><a href="rbint-64347.html">Memory</a></li>
              <li><a href="rbint-180090.html">CMOS</a></li>
              <li><a href="rbint-250757.html">86 Bugs</a></li>
              
            </ul>
        </ul>
      </nav>

      <article class="box">
        
  
  
    <pre class="entry"><span class="line"></span><br /><span class="line"><span class="ngu">Int 1A Fn B10A  - Pci Bios V2.0c+ - Read Configuration Dword (intel Devic</span>  [<span class="ngb">X</span>]</span><br /><span class="line"></span><br /><span class="line">   AX = B10Ah subfn 8086h</span><br /><span class="line">   BH = bus number</span><br /><span class="line">   BL = device/function number (bits 7-3 device, bits 2-0 function)</span><br /><span class="line">   DI = register number (0000h-00FFh) (see #0798)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> CF clear if successful</span><br /><span class="line">       ECX = dword read</span><br /><span class="line">   CF set on error</span><br /><span class="line">   AH = status (00h,87h) (see #0653)</span><br /><span class="line">   EAX, EBX, ECX, and EDX may be modified</span><br /><span class="line">   all other flags (except IF) may be modified</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Notes:</span> this function may require up to 1024 byte of stack; it will not enable</span><br /><span class="line">     interrupts if they were disabled before making the call</span><br /><span class="line">   the meanings of BL and BH on entry were exchanged between the initial</span><br /><span class="line">     drafts of the specification and final implementation</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> AX=B10Ah,AX=B10Ah/SF=1106h,AX=B10Dh</span><br /><span class="line"></span><br /><span class="line">Format of PCI Configuration data for Intel 82375 EISA Bridge:</span><br /><span class="line">Offset Size    Description (Table 0850)</span><br /><span class="line"> 00h 64 BYTEs  header (see #0798)</span><br /><span class="line">       (vendor ID 8086h, device ID 0482h)</span><br /><span class="line">       (revision numbers: 03h = 82375EB, 04h = 82375SB)</span><br /><span class="line"> 40h   BYTE    PCI Control</span><br /><span class="line">!!!intel\29047704.pdf pg. 32</span><br /><span class="line"> 41h   BYTE    PCI Arbiter Control</span><br /><span class="line"> 42h   BYTE    PCI Arbiter Priority Control</span><br /><span class="line"> 43h   BYTE    PCI Arbiter Priority Control Extension</span><br /><span class="line"> 44h   BYTE    MEMCS# Control</span><br /><span class="line"> 45h   BYTE    MEMCS# Bottom of Hole</span><br /><span class="line"> 46h   BYTE    MEMCS# Top of Hole</span><br /><span class="line"> 47h   BYTE    MEMCS# Top of Memory</span><br /><span class="line"> 48h   WORD    EISA Address Decode Control 1</span><br /><span class="line"> 4Ah  2 BYTEs  reserved</span><br /><span class="line"> 4Ch   BYTE    ISA I/O Recovery Time Control</span><br /><span class="line"> 4Dh  7 BYTEs  reserved</span><br /><span class="line"> 54h   BYTE    MEMCS# Attribute Register #1</span><br /><span class="line"> 55h   BYTE    MEMCS# Attribute Register #2</span><br /><span class="line"> 56h   BYTE    MEMCS# Attribute Register #3</span><br /><span class="line"> 57h   BYTE    reserved</span><br /><span class="line"> 58h   BYTE    PCI Decode Control</span><br /><span class="line"> 59h   BYTE    reserved</span><br /><span class="line"> 5Ah   BYTE    EISA Address Decode Control 2</span><br /><span class="line"> 5Bh   BYTE    reserved</span><br /><span class="line"> 5Ch   BYTE    EISA-to-PCI Memory Region Attributes</span><br /><span class="line"> 5Dh  3 BYTEs  reserved</span><br /><span class="line"> 60h  4 DWORDs EISA-to-PCI Memory Region Address registers 1-4</span><br /><span class="line"> 70h  4 DWORDs EISA-to-PCI I/O Region Address registers 1-4</span><br /><span class="line"> 80h   WORD    BIOS Timer base address</span><br /><span class="line"> 82h  2 BYTEs  reserved</span><br /><span class="line"> 84h   BYTE    EISA Latency Timer Control Register</span><br /><span class="line"> 85h  3 BYTEs  reserved</span><br /><span class="line"> 88h   DWORD   PCEB Test Control Register (&#34;DO NOT WRITE&#34;)</span><br /><span class="line"> 8Ch 116 BYTEs reserved</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0798,#0851</span><br /><span class="line"></span><br /><span class="line">Format of PCI Configuration data for Intel 82434LX/NX Cache/DRAM Controller:</span><br /><span class="line">Offset Size    Description (Table 0851)</span><br /><span class="line"> 00h 64 BYTEs  header (see #0798)</span><br /><span class="line">       (vendor ID 8086h, device ID 04A3h)</span><br /><span class="line">       (revision numbers: 01h/03h are 82434LX, 1xh are 82434NX)</span><br /><span class="line">       (command register only supports bits 8,6,2,1,0)</span><br /><span class="line"> 40h 16 BYTEs  unused (hard-wired to 00h)</span><br /><span class="line"> 44h   BYTE    ??? (AMI BIOS writes 00h)</span><br /><span class="line"> 45h   BYTE    ??? (AMI BIOS writes 00h)</span><br /><span class="line"> 50h   BYTE    Host CPU Selection (see #0852)</span><br /><span class="line"> 51h   BYTE    deturbo frequency control register</span><br /><span class="line">       when deturbo mode is selected (see PORT 0CF9h), the chipset</span><br /><span class="line">         places a hold on the memory bus for a fraction of the</span><br /><span class="line">         time inversely proportional to the value in this register</span><br /><span class="line">         by comparing it against a free-running 8-bit counter counting</span><br /><span class="line">         at 1/8 the CPU clock speed</span><br /><span class="line">         (i.e. C0h = 1/4, 80h = 1/2, 40h = 3/4, 20h = 7/8, etc.)</span><br /><span class="line">         (only bits 7-6 writable, bits 5-0 hardwired to 0)</span><br /><span class="line"> 52h   BYTE    Secondary Cache Control (see #0853)</span><br /><span class="line"> 53h   BYTE    Host Read/Write Buffer Control (see #0854)</span><br /><span class="line"> 54h   BYTE    PCI Read/Write Buffer Control</span><br /><span class="line">       bits 7-3: reserved</span><br /><span class="line">       bit 2: LBXs connected to TRDY#</span><br /><span class="line">       bit 1: enable PCI burst writes</span><br /><span class="line">       bit 0: enable PCI-to-memory posted writes</span><br /><span class="line"> 55h  2 BYTEs  reserved</span><br /><span class="line"> 57h   BYTE    DRAM Control (see #0855)</span><br /><span class="line"> 58h   BYTE    DRAM Timing (see also #0901)</span><br /><span class="line">       bits 7-2: reserved</span><br /><span class="line">       bit 1: (NX only) RAS# Wait State</span><br /><span class="line">       bit 0: CAS# Wait State (one extra wait state before CAS#</span><br /><span class="line">             within burst cycle)</span><br /><span class="line"> 59h  7    BYTEs   Programmable Attribute Map registers 0-6 (see #0902)</span><br /><span class="line"> 60h  8    BYTEs   DRAM Row Boundary registers 0-7</span><br /><span class="line">       (chip revisions numbered &lt; 10h [LX] only support six rows of</span><br /><span class="line">         DRAM)</span><br /><span class="line">       each register N indicates the amount of cumulative amount of</span><br /><span class="line">         memory in SIMM banks 0-N, in multiples of 1M; offset 67h</span><br /><span class="line">         (65h on 82434LX&#39;s) contains the total amount of memory</span><br /><span class="line">         installed in the system; on the 82434NX, two additional</span><br /><span class="line">         bits are concatenated to each row boundary from the DRAM Row</span><br /><span class="line">         Boundary Extension registers to allow up to 1024M of memory</span><br /><span class="line">         to be specified (though only 512M are supported)</span><br /><span class="line"> 68h  4 BYTEs  (NX only) DRAM Row Boundary Extension registers</span><br /><span class="line">       each nybble is concatenated with the corresponding DRAM Row</span><br /><span class="line">         Boundary register to form a 12-bit boundary value (of which</span><br /><span class="line">         only the low 10 bits are actually used)</span><br /><span class="line"> 6Ch   DWORD   reserved (hardwired to 00000000h)</span><br /><span class="line"> 70h   BYTE    Error Command (see #0856)</span><br /><span class="line"> 71h   BYTE    Error Status (see #0857)</span><br /><span class="line"> 72h   BYTE    System Management RAM control (see also #0906)</span><br /><span class="line">       bits 7-6: reserved</span><br /><span class="line">       bit 5:  map SMM-mode memory (64K) into address space when bits</span><br /><span class="line">           2-0 = 010 (default 3000h:0000h; can be changed by</span><br /><span class="line">           first SMM event)</span><br /><span class="line">       bit 4: close SMRAM space (allows data accesses to be forwarded</span><br /><span class="line">           to PCI bus while execuding SMM code)</span><br /><span class="line">       bit 3: lock SMRAM space (can&#39;t be cleared by software)</span><br /><span class="line">       bits 2-0: SMRAM memory address (010 = Axxxxh, 011 = Bxxxxh)</span><br /><span class="line"> 73h  5 BYTEs  reserved</span><br /><span class="line"> 78h   WORD    Memory Space Gap</span><br /><span class="line">       bit 15: enable ISA hole</span><br /><span class="line">       bits 14-12: size of ISA hole in MB (less 1); must be power of 2</span><br /><span class="line">       bits 11-8: reserved</span><br /><span class="line">       bits 7-4: bottom of ISA memory hole in MB</span><br /><span class="line">             (must be multiple of gap size)</span><br /><span class="line">       bits 3-0: reserved</span><br /><span class="line"> 7Ah  2 BYTEs  reserved</span><br /><span class="line"> 7Ch   DWORD   Frame Buffer Range (see #0858)</span><br /><span class="line"> 80h 128 BYTEs reserved</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  the 82434NX is part of the Intel Neptune chipset</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0860,#0879</span><br /><span class="line"></span><br /><span class="line">Bitfields for Intel 82434LX/NX Host CPU Selection:</span><br /><span class="line">Bit(s) Description (Table 0852)</span><br /><span class="line"> 7-5   host CPU type</span><br /><span class="line">   LX: hardwired to 100 (Pentium)</span><br /><span class="line">   NX: &#34;reserved&#34; (101 on RB&#39;s system)</span><br /><span class="line"> 4-3   reserved</span><br /><span class="line"> 2 enable L1 cache</span><br /><span class="line"> 1-0   Host Operating Frequency (set according to external bus speed)</span><br /><span class="line">   00: reserved</span><br /><span class="line">   01: 50 MHz</span><br /><span class="line">   10: 60 MHz</span><br /><span class="line">   11: 66 MHz</span><br /><span class="line">   (LX: bit 1 reserved, only 60/66 MHz supported)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0851,#0853</span><br /><span class="line"></span><br /><span class="line">Bitfields for Intel 82434LX/NX Secondary Cache Control:</span><br /><span class="line">Bit(s) Description (Table 0853)</span><br /><span class="line"> 7-6   secondary cache size</span><br /><span class="line">   00 none</span><br /><span class="line">   01 reserved</span><br /><span class="line">   10 256K</span><br /><span class="line">   11 512K</span><br /><span class="line"> 5 SRAM type</span><br /><span class="line">   0 standard SRAMs</span><br /><span class="line">   1 burst SRAMs</span><br /><span class="line"> 4 secondary cache allocation</span><br /><span class="line">   0 cache only CPU reads of memory with CACHE# asserted</span><br /><span class="line">   1 cache all CPU reads of cacheable memory</span><br /><span class="line"> 3 Cache Byte Control</span><br /><span class="line">   0 use single write enable and per-byte select lines</span><br /><span class="line">   1 use per-byte write enables on the cache</span><br /><span class="line"> 2 (NX only) SRAM connectivity</span><br /><span class="line">   0 disable CCS[1:0]# / CCS1# functionality</span><br /><span class="line">   1 enable CCS[1:0]# functionality to de-select async SRAMs, placing them</span><br /><span class="line">     in a low-power standby mode</span><br /><span class="line">   1 enable CCS1# functionality for burst SRAMs, indicating the lack of an</span><br /><span class="line">     external address latch</span><br /><span class="line"> 1 (LX only) Secondary Cache Write Policy</span><br /><span class="line">   0 write-through</span><br /><span class="line">   1 write-back (NX is always in write-back mode)</span><br /><span class="line"> 0 Secondary Cache Enable</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0851,#0854</span><br /><span class="line"></span><br /><span class="line">Bitfields for Intel 82434LX/NX Host Read/Write Buffer Control:</span><br /><span class="line">Bit(s) Description (Table 0854)</span><br /><span class="line"> 7-4   reserved</span><br /><span class="line"> 3 enable read-around-write</span><br /><span class="line"> 2 reserved</span><br /><span class="line"> 1 enable CPU-to-PCI posted writes</span><br /><span class="line"> 0 (LX only) enable CPU-to-memory posted writes</span><br /><span class="line">   (NX always posts memory writes)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0851,#0853</span><br /><span class="line"></span><br /><span class="line">Bitfields for Intel 82434LX/NX DRAM Control:</span><br /><span class="line">Bit(s) Description (Table 0855)</span><br /><span class="line"> 7-6   (NX only) DRAM burst timing</span><br /><span class="line">   00  X-4-4-4 read/write (default)</span><br /><span class="line">   01  X-4-4-4 read, X-3-3-3 write</span><br /><span class="line">   10  reserved</span><br /><span class="line">   11  X-3-3-3 read/write</span><br /><span class="line"> 5 parity error mask</span><br /><span class="line"> 4 0-Active RAS# mode</span><br /><span class="line"> 3 SMRAM enable (must be set to enable reg 72h)</span><br /><span class="line"> 2 Burst-of-Four Refresh</span><br /><span class="line"> 1 Refresh Type</span><br /><span class="line">   =0 RAS#-only</span><br /><span class="line">   =1 CAS#-before-RAS#</span><br /><span class="line"> 0 DRAM Refresh Enable</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0851</span><br /><span class="line"></span><br /><span class="line">Bitfields for Intel 82434LX/NX Error Command register:</span><br /><span class="line">Bit(s) Description (Table 0856)</span><br /><span class="line"> 7 assert SERR# on receiving target abort</span><br /><span class="line"> 6 assert SERR# on PCI data-write parity error</span><br /><span class="line"> 5 (NX only) assert SERR# on PCI data-read parity error</span><br /><span class="line"> 4 (NX only) assert SERR# on PCI address parity error</span><br /><span class="line"> 3 (NX only) assert PERR# on data parity error</span><br /><span class="line"> 2 enable L2 cache parity</span><br /><span class="line"> 1 enable SERR# on DRAM/L2 cache data parity error</span><br /><span class="line"> 0 assert PEN# on data reads; allow CPU to signal parity error via PCHK#</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Notes:</span> PCI command register bit 6 is master enable for bit 3;</span><br /><span class="line">   PCI cmd bits 6 and 8 are the master enable for bits 7-4 and 1</span><br /><span class="line">   bits 1-0 = 10 is not permitted</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0851,#0857</span><br /><span class="line"></span><br /><span class="line">Bitfields for Intel 82434LX/NX Error Status register:</span><br /><span class="line">Bit(s) Description (Table 0857)</span><br /><span class="line"> 7 reserved</span><br /><span class="line"> 6 PCI-write detected parity error</span><br /><span class="line"> 5 (NX only) PCI-read detected parity error</span><br /><span class="line"> 4 (NX only) PCI address parity error detected</span><br /><span class="line"> 3 main memory data parity error</span><br /><span class="line"> 2 L2 cache data parity error</span><br /><span class="line"> 1 reserved</span><br /><span class="line"> 0 Shutdown cycle detected</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  clear status bits by writing a &#39;one&#39; bit to each bit to be cleared</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0856,#0851</span><br /><span class="line"></span><br /><span class="line">Bitfields for Intel 82434LX/NX Frame Buffer Range register:</span><br /><span class="line">Bit(s) Description (Table 0858)</span><br /><span class="line"> 31-20 buffer offset (in 1MB increments; must be multiple of buffer set set</span><br /><span class="line">     by bits 3-0)</span><br /><span class="line"> 19-14 reserved</span><br /><span class="line"> 13    enable byte merging</span><br /><span class="line"> 12    128K VGA-range Attribute Enable</span><br /><span class="line">   when set, bits 13,9,7 also apply to VGA memory range (Axxxx-Bxxxx)</span><br /><span class="line"> 11-10 reserved</span><br /><span class="line"> 9 no lock requests</span><br /><span class="line"> 8 reserved</span><br /><span class="line"> 7 enable transparent bufer writes</span><br /><span class="line"> 6-4   reserved</span><br /><span class="line"> 3-0   buffer size in MB (less 1); must be power of 2</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  if bits 31-20=0, the frame buffer feature is disabled</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0851</span><br /><span class="line"></span><br /><span class="line">Format of PCI Configuration data for Intel 82424 Cache Controller:</span><br /><span class="line">Offset Size    Description (Table 0859)</span><br /><span class="line"> 00h 64 BYTEs  header (see #0798)</span><br /><span class="line">       (vendor ID 8086h, device ID 0483h)</span><br /><span class="line"> 40h   BYTE    bus number</span><br /><span class="line"> 41h   BYTE    subordinate bus number</span><br /><span class="line"> 42h   BYTE    disconnect timer</span><br /><span class="line"> 50h   BYTE    host CPU selection</span><br /><span class="line"> 51h   BYTE    deturbo frequency control</span><br /><span class="line">       when deturbo mode is selected (see PORT 0CF9h), the chipset</span><br /><span class="line">         places a hold on the memory bus for a fraction of the</span><br /><span class="line">         time inversely proportional to the value in this register</span><br /><span class="line">         (i.e. C0h = 1/4, 80h = 1/2, 40h = 3/4, 20h = 7/8, etc.)</span><br /><span class="line"> 52h   BYTE    secondary cache control</span><br /><span class="line"> 53h   BYTE    write buffer control</span><br /><span class="line"> 54h   BYTE    PCI features control</span><br /><span class="line"> 55h   BYTE    DRAM Operation Mode Select</span><br /><span class="line"> 56h   BYTE    System Exception Handling</span><br /><span class="line"> 57h   BYTE    SMM Control Register</span><br /><span class="line"> 58h   BYTE    reserved</span><br /><span class="line"> 59h  7    BYTEs   Programmable Attribute Map registers 0-6 (see also #0902)</span><br /><span class="line"> 60h  4 BYTEs  DRAM Row Boundary registers 0-3</span><br /><span class="line">       each register N indicates amount of memory in rows 0-N (each</span><br /><span class="line">         row is 64 bits wide)</span><br /><span class="line">       boundary register 3 (offset 63h) contains the total system</span><br /><span class="line">         memory, which may not exceed 128M</span><br /><span class="line"> 64h  4 BYTEs  unused???</span><br /><span class="line"> 68h   WORD    Memory Hole-0</span><br /><span class="line"> 6Ah   WORD    Memory Hole-1</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  the above field names are those given by EduWARE&#39;s PCI Configuration</span><br /><span class="line">     Manager v1.2</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0851,#0879,#0892</span><br /><span class="line"></span><br /><span class="line">Format of PCI Configuration data for Intel 82378 and 82379 ISA Bridges:</span><br /><span class="line">Offset Size    Description (Table 0860)</span><br /><span class="line"> 00h 64 BYTEs  header (see #0798)</span><br /><span class="line">       (vendor ID 8086h, device ID 0484h)</span><br /><span class="line">       (revision ID:</span><br /><span class="line">           bits 7-4: reserved</span><br /><span class="line">           bits 3-0: revision</span><br /><span class="line">           0011 82378ZB A0-step</span><br /><span class="line">           1000 82379AB A0-step)</span><br /><span class="line"> 40h   BYTE    PCI Control (see #0861)</span><br /><span class="line"> 41h   BYTE    PCI Arbiter Control (see #0862)</span><br /><span class="line"> 42h   BYTE    PCI Arbiter Priority Control (see #0863)</span><br /><span class="line"> 43h   BYTE    (82378ZB) PCI Arbiter Priority Control Extension Register</span><br /><span class="line">       bit 0: bank 3 fixed priority mode select (see also #0863)</span><br /><span class="line">           =0 REQ2# has higher priority</span><br /><span class="line">           =1 REQ3# has higher priority</span><br /><span class="line"> 44h   BYTE    MEMCS# Control (see #0864)</span><br /><span class="line"> 45h   BYTE    MEMCS# Bottom of Hole (address bits 23-16)</span><br /><span class="line"> 46h   BYTE    MEMCS# Top of Hole (address bits 23-16)</span><br /><span class="line"> 47h   BYTE    MEMCS# Top of Memory</span><br /><span class="line">       (address bits 28-21 == size in 2M increments, less 1)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">.NG limit reached, continued in next section...</span></span><br /></pre>
  
  
  


      </article>

    </section>

  </body>

</html>

