





<!DOCTYPE html>
<html>

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.2.0 (ngdb v1.1.0)">
    <link rel="stylesheet" type="text/css" href="rbint-style.css">
    <title>Ralf Brown » Lists » Interrupts</title>
    <meta name="description" content="Ralf Brown">
    <link rel="prev" href="rbint-3936607.html">
    <link rel="next" href="rbint-3948808.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="../index.html">Guides</a></li>


          

<li><a href="rbint-about.html">About</a></li>


          

<li><a href="rbint-3936607.html">Previous</a></li>


          

<li><a href="rbint-3870311.html">Up</a></li>


          

<li><a href="rbint-3948808.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <section>

      
        <nav class="menu box">
          <ul>
              <li>Lists</li>
              <ul>
                <li><a href="index.html">Comments</a></li>
                <li><a href="rbint-7995.html">Interrupts</a></li>
                <li><a href="rbint-15401.html">Glossary</a></li>
                <li><a href="rbint-64347.html">Memory</a></li>
                <li><a href="rbint-180090.html">CMOS</a></li>
                <li><a href="rbint-250757.html">86 Bugs</a></li>
                
              </ul>
          </ul>
        </nav>
      

      <article class="box">
        
  
  
    <pre class="entry"><span class="line"></span><br /><span class="line"><span class="ngu">Int 2F Fn 4310  - Extended Memory Specification (xms) V2+ - Get Driver Ad</span>  [<span class="ngb">m</span>]</span><br /><span class="line"></span><br /><span class="line">   AX = 4310h</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> ES:BX -&gt; driver entry point (see #2436,#2437,#2440,#2447,#2456,#2461)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Notes:</span> HIMEM.SYS v2.77 chains to previous handler if AH is not 00h or 10h</span><br /><span class="line">   HIMEM.SYS requires at least 256 bytes free stack space when calling</span><br /><span class="line">     the driver entry point</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> AX=4300h,AX=4310h&#34;Cloaking&#34;,AX=4310h&#34;Netroom&#34;,AX=4310h&#34;XMZ&#34;</span><br /><span class="line"></span><br /><span class="line">Format of XMS driver entry point:</span><br /><span class="line">Offset Size    Description (Table 2436)</span><br /><span class="line"> 00h  5 BYTEs  jump to actual handler</span><br /><span class="line">       either short jump (EBh XXh) followed by three NOPs or</span><br /><span class="line">         far jump (EAh XXXX:XXXX) to a program which has hooked itself</span><br /><span class="line">         into the XMS driver chain</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  to hook into the XMS driver chain, a program should follow the chain of</span><br /><span class="line">     far jumps until it reaches the short jump of the driver at the end</span><br /><span class="line">     of the chain; this short jump is to be replaced with a far jump to</span><br /><span class="line">     the new handler&#39;s entry point, which should contain a short jump</span><br /><span class="line">     followed by three NOPs.  The new handler must return to the address</span><br /><span class="line">     pointed at by the short jump which was overwritten.  Using this</span><br /><span class="line">     method, the new handler becomes the first to see every XMS request.</span><br /><span class="line"></span><br /><span class="line">(Table 2437)</span><br /><span class="line">Call the XMS driver &#34;Get XMS version number&#34; function with:</span><br /><span class="line">   AH = 00h</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = XMS version (in BCD, AH=major, AL=minor)</span><br /><span class="line">   BX = internal revision number (in BCD for HIMEM.SYS)</span><br /><span class="line">   DX = High Memory Area (HMA) state</span><br /><span class="line">       0001h HMA (1M to 1M + 64K) exists</span><br /><span class="line">       0000h HMA does not exist</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2438,#2439,#2444,#2445,#2451</span><br /><span class="line"></span><br /><span class="line">(Table 2438)</span><br /><span class="line">Call the XMS driver &#34;Request High Memory Area&#34; function with:</span><br /><span class="line">   AH = 01h</span><br /><span class="line">   DX = memory in bytes (for TSR or device drivers)</span><br /><span class="line">       FFFFh if application program</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = status</span><br /><span class="line">       0001h success</span><br /><span class="line">       0000h failure</span><br /><span class="line">       BL = error code (80h,81h,90h,91h,92h) (see #2462)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  HIMEM.SYS will fail function 01h with error code 91h if AL=40h and</span><br /><span class="line">     DX=KB free extended memory returned by last call of function 08h</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2439,#2471</span><br /><span class="line"></span><br /><span class="line">(Table 2439)</span><br /><span class="line">Call the XMS driver &#34;Release High Memory Area&#34; function with:</span><br /><span class="line">   AH = 02h</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = status</span><br /><span class="line">       0001h success</span><br /><span class="line">       0000h failure</span><br /><span class="line">       BL = error code (80h,81h,90h,93h) (see #2462)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2438</span><br /><span class="line"></span><br /><span class="line">(Table 2440)</span><br /><span class="line">Call the XMS driver &#34;Global enable A20, for using the HMA&#34; function with:</span><br /><span class="line">   AH = 03h</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = status</span><br /><span class="line">       0001h success</span><br /><span class="line">       0000h failure</span><br /><span class="line">       BL = error code (80h,81h,82h) (see #2462)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2441,#2442,MSR 00001000h</span><br /><span class="line"></span><br /><span class="line">(Table 2441)</span><br /><span class="line">Call the XMS driver &#34;Global disable A20&#34; function with:</span><br /><span class="line">   AH = 04h</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = status</span><br /><span class="line">       0001h success</span><br /><span class="line">       0000h failure</span><br /><span class="line">       BL = error code (80h,81h,82h,94h) (see #2462)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2440,#2443,MSR 00001000h</span><br /><span class="line"></span><br /><span class="line">(Table 2442)</span><br /><span class="line">Call the XMS driver &#34;Local enable A20&#34; function with:</span><br /><span class="line">   AH = 05h</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = status</span><br /><span class="line">       0001h success</span><br /><span class="line">       0000h failure</span><br /><span class="line">       BL = error code (80h,81h,82h) (see #2462)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  this function is used for direct access to extended memory</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2440,#2443</span><br /><span class="line"></span><br /><span class="line">(Table 2443)</span><br /><span class="line">Call the XMS driver &#34;Local disable A20&#34; function with:</span><br /><span class="line">   AH = 06h</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = status</span><br /><span class="line">       0001h success</span><br /><span class="line">       0000h failure</span><br /><span class="line">       BL = error code (80h,81h,82h,94h) (see #2462)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2441,#2442</span><br /><span class="line"></span><br /><span class="line">(Table 2444)</span><br /><span class="line">Call the XMS driver &#34;Query A20 state&#34; function with:</span><br /><span class="line">   AH = 07h</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = status</span><br /><span class="line">       0001h enabled</span><br /><span class="line">       0000h disabled</span><br /><span class="line">       BL = error code (00h,80h,81h) (see #2462)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2437,#2445</span><br /><span class="line"></span><br /><span class="line">(Table 2445)</span><br /><span class="line">Call the XMS driver &#34;Query free extended memory&#34; function with:</span><br /><span class="line">   AH = 08h</span><br /><span class="line">   BL = 00h (some implementations leave BL unchanged on success)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = size of largest extended memory block in KB</span><br /><span class="line">   DX = total extended memory in KB</span><br /><span class="line">   BL = error code (00h,80h,81h,A0h) (see #2462)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  this function does not include the HMA in the returned memory sizes</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2437,#2444,#2446,#2458</span><br /><span class="line"></span><br /><span class="line">(Table 2446)</span><br /><span class="line">Call the XMS driver &#34;Allocate extended memory block&#34; function with:</span><br /><span class="line">   AH = 09h</span><br /><span class="line">   DX = Kbytes needed</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = status</span><br /><span class="line">       0001h success</span><br /><span class="line">       DX = handle for memory block</span><br /><span class="line">       0000h failure</span><br /><span class="line">       BL = error code (80h,81h,A0h) (see #2462)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2445,#2448,#2451,#2452,#2453,#2459</span><br /><span class="line"></span><br /><span class="line">(Table 2447)</span><br /><span class="line">Call the XMS driver &#34;Free extended memory block&#34; function with:</span><br /><span class="line">   AH = 0Ah</span><br /><span class="line">   DX = handle of block to free</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = status</span><br /><span class="line">       0001h success</span><br /><span class="line">       0000h failure</span><br /><span class="line">       BL = error code (80h,81h,A2h,ABh) (see #2462)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2446,#2459</span><br /><span class="line"></span><br /><span class="line">(Table 2448)</span><br /><span class="line">Call the XMS driver &#34;Move extended memory block&#34; function with:</span><br /><span class="line">   AH = 0Bh</span><br /><span class="line">   DS:SI -&gt; EMM structure (see #2463)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = status</span><br /><span class="line">       0001h success</span><br /><span class="line">       0000h failure</span><br /><span class="line">       BL = error code (80h-82h,A3h-A9h) (see #2462)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  if either handle in the EMM structure is 0000h, the corresponding</span><br /><span class="line">     offset is considered to be an absolute segment:offset address in</span><br /><span class="line">     directly addressable memory</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2446,#2449</span><br /><span class="line"></span><br /><span class="line">(Table 2449)</span><br /><span class="line">Call the XMS driver &#34;Lock extended memory block&#34; function with:</span><br /><span class="line">   AH = 0Ch</span><br /><span class="line">   DX = handle of block to lock</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = status</span><br /><span class="line">       0001h success</span><br /><span class="line">       DX:BX = 32-bit physical address of locked block</span><br /><span class="line">       0000h failure</span><br /><span class="line">       BL = error code (80h,81h,A2h,ACh,ADh) (see #2462)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  MS Windows 3.x rejects this function for handles allocated after</span><br /><span class="line">     Windows started</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2446,#2448,#2450</span><br /><span class="line"></span><br /><span class="line">(Table 2450)</span><br /><span class="line">Call the XMS driver &#34;Unlock extended memory block&#34; function with:</span><br /><span class="line">   AH = 0Dh</span><br /><span class="line">   DX = handle of block to unlock</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = status</span><br /><span class="line">       0001h success</span><br /><span class="line">       0000h failure</span><br /><span class="line">       BL = error code (80h,81h,A2h,AAh) (see #2462)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2449</span><br /><span class="line"></span><br /><span class="line">(Table 2451)</span><br /><span class="line">Call the XMS driver &#34;Get handle information&#34; function with:</span><br /><span class="line">   AH = 0Eh</span><br /><span class="line">   DX = handle for which to get info</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = status</span><br /><span class="line">       0001h success</span><br /><span class="line">       BH = block&#39;s lock count</span><br /><span class="line">       BL = number of free handles left</span><br /><span class="line">       DX = block size in KB</span><br /><span class="line">       0000h failure</span><br /><span class="line">       BL = error code (80h,81h,A2h) (see #2462)</span><br /><span class="line">BUG:   MS Windows 3.10 acts as though unallocated handles are in use</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  MS Windows 3.00 has problems with this call</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2437,#2446,#2460</span><br /><span class="line"></span><br /><span class="line">(Table 2452)</span><br /><span class="line">Call the XMS driver &#34;Reallocate extended memory block&#34; function with:</span><br /><span class="line">   AH = 0Fh</span><br /><span class="line">   DX = handle of block</span><br /><span class="line">   BX = new size of block in KB</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = status</span><br /><span class="line">       0001h success</span><br /><span class="line">       0000h failure</span><br /><span class="line">       BL = error code (80h,81h,A0h-A2h,ABh) (see #2462)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2446,#2455</span><br /><span class="line"></span><br /><span class="line">(Table 2453)</span><br /><span class="line">Call the XMS driver &#34;Request upper memory block&#34; function with:</span><br /><span class="line">   AH = 10h</span><br /><span class="line">   DX = size of block in paragraphs</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = status</span><br /><span class="line">       0001h success</span><br /><span class="line">       BX = segment address of UMB</span><br /><span class="line">       DX = actual size of block</span><br /><span class="line">       0000h failure</span><br /><span class="line">       BL = error code (80h,B0h,B1h) (see #2462)</span><br /><span class="line">       DX = largest available block</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Notes:</span> Upper Memory consists of non-EMS memory between 640K and 1024K</span><br /><span class="line">   the XMS driver need not implement functions 10h through 12h to be</span><br /><span class="line">     considered compliant with the standard</span><br /><span class="line">   under DOS 5+, if CONFIG.SYS contains the line DOS=UMB, then no upper</span><br /><span class="line">     memory blocks will be available for allocation because all blocks</span><br /><span class="line">     have been grabbed by MS-DOS while booting</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2446,#2454,#2472,INT 21/AH=58h&#34;UMB&#34;</span><br /><span class="line"></span><br /><span class="line">(Table 2454)</span><br /><span class="line">Call the XMS driver &#34;Release upper memory block&#34; function with:</span><br /><span class="line">   AH = 11h</span><br /><span class="line">   DX = segment address of UMB to release</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = status</span><br /><span class="line">       0001h success</span><br /><span class="line">       0000h failure</span><br /><span class="line">       BL = error code (80h,B2h) (see #2462)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  the XMS driver need not implement functions 10h through 12h to be</span><br /><span class="line">     considered compliant with the standard</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2447,#2453,#2455</span><br /><span class="line"></span><br /><span class="line">(Table 2455)</span><br /><span class="line">Call the XMS v3.0+ driver &#34;Reallocate upper memory block&#34; function with:</span><br /><span class="line">   AH = 12h</span><br /><span class="line">   DX = segment address of UMB to resize</span><br /><span class="line">   BX = new size of block in paragraphs</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = status</span><br /><span class="line">       0001h success</span><br /><span class="line">       0000h failure</span><br /><span class="line">       BL = error code (80h,B0h,B2h) (see #2462)</span><br /><span class="line">       DX = maximum available size (RM386)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  the XMS driver need not implement functions 10h through 12h to be</span><br /><span class="line">     considered compliant with the standard</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2452,#2453,#2454,#2470</span><br /><span class="line"></span><br /><span class="line">(Table 2456)</span><br /><span class="line">Call the QEMM v5.11 &#34;???&#34; function with:</span><br /><span class="line">   AH = 34h  (QEMM 5.11 only, undocumented)</span><br /><span class="line">   ???</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> ???</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2457</span><br /><span class="line"></span><br /><span class="line">(Table 2457)</span><br /><span class="line">Call the QEMM v5.11 &#34;???&#34; function with:</span><br /><span class="line">   AH = 44h  (QEMM 5.11 only, undocumented)</span><br /><span class="line">   ???</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> ???</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2456,#2470</span><br /><span class="line"></span><br /><span class="line">(Table 2458)</span><br /><span class="line">Call the XMS v3.0 driver &#34;Query free extended memory&#34; function with:</span><br /><span class="line">   AH = 88h</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> EAX = largest block of extended memory, in KB</span><br /><span class="line">   BL = status (00h,80h,81h,A0h) (see #2462)</span><br /><span class="line">   ECX = physical address of highest byte of memory</span><br /><span class="line">       (valid even on error codes 81h and A0h)</span><br /><span class="line">   EDX = total Kbytes of extended memory (0 if status A0h)</span><br /><span class="line">BUG:   HIMEM v3.03-3.07 crash on an 80286 machine if any of the 8Xh functions</span><br /><span class="line">     are called</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2445,#2459</span><br /><span class="line"></span><br /><span class="line">(Table 2459)</span><br /><span class="line">Call the XMS v3.0 driver &#34;Allocate any extended memory&#34; function with:</span><br /><span class="line">   AH = 89h</span><br /><span class="line">   EDX = Kbytes needed</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = status</span><br /><span class="line">       0001h success</span><br /><span class="line">       DX = handle for allocated block (free with AH=0Ah) (see #2447)</span><br /><span class="line">       0000h failure</span><br /><span class="line">       BL = status (80h,81h,A0h,A1h,A2h) (see #2462)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2446,#2458</span><br /><span class="line"></span><br /><span class="line">(Table 2460)</span><br /><span class="line">Call the XMS v3.0 driver &#34;Get extended EMB handle information&#34; function with:</span><br /><span class="line">   AH = 8Eh</span><br /><span class="line">   DX = handle</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = status</span><br /><span class="line">       0001h success</span><br /><span class="line">       BH = block&#39;s lock count</span><br /><span class="line">       CX = number of free handles left</span><br /><span class="line">       EDX = block size in KB</span><br /><span class="line">       0000h failure</span><br /><span class="line">       BL = status (80h,81h,A2h) (see #2462)</span><br /><span class="line">BUG:   MS-DOS 6.0 HIMEM.SYS leaves CX unchanged</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2451,#2459,#2461</span><br /><span class="line"></span><br /><span class="line">(Table 2461)</span><br /><span class="line">Call the XMS v3.0 driver &#34;Reallocate any extended memory block&#34; function with:</span><br /><span class="line">   AH = 8Fh</span><br /><span class="line">   DX = unlocked memory block handle</span><br /><span class="line">   EBX = new size in KB</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = status</span><br /><span class="line">       0001h success</span><br /><span class="line">       0000h failure</span><br /><span class="line">       BL = status (80h,81h,A0h-A2h,ABh) (see #2462)</span><br /><span class="line">BUG:   HIMEM v3.03-3.07 crash on an 80286 machine if any of the 8Xh functions</span><br /><span class="line">     are called</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2452,#2460</span><br /><span class="line"></span><br /><span class="line">(Table 2462)</span><br /><span class="line">Values for XMS error code returned in BL:</span><br /><span class="line"> 00h   successful</span><br /><span class="line"> 80h   function not implemented</span><br /><span class="line"> 81h   Vdisk was detected</span><br /><span class="line"> 82h   an A20 error occurred</span><br /><span class="line"> 8Eh   a general driver error</span><br /><span class="line"> 8Fh   unrecoverable driver error</span><br /><span class="line"> 90h   HMA does not exist or is not managed by XMS provider</span><br /><span class="line"> 91h   HMA is already in use</span><br /><span class="line"> 92h   DX is less than the /HMAMIN= parameter</span><br /><span class="line"> 93h   HMA is not allocated</span><br /><span class="line"> 94h   A20 line still enabled</span><br /><span class="line"> A0h   all extended memory is allocated</span><br /><span class="line"> A1h   all available extended memory handles are allocated</span><br /><span class="line"> A2h   invalid handle</span><br /><span class="line"> A3h   source handle is invalid</span><br /><span class="line"> A4h   source offset is invalid</span><br /><span class="line"> A5h   destination handle is invalid</span><br /><span class="line"> A6h   destination offset is invalid</span><br /><span class="line"> A7h   length is invalid</span><br /><span class="line"> A8h   move has an invalid overlap</span><br /><span class="line"> A9h   parity error occurred</span><br /><span class="line"> AAh   block is not locked</span><br /><span class="line"> ABh   block is locked</span><br /><span class="line"> ACh   block lock count overflowed</span><br /><span class="line"> ADh   lock failed</span><br /><span class="line"> B0h   only a smaller UMB is available</span><br /><span class="line"> B1h   no UMB&#39;s are available</span><br /><span class="line"> B2h   UMB segment number is invalid</span><br /><span class="line"></span><br /><span class="line">Format of EMM structure:</span><br /><span class="line">Offset Size    Description (Table 2463)</span><br /><span class="line"> 00h   DWORD   number of bytes to move (must be even)</span><br /><span class="line"> 04h   WORD    source handle</span><br /><span class="line"> 06h   DWORD   offset into source block</span><br /><span class="line"> 0Ah   WORD    destination handle</span><br /><span class="line"> 0Ch   DWORD   offset into destination block</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Notes:</span> if source and destination overlap, only forward moves (source base</span><br /><span class="line">     less than destination base) are guaranteed to work properly</span><br /><span class="line">   if either handle is zero, the corresponding offset is interpreted</span><br /><span class="line">     as a real-mode address referring to memory directly addressable</span><br /><span class="line">     by the processor</span><br /><span class="line"></span><br /><span class="line">Format of XMS handle info [array]:</span><br /><span class="line">Offset Size    Description (Table 2464)</span><br /><span class="line"> 00h   BYTE    handle</span><br /><span class="line"> 01h   BYTE    lock count</span><br /><span class="line"> 02h   DWORD   handle size</span><br /><span class="line"> 06h   DWORD   handle physical address (only valid if lock count nonzero)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2434</span><br /></pre>
  
  
  


      </article>

    </section>

    
      <footer>
        <nav class="box">
          <dl>
            <dt>Generated</dt><dd>2025-12-02 09:10:33</dd>
            <dt>Generator</dt><dd><a href="https://ng2web.davep.dev">ng2web v1.2.0 (ngdb v1.1.0)</a></dd>
          </dl>
        </nav>
      </footer>
    

  </body>

</html>

