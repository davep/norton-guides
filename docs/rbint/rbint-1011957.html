





<!DOCTYPE html>
<html>

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.1.0 (ngdb v1.1.0)">
    <link rel="stylesheet" type="text/css" href="rbint-style.css">
    <title>Ralf Brown » Lists » Interrupts</title>
    <meta name="description" content="Ralf Brown">
    <link rel="prev" href="rbint-1011458.html">
    <link rel="next" href="rbint-1022130.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="../index.html">Guides</a></li>


          

<li><a href="rbint-about.html">About</a></li>


          

<li><a href="rbint-1011458.html">Previous</a></li>


          

<li><a href="rbint-993233.html">Up</a></li>


          

<li><a href="rbint-1022130.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <section>

      <nav class="menu box">
        <ul>
            <li>Lists</li>
            <ul>
              <li><a href="index.html">Comments</a></li>
              <li><a href="rbint-7995.html">Interrupts</a></li>
              <li><a href="rbint-15401.html">Glossary</a></li>
              <li><a href="rbint-64347.html">Memory</a></li>
              <li><a href="rbint-180090.html">CMOS</a></li>
              <li><a href="rbint-250757.html">86 Bugs</a></li>
              
            </ul>
        </ul>
      </nav>

      <article class="box">
        
  
  
    <pre class="entry"><span class="line"></span><br /><span class="line"><span class="ngu">Int 14 Fn 8101  - Video Fossil - Open Vfossil                            </span>  [<span class="ngb">V</span>]</span><br /><span class="line"></span><br /><span class="line">   AX = 8101h</span><br /><span class="line">   ES:DI -&gt; buffer for application function table (see #0295)</span><br /><span class="line">   CX = length of buffer in bytes</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = 1954h if installed</span><br /><span class="line">       BH = highest VFOSSIL application function supported</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  the number of initialized pointers in the application function table</span><br /><span class="line">     will never exceed CX/4; if the buffer is large enough, BH+1 pointers</span><br /><span class="line">     will be initialized</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> AX=8102h</span><br /><span class="line"></span><br /><span class="line">Format of VFOSSIL application function table:</span><br /><span class="line">Offset Size    Description (Table 0295)</span><br /><span class="line"> 00h   DWORD   -&gt; function to query current video mode (VioGetMode)(see #0300)</span><br /><span class="line"> 04h   DWORD   -&gt; function to set video mode (VioSetMode) (see #0301)</span><br /><span class="line"> 08h   DWORD   -&gt; function to query hardware config (VioGetConfig) (see #0302)</span><br /><span class="line"> 0Ch   DWORD   -&gt; function to write data in TTY mode (VioWrtTTY) (see #0303)</span><br /><span class="line"> 10h   DWORD   -&gt; function to get current ANSI state (VioGetANSI) (see #0304)</span><br /><span class="line"> 14h   DWORD   -&gt; function to set new ANSI state (VioSetANSI) (see #0305)</span><br /><span class="line"> 18h   DWORD   -&gt; function to get curr cursor position (VioGetCurPos)</span><br /><span class="line">         (see #0306)</span><br /><span class="line"> 1Ch   DWORD   -&gt; function to set cursor position (VioSetCurPos) (see #0307)</span><br /><span class="line"> 20h   DWORD   -&gt; function to get cursor shape (VioGetCurType) (see #0308)</span><br /><span class="line"> 24h   DWORD   -&gt; function to set cursor shape (VioSetCurType) (see #0309)</span><br /><span class="line"> 28h   DWORD   -&gt; function to scroll screen up (VioScrollUp) (see #0310)</span><br /><span class="line"> 2Ch   DWORD   -&gt; function to scroll screen down (VioScrollDn) (see #0311)</span><br /><span class="line"> 30h   DWORD   -&gt; function to read cell string from screen (VioReadCellStr)</span><br /><span class="line">         (see #0312)</span><br /><span class="line"> 34h   DWORD   -&gt; function to read char string from screen (VioReadCharStr)</span><br /><span class="line">         (see #0313)</span><br /><span class="line"> 38h   DWORD   -&gt; function to write a cell string (VioWrtCellStr)</span><br /><span class="line">         (see #0314)</span><br /><span class="line"> 3Ch   DWORD   -&gt; function to write char string, leaving attr (VioWrtCharStr)</span><br /><span class="line">         (see #0315)</span><br /><span class="line"> 40h   DWORD   -&gt; function to write char string,const attr (VioWrtCharStrAttr)</span><br /><span class="line">         (see #0316)</span><br /><span class="line"> 44h   DWORD   -&gt; function to replicate an attribute (VioWrtNAttr)</span><br /><span class="line">         (see #0317)</span><br /><span class="line"> 48h   DWORD   -&gt; function to replicate a cell (VioWrtNCell)</span><br /><span class="line">         (see #0318)</span><br /><span class="line"> 4Ch   DWORD   -&gt; function to replicate a character (VioWrtNChar)</span><br /><span class="line">         (see #0319)</span><br /><span class="line"></span><br /><span class="line">Format of VFOSSIL video mode data structure:</span><br /><span class="line">Offset Size    Description (Table 0296)</span><br /><span class="line"> 00h   WORD    length of structure including this field</span><br /><span class="line"> 02h   BYTE    mode characteristics</span><br /><span class="line">       bit 0: clear if MDA, set otherwise</span><br /><span class="line">       bit 1: graphics mode</span><br /><span class="line">       bit 2: color disabled (black-and-white)</span><br /><span class="line"> 03h   BYTE    number of colors supported (1=2 colors, 4=16 colors, etc)</span><br /><span class="line"> 04h   WORD    number of text columns</span><br /><span class="line"> 06h   WORD    number of text rows</span><br /><span class="line"> 08h   WORD    reserved</span><br /><span class="line"> 0Ah   WORD    reserved</span><br /><span class="line"> 0Ch   DWORD   reserved</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0300,#0301</span><br /><span class="line"></span><br /><span class="line">Format of VFOSSIL video configuration data:</span><br /><span class="line">Offset Size    Description (Table 0297)</span><br /><span class="line"> 00h   WORD    structure length including this field</span><br /><span class="line"> 02h   WORD    adapter type</span><br /><span class="line">       00h monochrome/printer</span><br /><span class="line">       01h CGA</span><br /><span class="line">       02h EGA</span><br /><span class="line">       03h VGA</span><br /><span class="line">       07h 8514/A</span><br /><span class="line"> 04h   WORD    display type</span><br /><span class="line">       00h monochrome</span><br /><span class="line">       01h color</span><br /><span class="line">       02h enhanced color</span><br /><span class="line">       09h 8514</span><br /><span class="line"> 06h   DWORD   adapter memory size</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0302</span><br /><span class="line"></span><br /><span class="line">Format of VFOSSIL cursor type record:</span><br /><span class="line">Offset Size    Description (Table 0298)</span><br /><span class="line"> 00h   WORD    cursor start line</span><br /><span class="line"> 02h   WORD    cursor end line</span><br /><span class="line"> 04h   WORD    cursor width (always 01h)</span><br /><span class="line"> 06h   WORD    cursor attribute (FFFFh = hidden)</span><br /><span class="line"></span><br /><span class="line">(Table 0299)</span><br /><span class="line">Values for VFOSSIL error code:</span><br /><span class="line"> 0000h successful</span><br /><span class="line"> 0074h internal VIO failure</span><br /><span class="line"> 0163h unsupported mode</span><br /><span class="line"> 0166h invalid row value</span><br /><span class="line"> 0167h invalid column value</span><br /><span class="line"> 017Eh buffer too small</span><br /><span class="line"> 01A5h invalid VIO parameter</span><br /><span class="line"> 01B4h invalid VIO handle</span><br /><span class="line"></span><br /><span class="line">(Table 0300)</span><br /><span class="line">Call VioGetMode with:</span><br /><span class="line">   STACK:  WORD    VIO handle (must be 00h)</span><br /><span class="line">       DWORD   pointer to video mode data structure (see #0296)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = error code (00h, 74h, 17Eh, 1B4h) (see #0299)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0301</span><br /><span class="line"></span><br /><span class="line">(Table 0301)</span><br /><span class="line">Call VioSetMode with:</span><br /><span class="line">   STACK:  WORD    VIO handle (must be 00h)</span><br /><span class="line">       DWORD   pointer to video mode data structure (see #0296)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = error code (00h, 74h, 163h, 17Eh, 1A5h, 1B4h) (see #0299)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0300</span><br /><span class="line"></span><br /><span class="line">(Table 0302)</span><br /><span class="line">Call VioGetConfig with:</span><br /><span class="line">   STACK:  WORD    VIO handle (must be 00h)</span><br /><span class="line">       DWORD   pointer to video configuration data buffer (see #0297)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = error code (00h, 74h, 17Eh, 1B4h) (see #0299)</span><br /><span class="line"></span><br /><span class="line">(Table 0303)</span><br /><span class="line">Call VioWrtTTY with:</span><br /><span class="line">   STACK:  WORD    VIO handle (must be 00h)</span><br /><span class="line">       WORD    length of string</span><br /><span class="line">       DWORD   pointer to character string to be written to screen</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = error code (00h, 74h, 1B4h) (see #0299)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Notes:</span> write wraps at end of line and terminates if it reaches end of screen</span><br /><span class="line">   in ANSI mode, ANSI control sequences are interpreted, and this func is</span><br /><span class="line">     not required to be reentrant; in non-ANSI mode, the function is</span><br /><span class="line">     reentrant and may be called from within an MS-DOS function call</span><br /><span class="line"></span><br /><span class="line">(Table 0304)</span><br /><span class="line">Call VioGetANSI with:</span><br /><span class="line">   STACK:  WORD    VIO handle (must be 00h)</span><br /><span class="line">       DWORD   pointer to WORD which will be set to 00h if ANSI is off</span><br /><span class="line">           or 01h if ANSI is on</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = error code (00h, 74h, 1B4h) (see #0299)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0305</span><br /><span class="line"></span><br /><span class="line">(Table 0305)</span><br /><span class="line">Call VioSetANSI with:</span><br /><span class="line">   STACK:  WORD    VIO handle (must be 00h)</span><br /><span class="line">       DWORD   pointer to WORD indicating new state of ANSI</span><br /><span class="line">           00h off, 01h on</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = error code (00h, 74h, 1A4h, 1B4h) (see #0299)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0304</span><br /><span class="line"></span><br /><span class="line">(Table 0306)</span><br /><span class="line">Call VioGetCurPos with:</span><br /><span class="line">   STACK:  WORD    VIO handle (must be 00h)</span><br /><span class="line">       DWORD   pointer to WORD to hold current cursor column (0-based)</span><br /><span class="line">       DWORD   pointer to WORD to hold current cursor row (0-based)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = error code (00h, 74h, 1B4h) (see #0299)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0307</span><br /><span class="line"></span><br /><span class="line">(Table 0307)</span><br /><span class="line">Call VioSetCurPos with:</span><br /><span class="line">   STACK:  WORD    VIO handle (must be 00h)</span><br /><span class="line">       WORD    cursor column</span><br /><span class="line">       WORD    cursor row</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = error code (00h, 74h, 166h, 167h, 1B4h) (see #0299)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  if either coordinate is invalid, the cursor is not moved</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0306</span><br /><span class="line"></span><br /><span class="line">(Table 0308)</span><br /><span class="line">Call VioGetCurType with:</span><br /><span class="line">   STACK:  WORD    VIO handle (must be 00h)</span><br /><span class="line">       DWORD   pointer to cursor type record (see #0298)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = error code (00h, 74h, 1B4h) (see #0299)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0309</span><br /><span class="line"></span><br /><span class="line">(Table 0309)</span><br /><span class="line">Call VioSetCurType with:</span><br /><span class="line">   STACK:  WORD    VIO handle (must be 00h)</span><br /><span class="line">       DWORD   pointer to cursor type record (see #0298)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = error code (00h, 74h, 1A4h, 1B4h) (see #0299)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0310</span><br /><span class="line"></span><br /><span class="line">(Table 0310)</span><br /><span class="line">Call VioScrollUp with:</span><br /><span class="line">   STACK:  WORD    VIO handle (must be 00h)</span><br /><span class="line">       DWORD   pointer to char/attr cell for filling emptied rows</span><br /><span class="line">       WORD    number or rows to scroll (FFFFh = clear area)</span><br /><span class="line">       WORD    right column of scroll area</span><br /><span class="line">       WORD    bottom row of scroll area</span><br /><span class="line">       WORD    left column of scroll area</span><br /><span class="line">       WORD    top row of scroll area</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = error code (00h, 74h, 166h, 167h, 1B4h) (see #0299)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0311,INT 10/AH=06h</span><br /><span class="line"></span><br /><span class="line">(Table 0311)</span><br /><span class="line">Call VioScrollDn with:</span><br /><span class="line">   STACK:  WORD    VIO handle (must be 00h)</span><br /><span class="line">       DWORD   pointer to char/attr cell for filling emptied rows</span><br /><span class="line">       WORD    number or rows to scroll (FFFFh = clear area)</span><br /><span class="line">       WORD    right column of scroll area</span><br /><span class="line">       WORD    bottom row of scroll area</span><br /><span class="line">       WORD    left column of scroll area</span><br /><span class="line">       WORD    top row of scroll area</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = error code (00h, 74h, 166h, 167h, 1B4h) (see #0299)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0310,INT 10/AH=07h</span><br /><span class="line"></span><br /><span class="line">(Table 0312)</span><br /><span class="line">Call VioReadCellStr with:</span><br /><span class="line">   STACK:  WORD    VIO handle (must be 00h)</span><br /><span class="line">       WORD    column at which to start reading</span><br /><span class="line">       WORD    row at which to start reading</span><br /><span class="line">       DWORD   pointer to WORD containing length of buffer in bytes</span><br /><span class="line">           on return, WORD contains number of bytes actually read</span><br /><span class="line">       DWORD   pointer to buffer for cell string</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = error code (00h, 74h, 166h ,167h, 1B4h) (see #0299)</span><br /><span class="line"></span><br /><span class="line">(Table 0313)</span><br /><span class="line">Call VioReadCharStr with:</span><br /><span class="line">   STACK:  WORD    VIO handle (must be 00h)</span><br /><span class="line">       WORD    column at which to start reading</span><br /><span class="line">       WORD    row at which to start reading</span><br /><span class="line">       DWORD   pointer to WORD containing length of buffer in bytes</span><br /><span class="line">           on return, WORD contains number of bytes actually read</span><br /><span class="line">       DWORD   pointer to buffer for character string</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = error code (00h, 74h, 166h ,167h, 1B4h) (see #0299)</span><br /><span class="line"></span><br /><span class="line">(Table 0314)</span><br /><span class="line">Call VioWrtCellStr with:</span><br /><span class="line">   STACK:  WORD    VIO handle (must be 00h)</span><br /><span class="line">       WORD    column at which to start writing</span><br /><span class="line">       WORD    row at which to start writing</span><br /><span class="line">       WORD    length of cell string in bytes</span><br /><span class="line">       DWORD   pointer to cell string to write</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = error code (00h, 74h, 166h, 167h, 1B4h) (see #0299)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  write wraps at end of line and terminates if it reaches end of screen</span><br /><span class="line"></span><br /><span class="line">(Table 0315)</span><br /><span class="line">Call VioWrtCharStr with:</span><br /><span class="line">   STACK:  WORD    VIO handle (must be 00h)</span><br /><span class="line">       WORD    column at which to start writing</span><br /><span class="line">       WORD    row at which to start writing</span><br /><span class="line">       WORD    length of character string</span><br /><span class="line">       DWORD   pointer to character string to write</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = error code (00h, 74h, 166h, 167h, 1B4h) (see #0299)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  write wraps at end of line and terminates if it reaches end of screen</span><br /><span class="line"></span><br /><span class="line">(Table 0316)</span><br /><span class="line">Call VioWrtCharStrAttr with:</span><br /><span class="line">   STACK:  WORD    VIO handle (must be 00h)</span><br /><span class="line">       DWORD   pointer to attribute to be applied to each character</span><br /><span class="line">       WORD    column at which to start writing</span><br /><span class="line">       WORD    row at which to start writing</span><br /><span class="line">       WORD    length of character string</span><br /><span class="line">       DWORD   pointer to character string to write</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = error code (00h, 74h, 166h, 167h, 1B4h) (see #0299)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  write wraps at end of line and terminates if it reaches end of screen</span><br /><span class="line"></span><br /><span class="line">(Table 0317)</span><br /><span class="line">Call VioWrtNAttr with:</span><br /><span class="line">   STACK:  WORD    VIO handle (must be 00h)</span><br /><span class="line">       WORD    column at which to start writing</span><br /><span class="line">       WORD    row at which to start writing</span><br /><span class="line">       WORD    number of times to write attribute</span><br /><span class="line">       DWORD   pointer to display attribute to replicate</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = error code (00h, 74h, 166h, 167h, 1B4h) (see #0299)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  write wraps at end of line and terminates if it reaches end of screen</span><br /><span class="line"></span><br /><span class="line">(Table 0318)</span><br /><span class="line">Call VioWrtNCell with:</span><br /><span class="line">   STACK:  WORD    VIO handle (must be 00h)</span><br /><span class="line">       WORD    column at which to start writing</span><br /><span class="line">       WORD    row at which to start writing</span><br /><span class="line">       WORD    number of times to write cell</span><br /><span class="line">       DWORD   pointer to cell to replicate</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = error code (00h, 74h, 166h, 167h, 1B4h) (see #0299)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  write wraps at end of line and terminates if it reaches end of screen</span><br /><span class="line"></span><br /><span class="line">(Table 0319)</span><br /><span class="line">Call VioWrtNChar with:</span><br /><span class="line">   STACK:  WORD    VIO handle (must be 00h)</span><br /><span class="line">       WORD    column at which to start writing</span><br /><span class="line">       WORD    row at which to start writing</span><br /><span class="line">       WORD    number of times to write character</span><br /><span class="line">       DWORD   pointer to character to replicate</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = error code (00h, 74h, 166h, 167h, 1B4h) (see #0299)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  write wraps at end of line and terminates if it reaches end of screen</span><br /></pre>
  
  
  


      </article>

    </section>

  </body>

</html>

