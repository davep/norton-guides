





<!DOCTYPE html>
<html>

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.2.0 (ngdb v1.1.0)">
    <link rel="stylesheet" type="text/css" href="rbint-style.css">
    <title>Ralf Brown » Lists » Interrupts</title>
    <meta name="description" content="Ralf Brown">
    <link rel="prev" href="rbint-1104342.html">
    <link rel="next" href="rbint-1116218.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="../index.html">Guides</a></li>


          

<li><a href="rbint-about.html">About</a></li>


          

<li><a href="rbint-1104342.html">Previous</a></li>


          

<li><a href="rbint-1061380.html">Up</a></li>


          

<li><a href="rbint-1116218.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <section>

      
        <nav class="menu box">
          <ul>
              <li>Lists</li>
              <ul>
                <li><a href="index.html">Comments</a></li>
                <li><a href="rbint-7995.html">Interrupts</a></li>
                <li><a href="rbint-15401.html">Glossary</a></li>
                <li><a href="rbint-64347.html">Memory</a></li>
                <li><a href="rbint-180090.html">CMOS</a></li>
                <li><a href="rbint-250757.html">86 Bugs</a></li>
                
              </ul>
          </ul>
        </nav>
      

      <article class="box">
        
  
  
    <pre class="entry"><span class="line"></span><br /><span class="line"><span class="ngu">Int 15 Fn 1016  - Topview - &#34;isobj&#34; - Verify Object Handle               </span>  [<span class="ngb">Q</span>]</span><br /><span class="line"></span><br /><span class="line">   AX = 1016h</span><br /><span class="line">   ES:DI = possible object handle</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> BX = status</span><br /><span class="line">       FFFFh if ES:DI is a valid object handle (see #0340)</span><br /><span class="line">       0000h if ES:DI is not</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  under DESQview versions prior to 2.50, an object handle is always a</span><br /><span class="line">     pointer to the object; for versions 2.50 and up, only task handles</span><br /><span class="line">     are always pointers--other handles may consist of a unique object</span><br /><span class="line">     number and offset into DESQview&#39;s common memory (see #0349)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> AX=DE14h,AX=DE2Bh,AX=DE2Ch</span><br /><span class="line"></span><br /><span class="line">(Table 0339)</span><br /><span class="line">Values for DESQview object type:</span><br /><span class="line"> 00h   window/task</span><br /><span class="line"> 01h   mailbox</span><br /><span class="line"> 02h   keyboard</span><br /><span class="line"> 03h   timer</span><br /><span class="line"> 04h   pointer</span><br /><span class="line"> 05h   panel</span><br /><span class="line"> 06h   objectq</span><br /><span class="line"></span><br /><span class="line">Format of DESQview object:</span><br /><span class="line">Offset Size    Description (Table 0340)</span><br /><span class="line"> 00h   WORD    offset in common memory of previous object of same type</span><br /><span class="line"> 02h   WORD    offset in common memory of next object of same type</span><br /><span class="line"> 04h   WORD    signature FEDCh (DV 2.42-)</span><br /><span class="line">       signature FEDCh or object number (DV 2.50+)</span><br /><span class="line"> 06h   WORD    object type (see #0339)</span><br /><span class="line"> 08h   DWORD   object handle to return to caller</span><br /><span class="line"> 0Ch   DWORD   canonicalized object address (segment = common memory)</span><br /><span class="line"> 10h   WORD    offset in common memory of owning task</span><br /><span class="line">       (0000h for unowned OBJECTQs)</span><br /><span class="line"> 12h   WORD    mapping context</span><br /><span class="line">       offset in common memory of mapping context record (see #0342)</span><br /><span class="line">   remainder varies by object type and DESQview version</span><br /><span class="line">---v2.42 keyboard object---</span><br /><span class="line"> 14h   WORD    flag bits (see also AH=12h/BH=0Ah&#34;OBJECT&#34;)</span><br /><span class="line">       bit 15: keyboard opened</span><br /><span class="line"> 16h  4 BYTEs  ???</span><br /><span class="line"> 1Ah   WORD    priority in OBJECTQ???</span><br /><span class="line"> 1Ch   ...</span><br /><span class="line"> 25h   WORD    offset in common memory of ??? task</span><br /><span class="line"> 27h  4 BYTEs  ???</span><br /><span class="line">---v2.42 objectq object---</span><br /><span class="line"> 14h   WORD    flag bits (see also AH=12h/BH=0Ah&#34;OBJECT&#34;)</span><br /><span class="line">       bit 15: OBJECTQ opened</span><br /><span class="line"> 16h  2 BYTEs  ???</span><br /><span class="line"> 18h   WORD    offset in common memory of ??? task</span><br /><span class="line"> 1Ah  6 BYTEs  ???</span><br /><span class="line">---v2.42 mailbox object---</span><br /><span class="line"> 14h   WORD    flag bits (see also AH=12h/BH=0Ah&#34;OBJECT&#34;)</span><br /><span class="line">       bit 15: mailbox opened</span><br /><span class="line"> 1Ah   WORD    priority in OBJECTQ???</span><br /><span class="line"> 1Ch  6 BYTEs  ???</span><br /><span class="line"> 22h   WORD    offset in common memory of mailbox name (counted string)</span><br /><span class="line">       0000h if no name</span><br /><span class="line">     &lt;= 5 BYTEs ???</span><br /><span class="line">---v2.22-2.42,2.52,2.60 window/task object---</span><br /><span class="line"> 14h   BYTE    00h window, 01h task</span><br /><span class="line"> 15h   BYTE    internal (not Switch menu) window number???</span><br /><span class="line"> 16h   BYTE    internal (not Switch menu) window number???</span><br /><span class="line"> 17h   WORD    segment of internal window record (see #0343)</span><br /><span class="line"> 19h  2 BYTEs  ???</span><br /><span class="line"> 1Bh   BYTE    cursor row</span><br /><span class="line"> 1Ch   BYTE    cursor column</span><br /><span class="line"> 1Dh   BYTE    visible window origin, row</span><br /><span class="line"> 1Eh   BYTE    visible window origin, column</span><br /><span class="line"> 1Fh   BYTE    window height (logical)</span><br /><span class="line"> 20h   BYTE    window width (logical)</span><br /><span class="line"> 21h   BYTE    window position, row</span><br /><span class="line"> 22h   BYTE    window position, column</span><br /><span class="line"> 23h   BYTE    window height (visible)</span><br /><span class="line"> 24h   BYTE    window width (visible)</span><br /><span class="line"> 25h   BYTE    row of top of frame (or window if unframed)</span><br /><span class="line"> 26h   BYTE    column of left of frame (or window if unframed)</span><br /><span class="line"> 27h   BYTE    window height (physical, including frame)</span><br /><span class="line"> 28h   BYTE    window width (physical, including frame)</span><br /><span class="line"> 29h   BYTE    unzoomed visible origin, row (00h before first zoom)</span><br /><span class="line"> 2Ah   BYTE    unzoomed visible origin, column (00h before first zoom)</span><br /><span class="line"> 2Bh   BYTE    unzoomed window position, row (00h before first zoom)</span><br /><span class="line"> 2Ch   BYTE    unzoomed window position, column (00h before first zoom)</span><br /><span class="line"> 2Dh   BYTE    unzoomed window height (00h before first zoom)</span><br /><span class="line"> 2Eh   BYTE    unzoomed window width (00h before first zoom)</span><br /><span class="line">       unzoomed parameters above are updated when window is zoomed</span><br /><span class="line">         to full screen</span><br /><span class="line"> 2Fh   BYTE    ??? initially logical window height</span><br /><span class="line"> 30h   BYTE    ??? initially logical window width</span><br /><span class="line"> 31h  2 BYTEs  ???</span><br /><span class="line"> 33h   BYTE    minimum height of window</span><br /><span class="line"> 34h   BYTE    minimum width of window</span><br /><span class="line"> 35h   BYTE    maximum height of window</span><br /><span class="line"> 36h   BYTE    maximum width of window</span><br /><span class="line"> 37h  3 BYTEs  ???</span><br /><span class="line"> 3Ah  8 BYTEs  window frame characters: ul,ur,ll,lr,t,b,l,r</span><br /><span class="line"> 42h 24 BYTEs  attributes???</span><br /><span class="line"> 5Ah  8 BYTEs  window frame characters: ul,ur,ll,lr,t,b,l,r</span><br /><span class="line"> 62h  3 BYTEs  ???</span><br /><span class="line"> 65h   BYTE    ??? bitflags</span><br /><span class="line"> 66h   BYTE    bit 0: window is zoomed</span><br /><span class="line"> 67h   BYTE    ???</span><br /><span class="line"> 68h   WORD    offset in common memory of window name or 0000h if untitled</span><br /><span class="line"> 6Ah   WORD    length of window name</span><br /><span class="line"> 6Ch  2 BYTEs  ???</span><br /><span class="line"> 6Eh   WORD    offset of logical cursor in window (in character cells)</span><br /><span class="line"> 70h   DWORD   pointer to field table for window</span><br /><span class="line"> 74h   BYTE    ???</span><br /><span class="line"> 75h  2 BYTEs  ???</span><br /><span class="line"> 77h   BYTE    number of last-visited field</span><br /><span class="line"> 78h   DWORD   pointer to field table entry for last-visited field</span><br /><span class="line"> 7Ch  3 BYTEs  ???</span><br /><span class="line"> 7Fh   BYTE    select field marker character</span><br /><span class="line"> 80h   BYTE    ??? bit flags</span><br /><span class="line">       bit 0: allow ECh window stream opcode to change reverse logattr</span><br /><span class="line">       bit 1: alternate field processing mode selected</span><br /><span class="line"> 81h   BYTE    ???</span><br /><span class="line"> 82h   DWORD   notification function (manager stream opcode 8Ah)</span><br /><span class="line">       no notification if segment = 0000h</span><br /><span class="line"> 86h   DWORD   notification argument (manager stream opcode 8Bh)</span><br /><span class="line"> 8Ah   WORD    offset in common memory of ??? window object or 0000h</span><br /><span class="line"> 8Ch   WORD    offset in common memory of ??? window object or 0000h</span><br /><span class="line"> 8Eh   WORD    offset in common memory of ??? window object or 0000h</span><br /><span class="line"> 90h   BYTE    ??? bitflags</span><br /><span class="line"> 91h   BYTE    ???</span><br /><span class="line"> ---task object only</span><br /><span class="line"> 92h   BYTE    bit flags (bits 0-4)</span><br /><span class="line"> 93h   BYTE    character for ??? (default 20h)</span><br /><span class="line"> 94h   BYTE    ??? flag</span><br /><span class="line"> 95h   WORD    offset in common memory of ???</span><br /><span class="line"> 97h  2 BYTEs  ???</span><br /><span class="line"> 99h   WORD    ???</span><br /><span class="line"> 9Bh   BYTE    ??? bit flags</span><br /><span class="line">       bit 3: ???</span><br /><span class="line">       bit 6: perform protected-attribute processing on select fields</span><br /><span class="line"> 9Ch   BYTE    ???</span><br /><span class="line"> 9Dh   WORD    offset in common memory of current register save record</span><br /><span class="line">         (see #0341).  No register save record in use if &lt; 01C0h</span><br /><span class="line"> 9Fh   WORD    offset in common memory of task&#39;s keyboard object</span><br /><span class="line"> A1h   WORD    offset in common memory of task&#39;s OBJECTQ object</span><br /><span class="line"> A3h   WORD    offset in common memory of task&#39;s mailbox object</span><br /><span class="line"> A5h   WORD    semaphore: FFFFh if on user stack, else on task&#39;s private stack</span><br /><span class="line"> A7h   DWORD   user&#39;s SS:SP</span><br /><span class="line"> ABh   WORD    task&#39;s private SP (SS read from offset 0Ah)</span><br /><span class="line"> ADh  6 BYTEs  ???</span><br /><span class="line"> B3h   BYTE    ??? bit flags</span><br /><span class="line">       bit 0: run in foreground only</span><br /><span class="line"> B4h   BYTE    ???</span><br /><span class="line"> B5h   BYTE    ??? bitflags</span><br /><span class="line"> B6h   BYTE    task status (see #0479 at AX=DE2Ch)</span><br /><span class="line"> B7h  9 BYTEs  ???</span><br /><span class="line"> C0h   WORD    head pointer for keyboard buffer (wraps back to 00h after 80h)</span><br /><span class="line"> C2h   WORD    tail pointer for keyboard buffer (wraps back to 00h after 80h)</span><br /><span class="line"> C4h  2 BYTEs  ??? (0000h)</span><br /><span class="line"> C6h   WORD    segment of keyboard buffer for task</span><br /><span class="line"> C8h   WORD    offset in common memory of ??? keyboard object</span><br /><span class="line"> CAh   BYTE    ???</span><br /><span class="line">---v2.22-2.42</span><br /><span class="line"> CBh   WORD    offset in common memory of ??? object</span><br /><span class="line"> CEh   BYTE    ??? flag</span><br /><span class="line"> CFh   WORD    offset in common memory of default notify window for task</span><br /><span class="line">         or 0000h if none</span><br /><span class="line"> D1h  4 BYTEs  ???</span><br /><span class="line"> D5h   BYTE    window number on Switch Window menu</span><br /><span class="line"> D6h  5 BYTEs  ???</span><br /><span class="line"> DBh   WORD    offset in common memory of ??? object</span><br /><span class="line"> DDh  2 BYTEs  ???</span><br /><span class="line"> DFh   WORD    API level for task</span><br /><span class="line"> E1h   WORD    offset in common memory of object task is waiting on if task</span><br /><span class="line">         status is &#39;waiting&#39;, else 0000h</span><br /><span class="line"> E7h   WORD    segment of ???</span><br /><span class="line"> E9h 4 BYTEs   ???</span><br /><span class="line"> EDh   WORD    EMS handle of virtualization buffer, 0000h if no virtualization</span><br /><span class="line"> F1h 12 BYTEs  ???</span><br /><span class="line"> FBh   WORD    ???</span><br /><span class="line"> FDh   BYTE    ???</span><br /><span class="line"> FFh 12 BYTEs  ???</span><br /><span class="line">10Bh   DWORD   pointer to process record (see #0344,#0345)</span><br /><span class="line">10Dh 10 BYTEs  ???</span><br /><span class="line">119h   DWORD   SS:SP for ???</span><br /><span class="line">11Dh  4 BYTEs  ???</span><br /><span class="line">121h   DWORD   pointer to ???</span><br /><span class="line">125h 25 BYTEs  ???</span><br /><span class="line">13Eh   DWORD   pointer to ??? in system memory</span><br /><span class="line">---v2.22</span><br /><span class="line">142h  3 BYTEs  ???</span><br /><span class="line">145h       task&#39;s default keyboard object</span><br /><span class="line">---v2.42</span><br /><span class="line">142h   DWORD   pointer to first task instance data record in system memory</span><br /><span class="line">148h   DWORD   pointer to last task instance data record in system memory</span><br /><span class="line">       (see #0346)</span><br /><span class="line">14Ah   BYTE    ???</span><br /><span class="line">14Dh 42 BYTEs  task&#39;s default keyboard object</span><br /><span class="line">177h 32 BYTEs  task&#39;s ObjectQ object</span><br /><span class="line">197h 41 BYTEs  task&#39;s default mailbox object</span><br /><span class="line">1C0h 24 BYTEs  first register save record</span><br /><span class="line">450h   --  default top of private stack</span><br /><span class="line">---v2.52 (probably all DV/X)</span><br /><span class="line">Same as v2.60 below except there is an extra 29 bytes inserted somewhere</span><br /><span class="line">  before offset 9Fh, but not yet known exactly where.  Also, for the WAIT_ON</span><br /><span class="line">  field (v2.60 offset E3h), some X apps (probably waiting on a socket) have</span><br /><span class="line">  0000h even when waiting.</span><br /><span class="line">---v2.60</span><br /><span class="line"> CBh   WORD    ??? (added in 2.50 - rest is same as 2.42)</span><br /><span class="line"> CDh   WORD    offset in common memory of ??? object</span><br /><span class="line"> D0h   BYTE    ??? flag</span><br /><span class="line"> D1h   WORD    offset in common memory of default notify window for task</span><br /><span class="line">         or 0000h if none</span><br /><span class="line"> D3h  4 BYTEs  ???</span><br /><span class="line"> D7h   BYTE    window number on Switch Window menu</span><br /><span class="line"> D8h  5 BYTEs  ???</span><br /><span class="line"> DDh   WORD    offset in common memory of ??? object</span><br /><span class="line"> DFh  2 BYTEs  ???</span><br /><span class="line"> E1h   WORD    API level for task</span><br /><span class="line"> E3h   WORD    If status at B6h=waiting, offset in common memory of object</span><br /><span class="line">         that task is waiting on, else 0000h. (Task with CPU also</span><br /><span class="line">         has 0000h here)</span><br /><span class="line"> E9h   WORD    segment of ???</span><br /><span class="line"> EBh 4 BYTEs   ???</span><br /><span class="line"> EFh   WORD    EMS handle of virtualization buffer, 0 if no virtualization</span><br /><span class="line"> F3h 12 BYTEs  ???</span><br /><span class="line"> FDh   WORD    ???</span><br /><span class="line"> FFh   BYTE    ???</span><br /><span class="line">101h  8 BYTEs  ???</span><br /><span class="line">109h   DWORD   pointer to process record in system memory</span><br /><span class="line">10Dh 14 BYTEs  ???</span><br /><span class="line">11Bh   DWORD   SS:SP for ???</span><br /><span class="line">11Fh  4 BYTEs  ???</span><br /><span class="line">123h   DWORD   pointer to ???</span><br /><span class="line">127h 25 BYTEs  ???</span><br /><span class="line">140h   DWORD   pointer to ??? in system memory</span><br /><span class="line">144h   DWORD   pointer to first task instance data record in system memory</span><br /><span class="line">148h   DWORD   pointer to last task instance data record in system memory</span><br /><span class="line">       (from INT 15/AX=DE27h) (see #0346)</span><br /><span class="line">14Ch   BYTE    ???</span><br /><span class="line">14Eh 42 BYTEs  task&#39;s default keyboard object</span><br /><span class="line">179h 32 BYTEs  task&#39;s ObjectQ object</span><br /><span class="line">199h 41 BYTEs  task&#39;s default mailbox object</span><br /><span class="line">1C2h 24 BYTEs  first register save record</span><br /><span class="line">452h   --  default top of private stack</span><br /><span class="line"></span><br /><span class="line">Format of DESQview Register Save Record:</span><br /><span class="line">Offset Size    Description (Table 0341)</span><br /><span class="line"> 00h   WORD    AX</span><br /><span class="line"> 02h   WORD    BX</span><br /><span class="line"> 04h   WORD    CX</span><br /><span class="line"> 06h   WORD    DX</span><br /><span class="line"> 08h   WORD    DI</span><br /><span class="line"> 0Ah   WORD    SI</span><br /><span class="line"> 0Eh   WORD    DS</span><br /><span class="line"> 10h   WORD    ES</span><br /><span class="line"> 12h   DWORD   return address</span><br /><span class="line"> 16h   WORD    original flags</span><br /><span class="line"></span><br /><span class="line">Format of DESQview mapping context record:</span><br /><span class="line">Offset Size    Description (Table 0342)</span><br /><span class="line"> 00h   WORD    lowest segment in process&#39;s memory</span><br /><span class="line">       (often start of system memory chain)</span><br /><span class="line"> 02h   WORD    size of process&#39;s memory in paragraphs</span><br /><span class="line"> 04h   BYTE    flag: 00h if process swapped out, 01h otherwise</span><br /><span class="line"> 05h   BYTE    flag: 00h if allocated in conventional memory, 01h if EMS</span><br /><span class="line"> 06h  2 BYTEs  ???</span><br /><span class="line"> 08h   WORD    EMS handle if in EMS, else 0</span><br /><span class="line"> 0Ah  2 BYTEs  ??? (nonzero if system memory resides in shared mem???)</span><br /><span class="line"> 0Ch   WORD    segment of system memory block that contains process record,</span><br /><span class="line">         referenced from segment of start of system memory chain</span><br /><span class="line"> 0Eh   BYTE    ???</span><br /><span class="line"> 0Fh   WORD    size of system memory block that contains process record</span><br /><span class="line">         and DOS memory in paragraphs</span><br /><span class="line"> 11h   BYTE    bit flags</span><br /><span class="line">       Bit 0: Swapped out???</span><br /><span class="line">       Bit 1: ???</span><br /><span class="line">       Bit 2: Swapped out???</span><br /><span class="line"> 12h   BYTE    ???</span><br /><span class="line"> 13h   BYTE    reference count</span><br /><span class="line"> ---v2.31</span><br /><span class="line"> 14h 10 BYTEs  ???</span><br /><span class="line"> 1Eh   WORD    segment of process record</span><br /><span class="line"> 20h  2 BYTEs  ???</span><br /><span class="line"> 22h   WORD    segment of ???  (in first free system memory block???)</span><br /><span class="line"> 24h   WORD    segment of end of system memory chain</span><br /><span class="line"> 26h   WORD    segment of start of system memory chain</span><br /><span class="line"> 28h  8 BYTEs  ???</span><br /><span class="line"> 2Ah   DWORD   pointer to ??? (process record???)</span><br /><span class="line"> 2Dh 10 BYTEs  ???</span><br /><span class="line"> 37h   BYTE    lowest interrupt vector to save on context switch</span><br /><span class="line"> 38h   BYTE    highest interrupt vector to save on context switch</span><br /><span class="line"> 39h   WORD    offset in common memory of main task with this context</span><br /><span class="line"> 3Ah 12 BYTEs  ???</span><br /><span class="line"> 46h   BYTE    internal mapping context number</span><br /><span class="line"> 47h 12 BYTEs  ???</span><br /><span class="line"> ---v2.5x-2.60</span><br /><span class="line"> 14h  6 BYTEs  ???</span><br /><span class="line"> 1Ah   WORD    segment of process record</span><br /><span class="line"> 1Ch  2 BYTEs  ???</span><br /><span class="line"> 1Eh   WORD    segment of first free system memory block</span><br /><span class="line"> 20h   WORD    segment of start of system memory chain</span><br /><span class="line"> 22h   WORD    segment of end of system memory chain</span><br /><span class="line"> 24h 8 BYTEs   ???</span><br /><span class="line"> 2Ch   DWORD   pointer to ??? (1 segment into process record???)</span><br /><span class="line"> 30h 3 BYTEs   ???</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">.NG limit reached, continued in next section...</span></span><br /></pre>
  
  
  


      </article>

    </section>

    
      <footer>
        <nav class="box">
          <dl>
            <dt>Generated</dt><dd>2025-12-02 09:10:33</dd>
            <dt>Generator</dt><dd><a href="https://ng2web.davep.dev">ng2web v1.2.0 (ngdb v1.1.0)</a></dd>
          </dl>
        </nav>
      </footer>
    

  </body>

</html>

