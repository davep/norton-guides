





<!DOCTYPE html>
<html>

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.1.0 (ngdb v1.1.0)">
    <link rel="stylesheet" type="text/css" href="rbint-style.css">
    <title>Ralf Brown » Lists » Interrupts</title>
    <meta name="description" content="Ralf Brown">
    <link rel="prev" href="rbint-3590987.html">
    <link rel="next" href="rbint-3603878.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="../index.html">Guides</a></li>


          

<li><a href="rbint-about.html">About</a></li>


          

<li><a href="rbint-3590987.html">Previous</a></li>


          

<li><a href="rbint-3558542.html">Up</a></li>


          

<li><a href="rbint-3603878.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <section>

      <nav class="menu box">
        <ul>
            <li>Lists</li>
            <ul>
              <li><a href="index.html">Comments</a></li>
              <li><a href="rbint-7995.html">Interrupts</a></li>
              <li><a href="rbint-15401.html">Glossary</a></li>
              <li><a href="rbint-64347.html">Memory</a></li>
              <li><a href="rbint-180090.html">CMOS</a></li>
              <li><a href="rbint-250757.html">86 Bugs</a></li>
              
            </ul>
        </ul>
      </nav>

      <article class="box">
        
  
  
    <pre class="entry"><span class="line"></span><br /><span class="line"><span class="ngu">Int 2F Fn 0802  U - Driver.sys Support - Execute Device Driver Request  <span class="ngb">(Cont.)</span></span></span><br /><span class="line"></span><br /><span class="line">       <span class="ngb">Note:</span>   the queue size field must be set before calling</span><br /><span class="line">       0Dh &#34;QueueWrite&#34; put a character in the queue</span><br /><span class="line">       DS:BX -&gt; character queue (see #2287)</span><br /><span class="line">       AL = character to append to end of queue</span><br /><span class="line"></span><br /><span class="line">       <span class="ngb">Return:</span> ZF set if queue is full</span><br /><span class="line">           ZF clear if character stored</span><br /><span class="line">       0Eh &#34;QueueRead&#34; get a character from the queue</span><br /><span class="line">       DS:BX -&gt; character queue (see #2287)</span><br /><span class="line"></span><br /><span class="line">       <span class="ngb">Return:</span> ZF set if queue is empty</span><br /><span class="line">           ZF clear if characters in queue</span><br /><span class="line">               AL = first character in queue</span><br /><span class="line">       10h &#34;GetDOSVar&#34; return pointer to DOS variable</span><br /><span class="line">       AL = index of variable</span><br /><span class="line">           03h current process ID</span><br /><span class="line">       BX = index into variable if AL specifies an array</span><br /><span class="line">       CX = expected length of variable</span><br /><span class="line"></span><br /><span class="line">       <span class="ngb">Return:</span> CF clear if successful</span><br /><span class="line">               DX:AX -&gt; variable</span><br /><span class="line">           CF set on error</span><br /><span class="line">               AX,DX destroyed</span><br /><span class="line">           BX,CX destroyed</span><br /><span class="line"></span><br /><span class="line">       <span class="ngb">Note:</span>   the variables may not be modified</span><br /><span class="line">       14h &#34;Yield&#34; yield CPU if higher-priority task ready to run</span><br /><span class="line"></span><br /><span class="line">       <span class="ngb">Return:</span> FLAGS destroyed</span><br /><span class="line">       1Bh &#34;CritEnter&#34; begin system critical section</span><br /><span class="line">       DS:BX -&gt; semaphore (6 BYTEs, initialized to zero)</span><br /><span class="line"></span><br /><span class="line">       <span class="ngb">Return:</span> AX,BX,CX,DX destroyed</span><br /><span class="line">       1Ch &#34;CritLeave&#34; end system critical section</span><br /><span class="line">       DS:BX -&gt; semaphore (6 BYTEs, initialized to zero)</span><br /><span class="line"></span><br /><span class="line">       <span class="ngb">Return:</span> AX,BX,CX,DX destroyed</span><br /><span class="line"></span><br /><span class="line">       <span class="ngb">Note:</span>   must be called in the context of the process which</span><br /><span class="line">             called CritEnter on the semaphore</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Note:</span>  the DWORD pointing at the request queue must be allocated by the driver</span><br /><span class="line">     and initialized to 0000h:0000h.  It always points at the next request</span><br /><span class="line">     to be executed</span><br /><span class="line"></span><br /><span class="line">Format of European MS-DOS 4.0 character queue:</span><br /><span class="line">Offset Size    Description (Table 2287)</span><br /><span class="line"> 00h   WORD    size of queue in bytes</span><br /><span class="line"> 02h   WORD    index of next character out</span><br /><span class="line"> 04h   WORD    count of characters in the queue</span><br /><span class="line"> 06h  N BYTEs  queue buffer</span><br /></pre>
  
  
  


      </article>

    </section>

  </body>

</html>

