





<!DOCTYPE html>
<html>

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.1.0 (ngdb v1.1.0)">
    <link rel="stylesheet" type="text/css" href="rbint-style.css">
    <title>Ralf Brown » Lists » Interrupts</title>
    <meta name="description" content="Ralf Brown">
    <link rel="prev" href="rbint-4125733.html">
    <link rel="next" href="rbint-4133693.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="../index.html">Guides</a></li>


          

<li><a href="rbint-about.html">About</a></li>


          

<li><a href="rbint-4125733.html">Previous</a></li>


          

<li><a href="rbint-4031282.html">Up</a></li>


          

<li><a href="rbint-4133693.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <section>

      <nav class="menu box">
        <ul>
            <li>Lists</li>
            <ul>
              <li><a href="index.html">Comments</a></li>
              <li><a href="rbint-7995.html">Interrupts</a></li>
              <li><a href="rbint-15401.html">Glossary</a></li>
              <li><a href="rbint-64347.html">Memory</a></li>
              <li><a href="rbint-180090.html">CMOS</a></li>
              <li><a href="rbint-250757.html">86 Bugs</a></li>
              
            </ul>
        </ul>
      </nav>

      <article class="box">
        
  
  
    <pre class="entry"><span class="line"></span><br /><span class="line"><span class="ngu">Int 2F Fn 7A40  - Novell Netware - Tcp/ip Protocol Stack - Installation C</span>  [<span class="ngb">N</span>]</span><br /><span class="line"></span><br /><span class="line">   AX = 7A40h</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> AX = 7AFFh if installed</span><br /><span class="line">       0000h:BX = address of interrupt vector for MLID ISR</span><br /><span class="line">       CX = version (CH=major, CL=minor)</span><br /><span class="line">       DX = 0000h</span><br /><span class="line">       ES:DI -&gt; entry point for TCP/IP stack (see #2589)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Notes:</span> Novell&#39;s LAN Workplace for DOS TCPIP.EXE also supports this interface</span><br /><span class="line">   this function is also supported by the Beame&amp;Whiteside BWLWP40 shim,</span><br /><span class="line">     but it only returns AL and ES:DI, and does not support AX=7A41h</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> AX=7A41h,INT 15/AX=DE2Eh,INT 60&#34;Excelan&#34;</span><br /><span class="line"></span><br /><span class="line"></span><br /><span class="line">(Table 2588)</span><br /><span class="line">Values for NetWare TCP/IP function code:</span><br /><span class="line"> 01h   &#34;accept&#34; accept a network connection request</span><br /><span class="line"> 02h   &#34;bind&#34; associate an address with a socket</span><br /><span class="line"> 03h   close socket</span><br /><span class="line">   Call:   socket number field set</span><br /><span class="line"> 04h   &#34;connect&#34; connect to a remote host</span><br /><span class="line"> 05h   &#34;getmyipaddr&#34; get IP address</span><br /><span class="line">   Call:   socket number field in sockaddr set to 0000h</span><br /><span class="line"> 06h   &#34;getmymacaddr&#34; get hardware address</span><br /><span class="line"> 07h   &#34;getpeername&#34;</span><br /><span class="line"> 08h   &#34;getsockname&#34; get socket name</span><br /><span class="line"> 09h   &#34;getsockopt&#34; get socket options</span><br /><span class="line"> 0Ah   &#34;getsubnetmask&#34; get subnet mask</span><br /><span class="line"> 0Bh   &#34;ioctl&#34;</span><br /><span class="line"> 0Ch   &#34;listen&#34; wait for connection request on socket</span><br /><span class="line"> 0Dh   &#34;select&#34;</span><br /><span class="line"></span><br /><span class="line">   <span class="ngb">Return:</span> socket bitmap updated (1=active)</span><br /><span class="line"> 0Eh   &#34;setmyipaddr&#34; (obsolete) set IP address</span><br /><span class="line"> 0Fh   &#34;setsockopt&#34; set socket options</span><br /><span class="line"> 10h   &#34;shutdown&#34;</span><br /><span class="line"> 11h   &#34;socket&#34; open socket</span><br /><span class="line">   Call:   socket number field set to 0000h</span><br /><span class="line"></span><br /><span class="line">   <span class="ngb">Return:</span> socket number set</span><br /><span class="line"> 12h   &#34;recv&#34; get data from peer</span><br /><span class="line"> 13h   &#34;recvfrom&#34; get data from specified remote host</span><br /><span class="line">   Call:   socket number set</span><br /><span class="line">       packet length and buffer descriptors set</span><br /><span class="line"></span><br /><span class="line">   <span class="ngb">Return:</span> packet length and receive buffers updated</span><br /><span class="line">       sockaddr field set to source port number + IP address</span><br /><span class="line"> 14h   &#34;send&#34; write data to socket</span><br /><span class="line"> 15h   &#34;sendto&#34; write data to specified recipient</span><br /><span class="line">   Call:   socket number set</span><br /><span class="line">       flags at offset 18h = 0000h</span><br /><span class="line">       packet length and buffer descriptors set</span><br /><span class="line">---v4.02+ ---</span><br /><span class="line"> 16h   get BOOTP data</span><br /><span class="line"></span><br /><span class="line">   <span class="ngb">Return:</span> BOOTP data stored in parameter block (see #2592)</span><br /><span class="line"> 17h   &#34;getsnmpinfo&#34;</span><br /><span class="line"> 18h   &#34;getpathinfo&#34; get/set configuration???</span><br /><span class="line">---v4.??? ---</span><br /><span class="line"> 19h   &#34;getifn&#34;    get interface number</span><br /><span class="line"> 1Ah   &#34;setipinfo&#34; set IP information</span><br /><span class="line"> 1Bh   &#34;getipinfo&#34; get IP information</span><br /><span class="line"> 1Ch   &#34;setdnsinfo&#34;    set DNS information</span><br /><span class="line"> 1Dh   &#34;getdnsinfo&#34;    get DNS information</span><br /><span class="line"> 1Eh   &#34;setroutes&#34; set/modify route entry(ies)</span><br /><span class="line"> 1Fh   &#34;getroutes&#34; get route entry(ies)</span><br /><span class="line"> 20h   &#34;removeroutes&#34;  remove route entry(ies)</span><br /><span class="line"> 21h   &#34;setarpe&#34;   set/modify ARP entry(ies)</span><br /><span class="line"> 22h   &#34;getarpe&#34;   get ARP entry(ies)</span><br /><span class="line"> 23h   &#34;removearpe&#34;    remove ARP entry(ies)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Notes:</span> these functions are based on the Unix socket interface</span><br /><span class="line">   OR function number with 80h to call ESR</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2590</span><br /><span class="line"></span><br /><span class="line">(Table 2589)</span><br /><span class="line">Call NetWare TCP/IP entry point with:</span><br /><span class="line">   ES:SI -&gt; parameter block (see #2590)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> ES:SI parameter block updated</span><br /><span class="line">   DX may be destroyed</span><br /><span class="line"></span><br /><span class="line">Format of NetWare TCP/IP Request Control Block (RCB):</span><br /><span class="line">Offset Size    Description (Table 2590)</span><br /><span class="line"> 00h   DWORD   -&gt; next RCB</span><br /><span class="line"> 04h   DWORD   -&gt; previous RCB</span><br /><span class="line"> 08h   DWORD   -&gt; FAR post routine called if bit 7 of function code set</span><br /><span class="line"> 0Ch   BYTE    flags (internal use)</span><br /><span class="line">       bit 0: request in progress</span><br /><span class="line">       bit 1: posted</span><br /><span class="line">       bit 2: Windows</span><br /><span class="line">       bit 3: &#34;PROTBUF&#34;</span><br /><span class="line">       bit 4: &#34;ABORTRCB&#34; for Ctrl-Break handling</span><br /><span class="line">       bit 5: call INT 21/AX=0B00h while blocking</span><br /><span class="line"> 0Dh  7 BYTEs  ???</span><br /><span class="line"> 14h   BYTE    (ret) temporary result code</span><br /><span class="line"> 15h   BYTE    (call) function code (bit 7 set if non-blocking) (see #2588)</span><br /><span class="line"> 16h   BYTE    socket number</span><br /><span class="line"> 17h   BYTE    (ret) result or error code (see #2591)</span><br /><span class="line">---accept/bind/connect/getmyipaddr/getpeername/getsockname commands---</span><br /><span class="line"> 18h       sockaddr structure (WORD port + DWORD IP address)</span><br /><span class="line">---close comand---</span><br /><span class="line"> no additional fields</span><br /><span class="line">---getmymacaddr command---</span><br /><span class="line"> 18h  6 BYTEs  low-level hardware network address</span><br /><span class="line">---BOOTP command---</span><br /><span class="line"> 18h 64 BYTEs  BOOTP VSA data (see #2592)</span><br /><span class="line">---getpathinfo command</span><br /><span class="line"> 18h  8 BYTEs  key</span><br /><span class="line">       &#34;TCP_CFG&#34; used by PING.EXE</span><br /><span class="line"> 20h 128 BYTEs path</span><br /><span class="line"> A0h   WORD    length of path in previous field</span><br /><span class="line">---getsockopt/setsockopt commands---</span><br /><span class="line"> 18h   WORD    option name</span><br /><span class="line">       0004h SO_REUSEADDR</span><br /><span class="line">       0008h SO_KEEPALIVE</span><br /><span class="line">       0080h SO_LINGER</span><br /><span class="line"> 1Ah   WORD    option value</span><br /><span class="line"> 1Ch   WORD    &#34;linger&#34;</span><br /><span class="line">---getsubnetmask command---</span><br /><span class="line"> 18h   DWORD   subnet mask</span><br /><span class="line">---ioctl command---</span><br /><span class="line"> 18h   DWORD   argument value</span><br /><span class="line"> 1Ch   WORD    ioctl number</span><br /><span class="line">---listen command---</span><br /><span class="line"> 18h   WORD    maximum allowable connection backlog</span><br /><span class="line">---select command---</span><br /><span class="line"> 18h   WORD    number of sockets</span><br /><span class="line"> 1Ah       fd_set readfds (bitmap of sockets)</span><br /><span class="line">       fd_set writefds</span><br /><span class="line">       fd_set expectionfds</span><br /><span class="line">   DWORD   timeout in clock ticks</span><br /><span class="line">---shutdown command---</span><br /><span class="line"> 18h   WORD    shutdown type</span><br /><span class="line">---socket command---</span><br /><span class="line"> 18h   WORD    protocol (1 = ICMP, 6 = TCP, 17 = UDP)</span><br /><span class="line">---I/O commands (recv,recvfrom,send,sendto)---</span><br /><span class="line"> 18h   WORD    flags</span><br /><span class="line"> 1Ah  6 BYTEs  sockaddr from/to</span><br /><span class="line">       WORD    port number</span><br /><span class="line">       DWORD   IP address</span><br /><span class="line"> 20h   WORD    length of packet sent/received</span><br /><span class="line"> 22h   WORD    number of pointer/length pairs following (max 8)</span><br /><span class="line"> 24h 6N BYTEs  buffer descriptors, each</span><br /><span class="line">       Offset  Size    Description</span><br /><span class="line">        00h    DWORD   pointer to buffer</span><br /><span class="line">        04h    WORD    length of buffer</span><br /><span class="line">---getsnmpinfo command---</span><br /><span class="line"> 18h   DWORD   (ret) -&gt; ??? data in TCPIP code segment</span><br /><span class="line">--getifn command---</span><br /><span class="line"> 18h   WORD    interface number</span><br /><span class="line"> 1Ah   WORD    MLID instance number</span><br /><span class="line"> 1Ch 128 BYTEs MLID name</span><br /><span class="line">---getipinfo/setipinfo commands---</span><br /><span class="line"> 18h   WORD    interface number (00h = default)</span><br /><span class="line"> 1Ah   DWORD   IP address</span><br /><span class="line"> 1Eh   DWORD   IP netmask</span><br /><span class="line"> 22h  3 DWORDs router addresses (00000000h = unused entry)</span><br /><span class="line">---getdnsinfo/setdnsinfo commands---</span><br /><span class="line"> 18h   WORD    interface number (00h = default)</span><br /><span class="line"> 1Ah  3 DWORDs name server IP addresses (00000000h = unused entry)</span><br /><span class="line"> 26h 128 BYTEs domain name</span><br /><span class="line">---getroutes/setroutes/removeroutes commands---</span><br /><span class="line"> 18h   WORD    number of route entries to follow (max 5)</span><br /><span class="line"> 1Ah 10N BYTEs route entries</span><br /><span class="line">       DWORD   destination host/net IP address</span><br /><span class="line">       DWORD   IP address of first router</span><br /><span class="line">       WORD    route type</span><br /><span class="line">---getarpe/setarpe/removearpe commands---</span><br /><span class="line"> 18h   WORD    number of ARP entries to follow (max 16)</span><br /><span class="line"> 1Ah 10N BYTEs ARP entries</span><br /><span class="line">       DWORD   destination IP address</span><br /><span class="line">       6 BYTEs destination hardware address</span><br /><span class="line">---other commands---</span><br /><span class="line"> 18h  4 WORDs  parameter words 0 to 3 (see #2588 for usage)</span><br /><span class="line"></span><br /><span class="line">(Table 2591)</span><br /><span class="line">Values for NetWare TCP/IP status:</span><br /><span class="line"> 00h   successful</span><br /><span class="line"> 04h   would block</span><br /><span class="line"> 09h   invalid socket</span><br /><span class="line"> 23h   would block</span><br /><span class="line"> 24h   operation in progress</span><br /><span class="line"> 25h   already in progress</span><br /><span class="line"> 26h   not a socket</span><br /><span class="line"> 27h   destination address required</span><br /><span class="line"> 28h   message too long</span><br /><span class="line"> 29h   wrong protocol type for socket</span><br /><span class="line"> 2Ah   protocol not available</span><br /><span class="line"> 2Bh   protocol not supported</span><br /><span class="line"> 2Ch   socket type not supported</span><br /><span class="line"> 2Dh   operation not supported on socket</span><br /><span class="line"> 2Eh   protocol family not supported</span><br /><span class="line"> 2Fh   address family not supported by protocol family</span><br /><span class="line"> 30h   address already in use</span><br /><span class="line"> 31h   unable to assign requested address</span><br /><span class="line"> 32h   network is down</span><br /><span class="line"> 33h   network is unreachable</span><br /><span class="line"> 34h   network dropped connection</span><br /><span class="line"> 35h   software caused connection abort</span><br /><span class="line"> 36h   connection reset by peer</span><br /><span class="line"> 37h   no buffer space</span><br /><span class="line"> 38h   socket is already connected</span><br /><span class="line"> 39h   socket is not connected</span><br /><span class="line"> 3Ah   socket is in shutdown mode</span><br /><span class="line"> 3Bh   too many references</span><br /><span class="line"> 3Ch   connection timed out</span><br /><span class="line"> 3Dh   connection refused</span><br /><span class="line"> 3Eh   too many levels of symbolic links</span><br /><span class="line"> 3Fh   file name too long</span><br /><span class="line"> 40h   host is down</span><br /><span class="line"> 41h   host unreachable</span><br /><span class="line"> 42h   protocol stack not installed</span><br /><span class="line"> 43h   asynchronous operation not supported</span><br /><span class="line"> 44h   synchronous operation not supported</span><br /><span class="line"> 45h   no RCB available</span><br /><span class="line"> FFh   blocking (call has not yet returned)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2590</span><br /><span class="line"></span><br /><span class="line">Format of BOOTP data (stored in parameter block):</span><br /><span class="line">Offset Size    Description (Table 2592)</span><br /><span class="line"> 18h  4 BYTEs  ???</span><br /><span class="line"> 1Ch   BYTE    ??? (01h)</span><br /><span class="line"> 1Dh   BYTE    address length (04h)</span><br /><span class="line"> 1Eh  4 BYTEs  subnet mask</span><br /><span class="line"> 22h   BYTE    ??? (03h)</span><br /><span class="line"> 23h   BYTE    ??? (04h)</span><br /><span class="line"> 24h  4 BYTEs  IP address of nearest router</span><br /><span class="line"> 28h   BYTE    ??? (06h)</span><br /><span class="line"> 29h   BYTE    length of following data (08h)</span><br /><span class="line"> 2Ah  4 BYTEs  IP address of nameserver 1</span><br /><span class="line"> 2Eh  4 BYTEs  IP address of nameserver 2</span><br /><span class="line"> 32h   BYTE    ??? (0Ch)</span><br /><span class="line"> 33h   BYTE    length of local name</span><br /><span class="line"> 34h  N BYTEs  local host name</span><br /><span class="line">   BYTE    FFh (end marker)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2590,#2588</span><br /></pre>
  
  
  


      </article>

    </section>

  </body>

</html>

