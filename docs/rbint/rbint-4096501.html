





<!DOCTYPE html>
<html>

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.1.0 (ngdb v1.1.0)">
    <link rel="stylesheet" type="text/css" href="rbint-style.css">
    <title>Ralf Brown » Lists » Interrupts</title>
    <meta name="description" content="Ralf Brown">
    <link rel="prev" href="rbint-4085750.html">
    <link rel="next" href="rbint-4107525.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="rbint-about.html">About</a></li>


          

<li><a href="rbint-4085750.html">Previous</a></li>


          

<li><a href="rbint-4031282.html">Up</a></li>


          

<li><a href="rbint-4107525.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <section>

      <nav class="menu box">
        <ul>
            <li>Lists</li>
            <ul>
              <li><a href="index.html">Comments</a></li>
              <li><a href="rbint-7995.html">Interrupts</a></li>
              <li><a href="rbint-15401.html">Glossary</a></li>
              <li><a href="rbint-64347.html">Memory</a></li>
              <li><a href="rbint-180090.html">CMOS</a></li>
              <li><a href="rbint-250757.html">86 Bugs</a></li>
              
            </ul>
        </ul>
      </nav>

      <article class="box">
        
  
  
    <pre class="entry"><span class="line"></span><br /><span class="line"><span class="ngu">Int 2F Fn 7A20  - Novell Netware - Adv Netware 4.0 Dos Requester - Get Vlm Call Address  <span class="ngb">(Cont.)</span></span></span><br /><span class="line"></span><br /><span class="line"> 0Eh   WORD    number of unrecognized responses</span><br /><span class="line"> 10h   WORD    number of bad connection numbers in requests</span><br /><span class="line"> 12h   WORD    number of bad sequence responses</span><br /><span class="line"> 14h   WORD    receive buffer overflows</span><br /><span class="line"> 16h   WORD    number of times route to attached server was lost</span><br /><span class="line"> 18h   WORD    number of times server responded &#34;busy&#34;</span><br /><span class="line"> 1Ah   WORD    number of unknown &#34;NCPRepCompCode&#34; values</span><br /><span class="line"> 1Ch   WORD    number of bad connection numbers in responses</span><br /><span class="line"> 1Eh   WORD    padding for NETX compatibility</span><br /><span class="line"> 20h   WORD    padding for NETX compatibility</span><br /><span class="line"> 22h   WORD    number of attach requests to server without route</span><br /><span class="line"> 24h   WORD    number of times server responded to attach without slot</span><br /><span class="line"> 26h   WORD    number of times a server went down during a request</span><br /><span class="line"> 28h   DWORD   same-server optimizations</span><br /><span class="line"> 2Ch   WORD    local route changes</span><br /><span class="line"> 2Eh   WORD    IPX CRC errors</span><br /><span class="line"> 30h   WORD    number of user fails</span><br /><span class="line"> 32h   BYTE    flag: CRCs enabled</span><br /><span class="line"> 33h   BYTE    flag: LIP enabled</span><br /><span class="line"> 34h   BYTE    flag: configurable NET error handler</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2559</span><br /><span class="line"></span><br /><span class="line">(Table 2561)</span><br /><span class="line">Call NWP.VLM (VLM ID 0030h) with:</span><br /><span class="line">Func   Description/Registers</span><br /><span class="line"> 01h   NWP Get Version</span><br /><span class="line">   BX = function</span><br /><span class="line">       0000h get version</span><br /><span class="line"></span><br /><span class="line">       <span class="ngb">Return:</span> AX = status (see #2546)</span><br /><span class="line">           BX = major version of VLM supported (0001h)</span><br /><span class="line">           CX = minor version of VLM supported (0000h)</span><br /><span class="line"> 03h   NWP Statistics</span><br /><span class="line">   CX = size of buffer for statistics</span><br /><span class="line">   ES:DI -&gt; buffer for statistics (see #2562)</span><br /><span class="line"></span><br /><span class="line">   <span class="ngb">Return:</span> AX = status (see #2546)</span><br /><span class="line"> 04h   NWP Connect</span><br /><span class="line">   DL = resource count state (NDS connections only)</span><br /><span class="line">   CX = proposed connection handle (not yet connected to server)</span><br /><span class="line">   DS:SI -&gt; 48-byte server name (NUL-terminated if less than 48 bytes)</span><br /><span class="line"></span><br /><span class="line">   <span class="ngb">Return:</span> AX = status (0000h = successful) (see #2546)</span><br /><span class="line">       CX = actual connection handle to use</span><br /><span class="line"></span><br /><span class="line">   <span class="ngb">Note:</span>   if the returned handle differs from the proposed handle, the</span><br /><span class="line">         proposed handle should be freed</span><br /><span class="line"> 05h   NWP Disconnect</span><br /><span class="line">   DL = ???</span><br /><span class="line">       00h global disconnect -- clear all resources associated with conn.</span><br /><span class="line">       01h destroy connection -- send disconnect request to server</span><br /><span class="line">   CX = connected connection handle</span><br /><span class="line"></span><br /><span class="line">   <span class="ngb">Return:</span> AX = status (0000h = successful) (see #2546)</span><br /><span class="line"> 06h   NWP Attach</span><br /><span class="line">   DL = resource count state (NDS connections only)</span><br /><span class="line">   CX = connection handle (allocated by not yet attached to server)</span><br /><span class="line">   DS:SI -&gt; full network address for desired server</span><br /><span class="line"></span><br /><span class="line">   <span class="ngb">Return:</span> AX = status (0000h = successful) (see #2546)</span><br /><span class="line"> 08h   NWP Login</span><br /><span class="line">   BX = object type</span><br /><span class="line">   CX = connection handle (must be connected) to be authenticated</span><br /><span class="line">   DS:SI -&gt; ASCIZ user name (max 48 bytes)</span><br /><span class="line">   ES:DI -&gt; ASCIZ user password (max 128 bytes)</span><br /><span class="line"></span><br /><span class="line">   <span class="ngb">Return:</span> AX = status (0000h = successful) (see #2546)</span><br /><span class="line"> 09h   NWP Logout</span><br /><span class="line">   CX = connection handle</span><br /><span class="line"></span><br /><span class="line">   <span class="ngb">Return:</span> AX = status (0000h = successful) (see #2546)</span><br /><span class="line"> 0Ah   NWP Get Bindery Object/Get Message Handler</span><br /><span class="line">   BX = subfunction</span><br /><span class="line">       0002h set workstation&#39;s broadcast message mode</span><br /><span class="line">       DL = message mode</span><br /><span class="line">           00h client hold client message set on, retrieve/display on</span><br /><span class="line">           01h client hold client message set off, retr/display on</span><br /><span class="line">           02h client hold client message set on, retrieve/dislay off</span><br /><span class="line">           03h client hold client message set off, retr/display off</span><br /><span class="line">           04h get current message mode</span><br /><span class="line">           05h set broadcast callback</span><br /><span class="line">           CX:SI -&gt; callback handler</span><br /><span class="line">           06h get broadcast timeout</span><br /><span class="line">           07h set broadcast timeout</span><br /><span class="line">           CX = timeout in timer ticks (0000h = never)</span><br /><span class="line">       CX = connection handle, or 0000h to notify all servers</span><br /><span class="line">       0003h get object ID for object name</span><br /><span class="line">       AX = object type (big-endian)</span><br /><span class="line">       CX = connection handle</span><br /><span class="line">       DX = length of object name</span><br /><span class="line">       ES:DI -&gt; uppercased ASCIZ object name</span><br /><span class="line"></span><br /><span class="line">       <span class="ngb">Return:</span> AX = status (see #2546)</span><br /><span class="line">           DX:BX = object ID</span><br /><span class="line">       0004h get object name for object ID</span><br /><span class="line">       DX:SI = object ID</span><br /><span class="line">       CX = connection handle for server which is to do the lookup</span><br /><span class="line">       ES:DI -&gt; 48-byte buffer for object name</span><br /><span class="line"></span><br /><span class="line">       <span class="ngb">Return:</span> AX = status (see #2546)</span><br /><span class="line">       0005h retrieve broadcast message</span><br /><span class="line"> 0Ch   NDS Fragment Request (passed to NDS.VLM&#39;s function 0Ch) (see #2563)</span><br /><span class="line">   AX = verb or request type</span><br /><span class="line">   CX = connection handle</span><br /><span class="line">   DS:SI -&gt; request structure (DWORD data address followed by WORD size)</span><br /><span class="line">   ES:DI -&gt; buffer for reply structure (same format as request)</span><br /><span class="line"></span><br /><span class="line">   <span class="ngb">Return:</span> AX = status (0000h = successful) (see #2546)</span><br /><span class="line"> 0Eh   NWP Ordered Send To All</span><br /><span class="line">   AL = NCP request code</span><br /><span class="line">   AH = inverse request code (FFh if none) to back out from failures</span><br /><span class="line">   BX = number of fragments in request list</span><br /><span class="line">   DX = number of fragments in reply list buffer</span><br /><span class="line">   DS:SI -&gt; request fragment list</span><br /><span class="line">   ES:DI -&gt; reply fragment list</span><br /><span class="line"></span><br /><span class="line">   <span class="ngb">Return:</span> AX = status (see #2546)</span><br /><span class="line">       BX, CX, DX destroyed</span><br /><span class="line"></span><br /><span class="line">   <span class="ngb">Note:</span>   the available functions are described under INT 21/AX=F2xxh</span><br /><span class="line"> 0Fh   NWP Preferred Handler</span><br /><span class="line">   BX = subfunction</span><br /><span class="line">       0000h get preferred connection name</span><br /><span class="line">       DX = VLM ID (NDS/BIND/PNW)</span><br /><span class="line">       ES:DI -&gt; 49-byte buffer for connection name</span><br /><span class="line"></span><br /><span class="line">       <span class="ngb">Return:</span> ES:DI buffer filled</span><br /><span class="line">       0001h set preferred connection name</span><br /><span class="line">       DX = VLM ID (NDS/BIND/PNW)</span><br /><span class="line">       CX = length of connection name (may be 0000h, max 48)</span><br /><span class="line">       DS:SI -&gt; name of preferred connection</span><br /><span class="line">       0002h get preferred connection ID</span><br /><span class="line">       DX = VLM ID (NDS/BIND/PNW)</span><br /><span class="line"></span><br /><span class="line">       <span class="ngb">Return:</span> AX = status (see #2546)</span><br /><span class="line">           CX = connection handle if successful</span><br /><span class="line">       0003h get server address</span><br /><span class="line">       CX = connection handle or 0000h</span><br /><span class="line">       DS:SI -&gt; ASCIZ name to be resolved</span><br /><span class="line">       ES:DI -&gt; 12-byte buffer for server address</span><br /><span class="line"> 10h   NWP Security???</span><br /><span class="line">   BX = subfunction</span><br /><span class="line">       0001h get security flags (see also INT 21/AX=B301h)</span><br /><span class="line"></span><br /><span class="line">       <span class="ngb">Return:</span> BX:CX indicates signature level</span><br /><span class="line">               = 0100h:0000h if signature level=0</span><br /><span class="line">               = 0300h:0000h if signature level=1</span><br /><span class="line">               = 0302h:0000h if signature level=2</span><br /><span class="line">               = 0302h:0202h if signature level=3</span><br /><span class="line">       0002h create session keys (see also INT 21/AX=B302h)</span><br /><span class="line">       CX = server connection handle</span><br /><span class="line">       DS:SI -&gt; 24-byte input buffer</span><br /><span class="line">       0004h set security flags (see also INT 21/AX=B304h)</span><br /><span class="line">       BL:CL = new flags</span><br /><span class="line">       0006h renegotiate security level (see also INT 21/AX=B306h)</span><br /><span class="line">       CX = server connection number (01h-08h)</span><br /><span class="line"></span><br /><span class="line">Format of NWP.VLM statistics:</span><br /><span class="line">Offset Size    Description (Table 2562)</span><br /><span class="line"> 00h   WORD    size of statistics record (including this byte)</span><br /><span class="line"> 02h   BYTE    flag: Large Internet Packets enabled</span><br /><span class="line"> 03h   BYTE    bit flags: enabled security features</span><br /><span class="line"> 04h   BYTE    bit flags: preferred security features</span><br /><span class="line"> 05h   BYTE    bit flags: required security features</span><br /><span class="line"> 06h   BYTE    minimum level of required security</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2561</span><br /><span class="line"></span><br /><span class="line">(Table 2563)</span><br /><span class="line">Call NDS.VLM (VLM ID 0032h) with:</span><br /><span class="line">Func   Description/Registers</span><br /><span class="line"> 01h   NDS Get Version</span><br /><span class="line">   BX = function</span><br /><span class="line">       0000h get version</span><br /><span class="line"></span><br /><span class="line">       <span class="ngb">Return:</span> AX = status (see #2546)</span><br /><span class="line">           BX = major version of VLM supported (0001h)</span><br /><span class="line">           CX = minor version of VLM supported (0000h)</span><br /><span class="line"> 03h   NDS Statistics</span><br /><span class="line"> 06h   NDS Attach</span><br /><span class="line">   CX = allocated connection handle</span><br /><span class="line">   DS:SI -&gt; server address</span><br /><span class="line"> 08h   NDS Fragment Requst</span><br /><span class="line"></span><br /><span class="line">   <span class="ngb">Return:</span> AX = 8836h (invalid parameter)</span><br /><span class="line"></span><br /><span class="line">   <span class="ngb">Note:</span>   this function was documented but does not work</span><br /><span class="line"> 0Ch   NDS context</span><br /><span class="line">   BX = subfunction</span><br /><span class="line">       0000h get default name context</span><br /><span class="line">       CX = length of buffer for default context</span><br /><span class="line">       ES:DI -&gt; buffer to receive name</span><br /><span class="line"></span><br /><span class="line">       <span class="ngb">Return:</span> ES:DI buffer filled</span><br /><span class="line">       0001h set default context</span><br /><span class="line">       CX = length of new default context name</span><br /><span class="line">       DS:SI -&gt; context name</span><br /><span class="line">       0002h read from TDS</span><br /><span class="line">       CX = reply buffer length</span><br /><span class="line">       DX = 0110h ???</span><br /><span class="line">       SI = offset in TDS</span><br /><span class="line">       ES:DI -&gt; reply buffer</span><br /><span class="line">       0003h write to TDS</span><br /><span class="line">       0005h &#34;NWDSChangeResourceConnection/Lock Connection&#34;</span><br /><span class="line">       CX = connection handle</span><br /><span class="line">       DL = subfunction (00h-09h)</span><br /><span class="line">           04h = NWDSChangeResourceOnConnection</span><br /><span class="line">           07h = NWDSChangeResourceOnConnection</span><br /><span class="line">           08h = NWDSLockConnection</span><br /><span class="line">       0006h NDS change connection state (internal)</span><br /><span class="line">       CX = connection handle</span><br /><span class="line">       AL = 00h or 01h</span><br /><span class="line">       0007h &#34;NWDSSetMonitoredConnection&#34;</span><br /><span class="line">       AX = subfunction</span><br /><span class="line">           0001h get monitored connection</span><br /><span class="line"></span><br /><span class="line">           <span class="ngb">Return:</span> CX = connection handle???</span><br /><span class="line">           0002h set monitored connection</span><br /><span class="line">           CX = connection handle???</span><br /><span class="line">       0008h send NDS request</span><br /><span class="line">       AX = NDS function</span><br /><span class="line">       CX = connection handle</span><br /><span class="line">       DS:SI -&gt; request buffer descriptor (see #2564)</span><br /><span class="line">       ES:DI -&gt; reply buffer descriptor (see #2564)</span><br /><span class="line">       000Ah set NDS CEI Info</span><br /><span class="line">       DL = buffer length</span><br /><span class="line">       DS:SI -&gt; input buffer</span><br /><span class="line"></span><br /><span class="line">Format of NetWare NDS request/reply buffer descriptor:</span><br /><span class="line">Offset Size    Description (Table 2564)</span><br /><span class="line"> 00h   DWORD   -&gt; buffer</span><br /><span class="line"> 04h   WORD    length of buffer in bytes</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2563</span><br /><span class="line"></span><br /><span class="line">(Table 2565)</span><br /><span class="line">Call REDIR.VLM (VLM ID 0040h) with:</span><br /><span class="line">Func   Description/Registers</span><br /><span class="line"> 01h   Redir Get Version</span><br /><span class="line">   BX = function</span><br /><span class="line">       0000h get version</span><br /><span class="line"></span><br /><span class="line">       <span class="ngb">Return:</span> AX = status (see #2546)</span><br /><span class="line">           BX = major version of VLM supported (0001h)</span><br /><span class="line">           CX = minor version of VLM supported (0000h)</span><br /><span class="line"> 03h   Redir Statistics</span><br /><span class="line">   CX = length of buffer</span><br /><span class="line">   ES:DI -&gt; buffer for statistics (see #2566)</span><br /><span class="line"></span><br /><span class="line">   <span class="ngb">Return:</span> AX = status (0000h if successful) (see #2546)</span><br /><span class="line">       buffer filled if successful</span><br /><span class="line"> 04h   Redir Build SFT (see INT 21/AH=B4h&#34;NetWare&#34;)</span><br /><span class="line">   CX = connection handle</span><br /><span class="line">   ES:DI -&gt; SFT build request (see #2567)</span><br /><span class="line"></span><br /><span class="line">   <span class="ngb">Return:</span> AX = 0000h if successful</span><br /><span class="line">           BX = DOS file handle</span><br /><span class="line"> 05h   Redir DOS To NW Handle</span><br /><span class="line">   BX = DOS file handle</span><br /><span class="line">   ES:DI -&gt; 11-byte buffer for NetWare handle</span><br /><span class="line"> 08h   Redir Specific</span><br /><span class="line">   BX = 0000h get item</span><br /><span class="line">       DS:SI -&gt; ASCIZ string &#34;LPTx&#34; (x=&#39;1&#39;-&#39;9&#39;) or drive spec (&#34;d:&#34;)</span><br /><span class="line">       ES:DI -&gt; 512-byte reply buffer for</span><br /><span class="line">             &#34;\\server\resource&#34;,00h,&#34;path&#34;,00h</span><br /><span class="line"></span><br /><span class="line">   <span class="ngb">Return:</span> AX = status (0000h if successful) (see #2546)</span><br /><span class="line"></span><br /><span class="line">Format of REDIR.VLM statistics:</span><br /><span class="line">Offset Size    Description (Table 2566)</span><br /><span class="line"> 00h   WORD    size of statistics record (including this word)</span><br /><span class="line"> 02h   WORD    number of network errors causing a critical error (see INT 24)</span><br /><span class="line"> 04h   WORD    number of drives currently redirected</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2565</span><br /><span class="line"></span><br /><span class="line">Format of NetWare SFT build request:</span><br /><span class="line">Offset Size    Description (Table 2567)</span><br /><span class="line"> 00h  6 BYTEs  NetWare handle</span><br /><span class="line"> 06h   WORD    reserved for internal use</span><br /><span class="line"> 08h 14 BYTEs  ASCIZ filename</span><br /><span class="line"> 16h   BYTE    DOS file attributes</span><br /><span class="line">       bit 7: file is shareable</span><br /><span class="line"> 17h   BYTE    reserved</span><br /><span class="line"> 18h   LONG    file size</span><br /><span class="line"> 1Ch   WORD    creation date</span><br /><span class="line"> 1Eh   WORD    last access date or 0000h</span><br /><span class="line"> 20h   WORD    last update date or 0000h</span><br /><span class="line"> 22h   WORD    last update time or 0000h</span><br /><span class="line"></span><br /><span class="line">(Table 2568)</span><br /><span class="line">Call File I/O FIO.VLM (VLM ID 0041h) with:</span><br /><span class="line">Func   Description/Registers</span><br /><span class="line"> 01h   FIO Get Version</span><br /><span class="line">   BX = function</span><br /><span class="line">       0000h get version</span><br /><span class="line"></span><br /><span class="line">       <span class="ngb">Return:</span> AX = status (see #2546)</span><br /><span class="line">           BX = major version of VLM supported (0001h)</span><br /><span class="line">           CX = minor version of VLM supported (0000h)</span><br /><span class="line"> 03h   FIO Statistics</span><br /><span class="line">   CX = length of buffer</span><br /><span class="line">   ES:DI -&gt; buffer for statistics (see #2569)</span><br /><span class="line"></span><br /><span class="line">   <span class="ngb">Return:</span> AX = status (0000h if successful)</span><br /><span class="line">       buffer filled if successful</span><br /><span class="line"> 04h   FIO Remote Copy</span><br /><span class="line"></span><br /><span class="line">Format of NetWare FIO statistics:</span><br /><span class="line">Offset Size    Description (Table 2569)</span><br /><span class="line"> 00h   WORD    length of statistics record (including this word)</span><br /><span class="line"> 02h   WORD    number of read requests</span><br /><span class="line"> 04h   WORD    number of write requests</span><br /><span class="line"> 06h   WORD    number of cache read hits</span><br /><span class="line"> 08h   WORD    number of cache write hits</span><br /><span class="line"> 0Ah   WORD    number of cacheable files with free blocks</span><br /><span class="line"> 0Ch   WORD    number of cacheable files without free blocks</span><br /><span class="line"> 0Eh   WORD    number of standard read requests</span><br /><span class="line"> 10h   WORD    number of standard write requests</span><br /><span class="line"> 12h   WORD    number of burst read requests</span><br /><span class="line"> 14h   WORD    number of burst write requests</span><br /><span class="line"> 16h   BYTE    flag: cache writes enabled</span><br /><span class="line"> 17h   BYTE    flag: true commits enabled</span><br /><span class="line"> 18h   WORD    number of cache blocks</span><br /><span class="line"> 1Ah   WORD    size of a cache buffer</span><br /><span class="line"> 1Ch   WORD    number of ECBs for packet bursts (0000h if bursts disabled)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #2568</span><br /><span class="line"></span><br /><span class="line">(Table 2570)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">.NG limit reached, continued in next section...</span></span><br /></pre>
  
  
  


      </article>

    </section>

  </body>

</html>

