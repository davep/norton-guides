





<!DOCTYPE html>
<html>

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.2.0 (ngdb v1.1.0)">
    <link rel="stylesheet" type="text/css" href="rbint-style.css">
    <title>Ralf Brown » Lists » Interrupts</title>
    <meta name="description" content="Ralf Brown">
    <link rel="prev" href="rbint-1777951.html">
    <link rel="next" href="rbint-1788225.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="../index.html">Guides</a></li>


          

<li><a href="rbint-about.html">About</a></li>


          

<li><a href="rbint-1777951.html">Previous</a></li>


          

<li><a href="rbint-1712194.html">Up</a></li>


          

<li><a href="rbint-1788225.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <section>

      
        <nav class="menu box">
          <ul>
              <li>Lists</li>
              <ul>
                <li><a href="index.html">Comments</a></li>
                <li><a href="rbint-7995.html">Interrupts</a></li>
                <li><a href="rbint-15401.html">Glossary</a></li>
                <li><a href="rbint-64347.html">Memory</a></li>
                <li><a href="rbint-180090.html">CMOS</a></li>
                <li><a href="rbint-250757.html">86 Bugs</a></li>
                
              </ul>
          </ul>
        </nav>
      

      <article class="box">
        
  
  
    <pre class="entry"><span class="line"></span><br /><span class="line"><span class="ngu">Int 1A Fn AF  - Pcmcia V2 Card Services - Api                            </span>  [<span class="ngb">X</span>]</span><br /><span class="line"></span><br /><span class="line">   AH = AFh</span><br /><span class="line">   AL = function</span><br /><span class="line">       00h close memory</span><br /><span class="line">       01h copy memory</span><br /><span class="line">       02h deregister client</span><br /><span class="line">       03h get client information (see #0626)</span><br /><span class="line">       04h get configuration information (see #0628)</span><br /><span class="line">       05h get first partition</span><br /><span class="line">       06h get first region</span><br /><span class="line">       07h get first tuple (see #0635)</span><br /><span class="line">       08h get next partition</span><br /><span class="line">       09h get next region</span><br /><span class="line">       0Ah get next tuple</span><br /><span class="line">       0Bh get Card Services information (see #0624)</span><br /><span class="line">       0Ch get status</span><br /><span class="line">       0Dh get tuple data (see #0636)</span><br /><span class="line">       0Eh get first client (see #0625)</span><br /><span class="line">       0Fh get/register Erase Queue</span><br /><span class="line">       10h register client (see #0637)</span><br /><span class="line">       11h reset function</span><br /><span class="line">       12h map logical socket</span><br /><span class="line">       13h map logical window</span><br /><span class="line">       14h map memory page</span><br /><span class="line">       15h map physical socket</span><br /><span class="line">       16h map physical window</span><br /><span class="line">       17h modify window</span><br /><span class="line">       18h open memory</span><br /><span class="line">       19h read memory</span><br /><span class="line">       1Ah register MTD</span><br /><span class="line">       1Bh release I/O</span><br /><span class="line">       1Ch release IRQ (see #0639)</span><br /><span class="line">       1Dh release window</span><br /><span class="line">       1Eh release configuration (see #0640)</span><br /><span class="line">       1Fh request I/O (see #0641)</span><br /><span class="line">       20h request IRQ (see #0642)</span><br /><span class="line">       21h reqeust window (see #0644)</span><br /><span class="line">       22h request socket mask</span><br /><span class="line">       23h return SS entry</span><br /><span class="line">       24h write memory</span><br /><span class="line">       25h deregister Erase Queue</span><br /><span class="line">       26h check Erase Queue</span><br /><span class="line">       27h modify configuration</span><br /><span class="line">       28h register timer</span><br /><span class="line">       29h set region</span><br /><span class="line">       2Ah get next client</span><br /><span class="line">       2Bh validate CIS</span><br /><span class="line">       2Ch request exclusive access (see #0647)</span><br /><span class="line">       2Dh release exclusive access (see #0647)</span><br /><span class="line">       2Eh get event mask</span><br /><span class="line">       2Fh release socket mask</span><br /><span class="line">       30h request configuration (see #0648)</span><br /><span class="line">       31h set event mask</span><br /><span class="line">       32h add Socket Service</span><br /><span class="line">       33h replace Socket Service</span><br /><span class="line">       34h vendor-specific</span><br /><span class="line">       35h adjust resource information</span><br /><span class="line">       36h access configuration register</span><br /><span class="line">       37h get first window</span><br /><span class="line">       38h get next window</span><br /><span class="line">       39h get memory page</span><br /><span class="line">       3Ah request DMA</span><br /><span class="line">       3Bh release DMA</span><br /><span class="line">   further details not yet available</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Return:</span> ??? = result code (see #0622)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> AH=AEh</span><br /><span class="line"></span><br /><span class="line">(Table 0622)</span><br /><span class="line">Values for PCMCIA Card Services result codes:</span><br /><span class="line"> 00h   successful</span><br /><span class="line"> 01h   invalid adapter number</span><br /><span class="line"> 02h   bad value for attribute field</span><br /><span class="line"> 03h   bad value for base system memory address</span><br /><span class="line"> 04h   invalid EDC generator specified</span><br /><span class="line"> 05h   (reserved for historical reasons)</span><br /><span class="line"> 06h   invalid IRQ level specified</span><br /><span class="line"> 07h   invalid PC Card memory array offset</span><br /><span class="line"> 08h   invalid page number specified</span><br /><span class="line"> 09h   unable to complete read request</span><br /><span class="line"> 0Ah   invalid size specified</span><br /><span class="line"> 0Bh   invalid socket number</span><br /><span class="line"> 0Ch   (reserved for historical reasons)</span><br /><span class="line"> 0Dh   invalid window or interface type</span><br /><span class="line"> 0Eh   invalid Vcc power level specified</span><br /><span class="line"> 0Fh   invalid Vpp1 or Vpp2 power level specified</span><br /><span class="line"> 10h   (reserved for historical reasons)</span><br /><span class="line"> 11h   invalid window number</span><br /><span class="line"> 12h   unable to complete write request</span><br /><span class="line"> 13h   (reserved for historical reasons)</span><br /><span class="line"> 14h   no PC Card in socket</span><br /><span class="line"> 15h   service not supported by implementation</span><br /><span class="line"> 16h   unsupported processor mode</span><br /><span class="line"> 17h   specified speed not available</span><br /><span class="line"> 18h   busy -- retry later</span><br /><span class="line"> 19h   undefined error (general failure)</span><br /><span class="line"> 1Ah   storage medium write protected</span><br /><span class="line"> 1Bh   argument length in (E)CX is invalid</span><br /><span class="line"> 1Ch   bad value(s) in argument packet</span><br /><span class="line"> 1Dh   configuration has already been locked</span><br /><span class="line"> 1Eh   requested resource already in use</span><br /><span class="line"> 1Fh   no more items of requested type available</span><br /><span class="line"> 20h   out of resources</span><br /><span class="line"> 21h   invalid client handle</span><br /><span class="line"> 22h   unsupported client version</span><br /><span class="line"></span><br /><span class="line">(Table 0623)</span><br /><span class="line">Values for Card Services Callback Event codes:</span><br /><span class="line"> 01h   battery dead</span><br /><span class="line"> 02h   battery low</span><br /><span class="line"> 03h   card locked</span><br /><span class="line"> 04h   card has become ready</span><br /><span class="line"> 05h   card removed</span><br /><span class="line"> 06h   card unlocked</span><br /><span class="line"> 07h   motorized ejection complete</span><br /><span class="line"> 08h   ejection requested</span><br /><span class="line"> 09h   insertion complete</span><br /><span class="line"> 0Ah   insertion requested</span><br /><span class="line"> 0Bh   power management: resume</span><br /><span class="line"> 0Ch   power management: suspend</span><br /><span class="line"> 0Dh   exclusive access granted</span><br /><span class="line"> 0Eh   exclusive access requested</span><br /><span class="line"> 0Fh   perform physical reset</span><br /><span class="line"> 10h   physical reset requested</span><br /><span class="line"> 11h   card has been reset</span><br /><span class="line"> 12h   MTD request (read/write/etc)</span><br /><span class="line"> 14h   request for client info</span><br /><span class="line"> 15h   timer has expired</span><br /><span class="line"> 16h   Socket Service was modified</span><br /><span class="line"> 17h   write-protected</span><br /><span class="line"> 18h   attention requested</span><br /><span class="line"> 40h   card insertion</span><br /><span class="line"> 80h   reset complete</span><br /><span class="line"> 81h   erase complete</span><br /><span class="line"> 82h   registration complete</span><br /><span class="line"></span><br /><span class="line">Format of Card Services Information:</span><br /><span class="line">Offset Size    Description (Table 0624)</span><br /><span class="line"> 00h   WORD    length of information record in bytes</span><br /><span class="line"> 02h   WORD    signature</span><br /><span class="line"> 04h   WORD    number of sockets</span><br /><span class="line"> 06h   WORD    revision level</span><br /><span class="line"> 08h   WORD    Card Services level</span><br /><span class="line"> 0Ah   WORD    offset of vendor string</span><br /><span class="line"> 0Ch   WORD    length of vendor string</span><br /><span class="line"> 0Eh   WORD    number of functions</span><br /><span class="line"> 10h 255 BYTEs vendor string</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0626</span><br /><span class="line"></span><br /><span class="line">Format of Card Services Client structure:</span><br /><span class="line">Offset Size    Description (Table 0625)</span><br /><span class="line"> 00h   WORD    PCMCIA socket number</span><br /><span class="line"> 02h   WORD    client attributes</span><br /><span class="line"></span><br /><span class="line">Format of Cards Services Client Information:</span><br /><span class="line">Offset Size    Description (Table 0626)</span><br /><span class="line"> 00h   WORD    maximum length of data in bytes (180)</span><br /><span class="line"> 02h   WORD    (ret) length of returned data</span><br /><span class="line"> 04h   WORD    attributes (see #0627)</span><br /><span class="line"> 06h   WORD    revision level (BCD)</span><br /><span class="line"> 08h   WORD    Card Services level (BCD)</span><br /><span class="line"> 0Ah   WORD    revision date (DOS packed date format) (see #1352)</span><br /><span class="line"> 0Ch   WORD    offset to name</span><br /><span class="line"> 0Eh   WORD    length of name</span><br /><span class="line"> 10h   WORD    offset to vendor string</span><br /><span class="line"> 12h   WORD    length of vendor string</span><br /><span class="line"> 14h 80 BYTEs  buffer for name</span><br /><span class="line"> 64h 80 BYTEs  buffer for vendor string</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0624,#0628</span><br /><span class="line"></span><br /><span class="line">Bitfields for Card Services client attributes:</span><br /><span class="line">Bit(s) Description (Table 0627)</span><br /><span class="line"> 0 memory client</span><br /><span class="line"> 1 MTD client</span><br /><span class="line"> 2 I/O client</span><br /><span class="line"> 3 all clients can share this card</span><br /><span class="line"> 4 only one client can use this card at a time</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0626</span><br /><span class="line"></span><br /><span class="line">Format of Card Services configuration information:</span><br /><span class="line">Offset Size    Description (Table 0628)</span><br /><span class="line"> 00h   WORD    socket (usually 0000h)</span><br /><span class="line"> 02h   WORD    attributes (see #0629)</span><br /><span class="line"> 04h   BYTE    Vcc value</span><br /><span class="line"> 05h   BYTE    Vpp1 value</span><br /><span class="line"> 06h   BYTE    Vpp2 value</span><br /><span class="line"> 07h   BYTE    interface type (see #0630)</span><br /><span class="line"> 08h   DWORD   base address of configuration registers</span><br /><span class="line"> 0Ch   BYTE    card&#39;s Status register setting (if present)</span><br /><span class="line"> 0Dh   BYTE    card&#39;s Pin register setting (if present)</span><br /><span class="line"> 0Eh   BYTE    card&#39;s Socket/Copy register setting (if present)</span><br /><span class="line"> 0Fh   BYTE    card&#39;s Option register setting (if present)</span><br /><span class="line"> 10h   BYTE    bitmap of present card configuration registers</span><br /><span class="line"> 11h   BYTE    first device type</span><br /><span class="line"> 12h   BYTE    function code</span><br /><span class="line"> 13h   BYTE    SysInit mask</span><br /><span class="line"> 14h   WORD    manufacturer code</span><br /><span class="line"> 16h   WORD    manufacturer information</span><br /><span class="line"> 18h   BYTE    valie card register values</span><br /><span class="line"> 19h   BYTE    IRQ number assigned to PC Card</span><br /><span class="line"> 1Ah   WORD    IRQ attributes (see #0632)</span><br /><span class="line"> 1Ch   WORD    base port address (for I/O range 1)</span><br /><span class="line"> 1Eh   BYTE    number of contiguous ports (for I/O range 1)</span><br /><span class="line"> 1Fh   BYTE    bitmap of port attributes (for I/O range 1) (see #0633)</span><br /><span class="line"> 20h   WORD    base port address (for I/O range 2)</span><br /><span class="line"> 22h   BYTE    number of contiguous ports (for I/O range 2)</span><br /><span class="line"> 23h   BYTE    bitmap of port attributes (for I/O range 2) (see #0633)</span><br /><span class="line"> 24h   BYTE    number of I/O address lines decoded (16-bit PC Card only)</span><br /><span class="line"> 25h   BYTE    extended status register setting (if present)</span><br /><span class="line"> 26h   BYTE    bitmap of DMA attributes (see #0634)</span><br /><span class="line">       (note: value at call is used to set!)</span><br /><span class="line"> 27h   BYTE    assigned DMA channel</span><br /><span class="line"> 28h   BYTE    number of I/O windows in use on logical socket</span><br /><span class="line"> 29h   BYTE    number of memory windows in use on logical socket</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0627,#0648</span><br /><span class="line"></span><br /><span class="line">Bitfields for Card Services Configuration attributes:</span><br /><span class="line">Bit(s) Description (Table 0629)</span><br /><span class="line"> 0 exclusive</span><br /><span class="line"> 1 IRQ active</span><br /><span class="line"> 2 CardBus card</span><br /><span class="line"> 3-5   reserved (0)</span><br /><span class="line"> 6 DMA channel is active</span><br /><span class="line"> 7 reserved (0)</span><br /><span class="line"> 8 valid client</span><br /><span class="line"> 9 overwrite voltage value</span><br /><span class="line"> 10-15 reserved (0)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0628</span><br /><span class="line"></span><br /><span class="line">Bitfields for Card Services Configuration interface type:</span><br /><span class="line">Bit(s) Description (Table 0630)</span><br /><span class="line"> 0 memory interface</span><br /><span class="line"> 1 I/O and memory interface</span><br /><span class="line"> 2 CardBus interface</span><br /><span class="line"> 3-7   reserved (0)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0628</span><br /><span class="line"></span><br /><span class="line">Bitfields for Card Services Configuration registers:</span><br /><span class="line">Bit(s) Description (Table 0631)</span><br /><span class="line"> 0 option value is value</span><br /><span class="line"> 1 status value</span><br /><span class="line"> 2 pin-replacement value</span><br /><span class="line"> 3 copy value</span><br /><span class="line"> 4 extended status value</span><br /><span class="line"> 5-7   reserved (0)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0628</span><br /><span class="line"></span><br /><span class="line">Bitfields for Card Services Configuration IRQ attributes:</span><br /><span class="line">Bit(s) Description (Table 0632)</span><br /><span class="line"> 1-0   sharing</span><br /><span class="line">   00 no sharing</span><br /><span class="line">   01 time-multiplex sharing</span><br /><span class="line">   10 dynamic sharing</span><br /><span class="line">   11 reserved</span><br /><span class="line"> 2 force pulse mode</span><br /><span class="line"> 3 first used together</span><br /><span class="line"> 4-7   reserved</span><br /><span class="line"> 8 pulse IRQ has been assigned</span><br /><span class="line"> 9-15  reserved</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0628,#0633,#0634,#0639,#0642</span><br /><span class="line"></span><br /><span class="line">Bitfields for Card Services Configuration Port attributes:</span><br /><span class="line">Bit(s) Description (Table 0633)</span><br /><span class="line"> 0 shared I/O ports</span><br /><span class="line"> 1 &#34;CS_FirstCommonUsedCard&#34;</span><br /><span class="line"> 2 force alias access</span><br /><span class="line"> 3 =1 sixteen-bit I/O</span><br /><span class="line">   =0 eight-bit I/O</span><br /><span class="line"> 7-4   reserved (0)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0628,#0632,#0634,#0641</span><br /><span class="line"></span><br /><span class="line">Bitfields for Card Services Configuration DMA attributes:</span><br /><span class="line">Bit(s) Description (Table 0634)</span><br /><span class="line"> 1-0   sharing mode</span><br /><span class="line">   00 no sharing</span><br /><span class="line">   01 time-multiplex sharing</span><br /><span class="line">   10 dynamic sharing</span><br /><span class="line">   11 reserved</span><br /><span class="line"> 3-2   DMA request signal</span><br /><span class="line">   00 reserved</span><br /><span class="line">   01 DMARQ uses pin SPKR#</span><br /><span class="line">   10 DMARQ uses pin IOIS16#</span><br /><span class="line">   11 DMARQ uses pin INPACK#</span><br /><span class="line"> 4 DMA size</span><br /><span class="line">   0 eight bits</span><br /><span class="line">   1 sixteen bits</span><br /><span class="line"> 7-5   reserved (0)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0628,#0632,#0633</span><br /><span class="line"></span><br /><span class="line">Format of Card Services Tuple information:</span><br /><span class="line">Offset Size    Description (Table 0635)</span><br /><span class="line"> 00h   WORD    logical socket number</span><br /><span class="line"> 02h   WORD    attributes</span><br /><span class="line">       bit 0: return Link tuples</span><br /><span class="line"> 04h   BYTE    code value of desired tuple</span><br /><span class="line"> 05h   BYTE    reserved (0)</span><br /><span class="line"> 06h   WORD    (ret) TupleFlags</span><br /><span class="line"> 08h   DWORD   (ret) -&gt; Card Services Link State Information</span><br /><span class="line"> 0Ch   DWORD   (ret) -&gt; Card Services CIS State Information</span><br /><span class="line"> 10h   BYTE    (ret) code for tuple</span><br /><span class="line"> 11h   BYTE    (ret) link value for tuple</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0636</span><br /><span class="line"></span><br /><span class="line">Format of Card Services GetTupleData record:</span><br /><span class="line">Offset Size    Description (Table 0636)</span><br /><span class="line"> 00h   WORD    logical socket</span><br /><span class="line"> 02h   WORD    attributes</span><br /><span class="line"> 04h   BYTE    code value of desired tuple</span><br /><span class="line"> 05h   BYTE    offset into tuple from link byte</span><br /><span class="line"> 06h   WORD    flags</span><br /><span class="line"> 08h   DWORD   -&gt; Link</span><br /><span class="line"> 0Ch   DWORD   -&gt; CIS</span><br /><span class="line"> 10h   WORD    (call) maximum amount of data to return (0004h)</span><br /><span class="line"> 12h   WORD    (ret) amount of data returned</span><br /><span class="line"> 14h   DWORD   (ret) tuple data</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">See Also:</span> #0635</span><br /><span class="line"></span><br /><span class="line">Format of Card Services Client Registration record:</span><br /><span class="line">Offset Size    Description (Table 0637)</span><br /><span class="line"> 00h   WORD    attributes</span><br /><span class="line"> 02h   WORD    event mask</span><br /><span class="line"> 04h   WORD    client data (passed to client event handler in DI)</span><br /><span class="line">--- 16-bit code ---</span><br /><span class="line"> 06h   WORD    client data selector (passed to event handler in DS)</span><br /><span class="line"> 08h   WORD    client data offset (passed to event handler in SI)</span><br /><span class="line"> 0Ah   WORD    reserved</span><br /><span class="line">--- 32-bit code ---</span><br /><span class="line"> 06h   WORD    reserved</span><br /><span class="line"> 08h   DWORD   client data offset (passed to event handler in ESI)</span><br /></pre>
  
  
  


      </article>

    </section>

    
      <footer>
        <nav class="box">
          <dl>
            <dt>Generated</dt><dd>2025-12-02 09:10:33</dd>
            <dt>Generator</dt><dd><a href="https://ng2web.davep.dev">ng2web v1.2.0 (ngdb v1.1.0)</a></dd>
          </dl>
        </nav>
      </footer>
    

  </body>

</html>

