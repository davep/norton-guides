





<!DOCTYPE html>
<html>

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.2.0 (ngdb v1.1.0)">
    <link rel="stylesheet" type="text/css" href="dpmiv1-style.css">
    <title>DPMI v1 Norton Guide » DPMI » Functions</title>
    <meta name="description" content="DPMI v1 Norton Guide">
    <link rel="prev" href="dpmiv1-57000.html">
    <link rel="next" href="dpmiv1-62329.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="../index.html">Guides</a></li>


          

<li><a href="dpmiv1-about.html">About</a></li>


          

<li><a href="dpmiv1-57000.html">Previous</a></li>


          

<li><a href="index.html">Up</a></li>


          

<li><a href="dpmiv1-62329.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <section>

      
        <nav class="menu box">
          <ul>
              <li>DPMI</li>
              <ul>
                <li><a href="index.html">Functions</a></li>
                <li><a href="dpmiv1-126452.html">Errors</a></li>
                
              </ul>
          </ul>
        </nav>
      

      <article class="box">
        
  
  
    <pre class="entry"><span class="line"></span><br /><span class="line">Get DPMI Capabilities</span><br /><span class="line"></span><br /><span class="line">Returns information about the capabilities of the DPMI host,</span><br /><span class="line">including its support or lack of support for optional</span><br /><span class="line">features in the DPMI Specification.  Clients can use this</span><br /><span class="line">information to optimize their use of system resources in the</span><br /><span class="line">current environment.</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Call With:</span></span><br /><span class="line"></span><br /><span class="line">   AX     = 0401H</span><br /><span class="line">   ES:(E)DI= selector:offset of 128-byte buffer</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Returns:</span></span><br /><span class="line"></span><br /><span class="line">   if function successful</span><br /><span class="line">   Carry flag= clear (this function always succeeds in DPMI</span><br /><span class="line">           1.0)</span><br /><span class="line">   AX     = capabilities flags</span><br /><span class="line"></span><br /><span class="line">           Bits   Significance</span><br /><span class="line">           0      0 = PAGED ACCESSED/DIRTY capability not</span><br /><span class="line">           supported</span><br /><span class="line">                  1 = PAGED ACCESSED/DIRTY capability</span><br /><span class="line">           supported</span><br /><span class="line">           1      0 = EXCEPTIONS RESTARTABILITY capability</span><br /><span class="line">           not supported</span><br /><span class="line">                  1 = EXCEPTIONS RESTARTABILITY capability</span><br /><span class="line">           supported</span><br /><span class="line">           2      0 = DEVICE MAPPING capability not</span><br /><span class="line">           supported</span><br /><span class="line">                  1 = DEVICE MAPPING capability supported</span><br /><span class="line">           3      0 = CONVENTIONAL MEMORY MAPPING</span><br /><span class="line">                     capability not supported</span><br /><span class="line">                  1 = CONVENTIONAL MEMORY MAPPING</span><br /><span class="line">           capability supported</span><br /><span class="line">           4      0 = DEMAND ZERO-FILL capability not</span><br /><span class="line">           supported</span><br /><span class="line">                  1 = DEMAND ZERO-FILL capability supported</span><br /><span class="line">           5      0 = WRITE-PROTECT CLIENT capability not</span><br /><span class="line">           supported</span><br /><span class="line">                  1 = WRITE-PROTECT CLIENT capability</span><br /><span class="line">           supported</span><br /><span class="line">           6      0 = WRITE-PROTECT HOST capability not</span><br /><span class="line">           supported</span><br /><span class="line">                  1 = WRITE-PROTECT HOST capability</span><br /><span class="line">           supported</span><br /><span class="line">           7-15   reserved</span><br /><span class="line">   CX     = reserved, must be 0</span><br /><span class="line">   DX     = reserved, must be 0</span><br /><span class="line">   ES:(E)DI = selector:offset of 128-byte buffer filled in</span><br /><span class="line">           by host with information as follows:</span><br /><span class="line"></span><br /><span class="line">           Offset   Length   Contents</span><br /><span class="line">           0        1        Host major version number as a</span><br /><span class="line">           decimal number</span><br /><span class="line">           1        1        Host minor version number as a</span><br /><span class="line">           decimal number</span><br /><span class="line">           2        1-126    ASCIIZ (null-terminated) string</span><br /><span class="line">                             identifying the DPMI host</span><br /><span class="line">                             vendor</span><br /><span class="line"></span><br /><span class="line">   if function unsuccessful</span><br /><span class="line">   Carry flag= set (this function always fails in DPMI 0.9)</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Notes:</span></span><br /><span class="line"></span><br /><span class="line">o  PAGE ACCESSED/DIRTY capability means the DPMI host</span><br /><span class="line">   maintains page dirty and accessed bits that can be read</span><br /><span class="line">   and written with the Get and Set Page Attributes</span><br /><span class="line">   functions (Int 31H Functions 0506H and 0507H).  This</span><br /><span class="line">   capability must be supported, and must read and write the</span><br /><span class="line">   hardware-level dirty and accessed bits, if the DPMI host</span><br /><span class="line">   does not provide demand-paged virtual memory.  If the</span><br /><span class="line">   DPMI host does support virtual memory, this capability is</span><br /><span class="line">   optional, and if present gives the client the ability to</span><br /><span class="line">   read and write virtual page dirty and accessed bits</span><br /><span class="line">   maintained by the host.</span><br /><span class="line">o  EXCEPTION RESTARTABILITY capability means that a faulting</span><br /><span class="line">   instruction inside the host kernel can always be</span><br /><span class="line">   restarted if the client&#39;s exception handler corrects the</span><br /><span class="line">   reason for the exception and returns.  Exception</span><br /><span class="line">   restartability allows a client to provide virtual memory</span><br /><span class="line">   under a DPMI host without virtual memory, or to support</span><br /><span class="line">   memory-mapped files under any DPMI host.</span><br /><span class="line">o  DEVICE MAPPING capability means that the DPMI host</span><br /><span class="line">   supports the optional Map Device function (Int 31H</span><br /><span class="line">   Function 0508H).</span><br /><span class="line">o  CONVENTIONAL MEMORY MAPPING capability means that the</span><br /><span class="line">   DPMI host supports the optional Map Conventional Memory</span><br /><span class="line">   function (Int 31H Fn 0509H).</span><br /><span class="line">o  DEMAND ZERO-FILL capability means the DPMI host</span><br /><span class="line">   guarantees that all committed pages are initialized to</span><br /><span class="line">   zero when they are created.  If this capability is not</span><br /><span class="line">   supported, the contents of newly committed pages are</span><br /><span class="line">   undefined.</span><br /><span class="line"></span><br /><span class="line">o    WRITE-PROTECT CLIENT capability means the DPMI host</span><br /><span class="line">   guarantees that the client is running at a privilege</span><br /><span class="line">   level such that write protection of pages is effective</span><br /><span class="line">   for the client&#39;s accesses and will geneate page faults.</span><br /><span class="line"></span><br /><span class="line">o  WRITE-PROTECT HOST capability means the DPMI host</span><br /><span class="line">   guarantees that the host has configured the system such</span><br /><span class="line">   that write protection of pages is effective for the</span><br /><span class="line">   host&#39;s accesses and will generate page faults.</span><br /><span class="line"></span><br /><span class="line">o  The host major and minor version numbers are OEM-specific</span><br /><span class="line">   and are not the DPMI version numbers.</span><br /></pre>
  
  
  


      </article>

    </section>

    
      <footer>
        <nav class="box">
          <dl>
            <dt>Generated</dt><dd>2025-12-02 09:10:24</dd>
            <dt>Generator</dt><dd><a href="https://ng2web.davep.dev">ng2web v1.2.0 (ngdb v1.1.0)</a></dd>
          </dl>
        </nav>
      </footer>
    

  </body>

</html>

