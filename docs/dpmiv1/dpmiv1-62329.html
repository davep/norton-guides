





<!DOCTYPE html>
<html>

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.1.0 (ngdb v1.1.0)">
    <link rel="stylesheet" type="text/css" href="dpmiv1-style.css">
    <title>DPMI v1 Norton Guide » DPMI » Functions</title>
    <meta name="description" content="DPMI v1 Norton Guide">
    <link rel="prev" href="dpmiv1-58533.html">
    <link rel="next" href="dpmiv1-65269.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="../index.html">Guides</a></li>


          

<li><a href="dpmiv1-about.html">About</a></li>


          

<li><a href="dpmiv1-58533.html">Previous</a></li>


          

<li><a href="index.html">Up</a></li>


          

<li><a href="dpmiv1-65269.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <section>

      <nav class="menu box">
        <ul>
            <li>DPMI</li>
            <ul>
              <li><a href="index.html">Functions</a></li>
              <li><a href="dpmiv1-126452.html">Errors</a></li>
              
            </ul>
        </ul>
      </nav>

      <article class="box">
        
  
  
    <pre class="entry"><span class="line"></span><br /><span class="line">Get Free Memory Information</span><br /><span class="line"></span><br /><span class="line">Returns information about the amount of available physical</span><br /><span class="line">memory, linear address space, and disk space for page</span><br /><span class="line">swapping.  Since DPMI clients will often run in multitasking</span><br /><span class="line">environments, the information returned by this function</span><br /><span class="line">should only be considered as advisory.  DPMI 1.0 clients</span><br /><span class="line">should avoid use of this function (see the last note of the</span><br /><span class="line">call).</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Call With:</span></span><br /><span class="line"></span><br /><span class="line">   AX     = 0500H</span><br /><span class="line">   ES:(E)DI= selector:offset of 48-byte buffer</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Returns:</span></span><br /><span class="line"></span><br /><span class="line">   Carry flag= clear (this function always succeeds)</span><br /><span class="line"></span><br /><span class="line">   and the buffer is filled in with the following</span><br /><span class="line">           information:</span><br /><span class="line"></span><br /><span class="line">   Offset Length  Contents</span><br /><span class="line">   00H    4       Largest available free block in bytes</span><br /><span class="line">   04H    4       Maximum unlocked page allocation in pages</span><br /><span class="line">   08H    4       Maximum locked page allocation in pages</span><br /><span class="line">   0CH    4       Linear address space size in pages</span><br /><span class="line">   10H    4       Total number of unlocked pages</span><br /><span class="line">   14H    4       Total number of free pages</span><br /><span class="line">   18H    4       Total number of physical pages</span><br /><span class="line">   1CH    4       Free linear address space in pages</span><br /><span class="line">   20H    4       Size of paging file/partition in pages</span><br /><span class="line">   24H    0CH     Reserved, all bytes set to 0FFH</span><br /><span class="line"></span><br /><span class="line"><span class="ngb">Notes:</span></span><br /><span class="line"></span><br /><span class="line">o  32-bit programs must use ES:EDI to point to the buffer.</span><br /><span class="line">   16-bit programs should use ES:DI.</span><br /><span class="line">o  Only the first field of the returned structure is</span><br /><span class="line">   guaranteed to contain a valid value.  Any fields that are</span><br /><span class="line">   not supported by the DPMI host will be set by the host to</span><br /><span class="line">   -1 (0FFFFFFFFH) to indicate that the information is not</span><br /><span class="line">   available.</span><br /><span class="line">o  The field at buffer offset 00H specifies the largest</span><br /><span class="line">   block of contiguous linear memory in bytes that could be</span><br /><span class="line">   allocated if the memory were to be allocated and left</span><br /><span class="line">   unlocked.</span><br /><span class="line">o  The field at buffer offset 04H specifies the largest</span><br /><span class="line">   number of pages that could be allocated (the value at</span><br /><span class="line">   offset 00H divided by the page size).</span><br /><span class="line">o  The field at buffer offset 08H specifies the largest</span><br /><span class="line">   block of memory in pages that could be allocated and then</span><br /><span class="line">   locked.</span><br /><span class="line">o  The field at buffer offset 0CH specifies the size of the</span><br /><span class="line">   total linear address space in pages.  This value includes</span><br /><span class="line">   all linear address space that has already been allocated.</span><br /><span class="line">o  The field at buffer offset 10H specifies the total number</span><br /><span class="line">   of pages that are currently un</span><br /><span class="line">locked and could be paged out.  This value also contains any free</span><br /><span class="line">   pages.</span><br /><span class="line">o  The field at buffer offset 14H specifies the number of</span><br /><span class="line">   physical pages that currently are not in use.</span><br /><span class="line">o  The field at offset 18H specifies the total number of</span><br /><span class="line">   physical pages that the DPMI host manages.  This value</span><br /><span class="line">   includes all free, locked, and unlocked physical pages.</span><br /><span class="line">o  The field at offset 20H specifies the size of the DPMI</span><br /><span class="line">   host&#39;s paging partition or file in pages.</span><br /><span class="line">o  The size of the pages used by the DPMI host can be</span><br /><span class="line">   obtained with the Get Page Size function (Int 31H</span><br /><span class="line">   Function 0604H).</span><br /><span class="line">o  DPMI 1.0 clients should use Int 31H Fn 050BH in</span><br /><span class="line">   preference to this function.  This function is supported</span><br /><span class="line">   in DPMI 1.0 solely for backward compatibility with DPMI</span><br /><span class="line">   0.9.</span><br /></pre>
  
  
  


      </article>

    </section>

  </body>

</html>

