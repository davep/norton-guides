





<!DOCTYPE html>
<html>

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.1.0 (ngdb v1.1.0)">
    <link rel="stylesheet" type="text/css" href="nanfor-style.css">
    <title>Nanforum Toolkit v3.05 Reference Guide » G-Z » Menus/Prompts</title>
    <meta name="description" content="Nanforum Toolkit v3.05 Reference Guide">
    <link rel="prev" href="nanfor-201076.html">
    <link rel="next" href="nanfor-207243.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="nanfor-about.html">About</a></li>


          

<li><a href="nanfor-201076.html">Previous</a></li>


          

<li><a href="nanfor-186992.html">Up</a></li>


          

<li><a href="nanfor-207243.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <section>

      <nav class="menu box">
        <ul>
            <li>A-F</li>
            <ul>
              <li><a href="index.html">Array</a></li>
              <li><a href="nanfor-16449.html">Conversion</a></li>
              <li><a href="nanfor-30306.html">DOS/BIOS</a></li>
              <li><a href="nanfor-59070.html">Date/Time</a></li>
              <li><a href="nanfor-102173.html">Environment</a></li>
              <li><a href="nanfor-109763.html">Event</a></li>
              <li><a href="nanfor-113206.html">File I/O</a></li>
              
            </ul>
            <li>G-Z</li>
            <ul>
              <li><a href="nanfor-137249.html">Game</a></li>
              <li><a href="nanfor-137802.html">Keyboard/Mouse</a></li>
              <li><a href="nanfor-181545.html">Math</a></li>
              <li><a href="nanfor-186992.html">Menus/Prompts</a></li>
              <li><a href="nanfor-223163.html">NetWare</a></li>
              <li><a href="nanfor-237863.html">String</a></li>
              <li><a href="nanfor-260934.html">Video</a></li>
              
            </ul>
            <li>Information</li>
            <ul>
              <li><a href="nanfor-285956.html">Overview</a></li>
              <li><a href="nanfor-314363.html">Sample source code headers</a></li>
              <li><a href="nanfor-321056.html">Using CPMI</a></li>
              
            </ul>
        </ul>
      </nav>

      <article class="box">
        
  
  
    <pre class="entry"><span class="line"> <span class="ngb">FT_MENU1()</span></span><br /><span class="line"> Pulldown menu system</span><br /><span class="line">──────────────────────────────────────────────────────────────────────────────</span><br /><span class="line"></span><br /><span class="line"> <span class="ngb">Syntax</span></span><br /><span class="line"></span><br /><span class="line">     <span class="fg15 bg1"> FT_MENU1( &lt;acBarNames&gt;, &lt;acOptions&gt;, &lt;acAction&gt;,</span></span><br /><span class="line">               <span class="fg15 bg1"> &lt;acColors&gt; [, &lt;nTopRow&gt; ], [ &lt;lShadow&gt; ] ) -&gt; NIL</span></span><br /><span class="line"></span><br /><span class="line"> <span class="ngb">Arguments</span></span><br /><span class="line"></span><br /><span class="line">     <span class="ngb">&lt;acBarNames&gt;</span> is a character array containing the names to appear</span><br /><span class="line">     on the menu bar.</span><br /><span class="line"></span><br /><span class="line">     <span class="ngb">&lt;acOptions&gt;</span> is a multi-dimensional array with one element for each</span><br /><span class="line">     selection to appear on the pulldown menus.</span><br /><span class="line"></span><br /><span class="line">     <span class="ngb">&lt;acColors&gt;</span> is an array containing the colors for the menu groups.</span><br /><span class="line"></span><br /><span class="line">     <span class="ngb">&lt;nTopRow&gt;</span> is a numeric value that determines the row for the menu</span><br /><span class="line">     bar.  If omitted, it defaults to 0.</span><br /><span class="line"></span><br /><span class="line">     <span class="ngb">&lt;lShadow&gt;</span> is a logical variable.  If true (.T.) or omitted, it</span><br /><span class="line">     uses FT_SHADOW() to add a transparent shadow to the each</span><br /><span class="line">     pulldown menu.  If false (.F.), the menu is drawn without</span><br /><span class="line">     the shadow.</span><br /><span class="line"></span><br /><span class="line">     All arguments except nTopRow and lShadow are required.</span><br /><span class="line"></span><br /><span class="line"> <span class="ngb">Returns</span></span><br /><span class="line"></span><br /><span class="line">     NIL</span><br /><span class="line"></span><br /><span class="line"> <span class="ngb">Description</span></span><br /><span class="line"></span><br /><span class="line">     FT_MENU1() is a function that displays a pulldown menu for each item</span><br /><span class="line">     on the menu bar and executes the corresponding function for the item</span><br /><span class="line">     selected.  When a called function returns false, FT_MENU1 returns</span><br /><span class="line">     control to the calling program.</span><br /><span class="line"></span><br /><span class="line">     Valid keystrokes and their corresponding actions:</span><br /><span class="line"></span><br /><span class="line">     Home             -  Activates Pulldown for first item on the menu bar</span><br /><span class="line">     End              -  Activates Pulldown for last item on the menu bar</span><br /><span class="line">     Left Arrow       -  Activates next Pulldown to the left</span><br /><span class="line">     Right Arrow      -  Activates next Pulldown to the right</span><br /><span class="line">     Tab              -  Same as Right Arrow</span><br /><span class="line">     Shift-Tab        -  Same as Left Arrow</span><br /><span class="line">     Page Up          -  Top item on current Pulldown menu</span><br /><span class="line">     Page Down        -  Bottom item on current Pulldown menu</span><br /><span class="line">     Enter            -  Selects current item</span><br /><span class="line">     Alpha Character  -  Moves to closest match and selects</span><br /><span class="line">     Alt-&lt;Key&gt;        -  Moves to corresponding menu bar item</span><br /><span class="line">     Escape           -  Prompts for confirmation and either returns to</span><br /><span class="line">                         the calling routine or resumes</span><br /><span class="line"></span><br /><span class="line"> <span class="ngb">Examples</span></span><br /><span class="line"></span><br /><span class="line">     // Declare arrays</span><br /><span class="line">     LOCAL aColors  := {}</span><br /><span class="line">     LOCAL aBar     := { &#34; ENTER/EDIT &#34;, &#34; REPORTS &#34;, &#34; DISPLAY &#34; }</span><br /><span class="line"></span><br /><span class="line">     // Include the following two lines of code in your program, as is.</span><br /><span class="line">     // The first creates aOptions with the same length as aBar.  The</span><br /><span class="line">     // second assigns a three-element array to each element of aOptions.</span><br /><span class="line">     LOCAL aOptions[ LEN( aBar ) ]</span><br /><span class="line">     AEVAL( aBar, { |x,i| aOptions[i] := { {},{},{} } } )</span><br /><span class="line"></span><br /><span class="line">     // fill color array</span><br /><span class="line">     // Box Border, Menu Options, Menu Bar, Current Selection, Unselected</span><br /><span class="line">     aColors := IF( lColor, {&#34;W+/G&#34;, &#34;N/G&#34;, &#34;N/G&#34;, &#34;N/W&#34;, &#34;N+/G&#34;}, ;</span><br /><span class="line">                            {&#34;W+/N&#34;, &#34;W+/N&#34;, &#34;W/N&#34;, &#34;N/W&#34;,&#34;W/N&#34;} )</span><br /><span class="line"></span><br /><span class="line">  // array for first pulldown menu</span><br /><span class="line">  FT_FILL( aOptions[1], &#39;A. Execute A Dummy Procedure&#39; , {|| fubar()}, .t. )</span><br /><span class="line">  FT_FILL( aOptions[1], &#39;B. Enter Daily Charges&#39;       , {|| .t.},     .f. )</span><br /><span class="line">  FT_FILL( aOptions[1], &#39;C. Enter Payments On Accounts&#39;, {|| .t.},     .t. )</span><br /><span class="line"></span><br /><span class="line">  // array for second pulldown menu</span><br /><span class="line">  FT_FILL( aOptions[2], &#39;A. Print Member List&#39;         , {|| .t.},     .t. )</span><br /><span class="line">  FT_FILL( aOptions[2], &#39;B. Print Active Auto Charges&#39; , {|| .t.},     .t. )</span><br /><span class="line"></span><br /><span class="line">  // array for third pulldown menu</span><br /><span class="line">  FT_FILL( aOptions[3], &#39;A. Transaction Totals Display&#39;, {|| .t.},     .t. )</span><br /><span class="line">  FT_FILL( aOptions[3], &#39;B. Display Invoice Totals&#39;    , {|| .t.},     .t. )</span><br /><span class="line">  FT_FILL( aOptions[3], &#39;C. Exit To DOS&#39;               , {|| .f.},     .t. )</span><br /><span class="line"></span><br /><span class="line">     Call FT_FILL() once for each item on each pulldown menu, passing it</span><br /><span class="line">     three parameters:</span><br /><span class="line"></span><br /><span class="line">        FT_FILL( &lt;cMenuSelection&gt;, &lt;bCodeBlock&gt;, &lt;lSelectable&gt;</span><br /><span class="line"></span><br /><span class="line">     &lt;cMenuSelection&gt; is a character string which will be displayed on</span><br /><span class="line">      the pulldown menu.</span><br /><span class="line"></span><br /><span class="line">     &lt;bCodeBlock&gt; should contain one of the following:</span><br /><span class="line"></span><br /><span class="line">        A function name to execute, which in turn should return .T. or .F.</span><br /><span class="line">        FT_MENU1 WILL RETURN CONTROL TO THE CALLING PROGRAM IF .F. IS</span><br /><span class="line">        RETURNED OR CONTINUE IF .T. IS RETURNED.</span><br /><span class="line"></span><br /><span class="line">        .F. WHICH WILL CAUSE FT_MENU1 TO RETURN CONTROL TO THE CALLING</span><br /><span class="line">        PROGRAM.</span><br /><span class="line"></span><br /><span class="line">        .T. WHICH WILL DO NOTHING.  THIS ALLOWS THE DEVELOPER TO DESIGN A</span><br /><span class="line">        SKELETON MENU STRUCTURE PRIOR TO COMPLETING ALL OF THE SUBROUTINES.</span><br /><span class="line"></span><br /><span class="line">     // CALL FT_MENU1</span><br /><span class="line">     FT_MENU1( aBar, aOptions, aColors, 0 )</span><br /><span class="line"></span><br /><span class="line">     NOTE: FT_MENU1() disables Alt-C and Alt-D in order to make them</span><br /><span class="line">           available for the menu bar.  It enables Alt-D and resets</span><br /><span class="line">           Alt-C to its previous state prior to calling each function.</span><br /><span class="line"></span><br /><span class="line"> <span class="ngb">Source:</span> MENU1.PRG</span><br /><span class="line"></span><br /><span class="line"> <span class="ngb">Author:</span> Paul Ferrara</span><br /></pre>
  
  
  
    <nav class="seeAlso">
      <ul>
        <li>See Also:</li>
        
          <li><a href="nanfor-201076.html">FT_FILL()</a></li>
        
      </ul>
    </nav>
  


      </article>

    </section>

  </body>

</html>

