





<!DOCTYPE html>
<html lang="en">

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.5.1 (ngdb v1.2.0)">
    <link rel="stylesheet" type="text/css" href="perl-style.css">
    <title>PERL 4.0 Reference Guide » PERL » Languages</title>
    <meta name="description" content="PERL 4.0 Reference Guide">
    <link rel="prev" href="perl-143784.html">
    <link rel="next" href="perl-159375.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="../index.html">Guides</a></li>


          

<li><a href="perl-about.html">About</a></li>


          

<li><a href="perl-143784.html">Previous</a></li>


          

<li><a href="perl-90961.html">Up</a></li>


          

<li><a href="perl-159375.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <div id="body">

      
        <nav class="menu box">
          <ul>
              <li>PERL</li>
              <li>
                <ul>
                  <li><a href="index.html">Commands</a></li>
                  <li><a href="perl-90961.html">Languages</a></li>
                  <li><a href="perl-159711.html">Command line options</a></li>
                  <li><a href="perl-170094.html">Regular Expressions</a></li>
                  <li><a href="perl-171332.html">Special Variables</a></li>
                  <li><a href="perl-188582.html">Operators</a></li>
                  <li><a href="perl-197905.html">Debugging</a></li>
                  
                </ul>
              </li>
              <li>Tables</li>
              <li>
                <ul>
                  <li><a href="perl-204383.html">ASCII Chart</a></li>
                  <li><a href="perl-207014.html">Literals</a></li>
                  <li><a href="perl-207867.html">Credits</a></li>
                  
                </ul>
              </li>
          </ul>
        </nav>
      

      <div id="entry" class="box">
        
  
  
    <pre class="entry"><span class="line"></span><br><span class="line">     MS-DOS CONSIDERATIONS</span><br><span class="line"></span><br><span class="line">     This section describes the MS-DOS version of  perl.   MS-DOS</span><br><span class="line">     perl  has  been  tested with MS-DOS versions 3.2, 3.3, 4.01,</span><br><span class="line">     and 5.0, and should work with 2.0 or  higher.   640  K-bytes</span><br><span class="line">     are needed to get anything done.  MS-DOS 5.0 running in high</span><br><span class="line">     memory is recommended.</span><br><span class="line"></span><br><span class="line">     Command-Line Arguments in MS-DOS</span><br><span class="line"></span><br><span class="line">     MS-DOS perl recognizes the MKS calling conventions.  The MKS</span><br><span class="line">     Korn  shell  will expand the command-line wildcards and pass</span><br><span class="line">     perl arguments in a manner similar to Unix.   Large  numbers</span><br><span class="line">     of  arguments can be passed this way, and -e commands can be</span><br><span class="line">     enclosed in single quotes just as in Unix.  This works  even</span><br><span class="line">     if  $MKSARGS  (see  the section on the environment below) is</span><br><span class="line">     not set, but not if MKS support is compiled out.</span><br><span class="line"></span><br><span class="line">     When invoked from a non-MKS tool with MKS  tooling  present,</span><br><span class="line">     perl will use the MKS glob program (see $GLOB in the section</span><br><span class="line">     on the MS-DOS environment, below) to expand the wildcards.</span><br><span class="line"></span><br><span class="line">     When run on a system that doesn&#39;t have MKS tools, perl  will</span><br><span class="line">     attempt  to  expand  wildcards it sees in the argument list.</span><br><span class="line">     It is not possible to handle -e arguments  properly  due  to</span><br><span class="line">     limitations in the standard MS-DOS calling conventions.</span><br><span class="line"></span><br><span class="line">     Unix and MKS do globbing  differently  than  MS-DOS.   Under</span><br><span class="line">     Unix  and MKS, &#34;abc*&#34; matches abc.c,  Under DOS, though, the</span><br><span class="line">     * won&#39;t match &#34;.&#34;  The MKS tools use the former  interpreta-</span><br><span class="line">     tion; the perlglob.exe program distributed with perl and the</span><br><span class="line">     globbing built  in  to  perl.exe  use  the  latter.   (Don&#39;t</span><br><span class="line">     install  the  distributed  perlglob.exe if you are using the</span><br><span class="line">     MKS tools.)</span><br><span class="line"></span><br><span class="line">     File names in MS-DOS</span><br><span class="line"></span><br><span class="line">     Perl scripts should use forward slashes to delimit path name</span><br><span class="line">     components. (C programmers should note that most MS-DOS com-</span><br><span class="line">     pilers support this,  too.)   MS-DOS  perl  will  work  with</span><br><span class="line">     backslashes,  but  they  make code unnecessarily messy since</span><br><span class="line">     they must be escaped any time they might be  interpreted  to</span><br><span class="line">     mean  an  escape  sequence.  Subprograms may or may not like</span><br><span class="line">     forward slashes: most programs compiled from C  source  like</span><br><span class="line">     them  fine, but command.com won&#39;t take them.  Slashes can be</span><br><span class="line">     reversed before invoking a subprocess using the perl substu-</span><br><span class="line">     tion features.  Inside perl, the following are equivalent:</span><br><span class="line"></span><br><span class="line">     &#34;c:/new/report&#34;</span><br><span class="line">     &#34;c:\\new\\report&#34;</span><br><span class="line"></span><br><span class="line">     Drive prefixes are optional.  If omitted, the file is sought</span><br><span class="line">     on the current drive.</span><br><span class="line"></span><br><span class="line">     Globbing &lt;&gt; Expressions on MS-DOS</span><br><span class="line"></span><br><span class="line">     Expressions like &lt;*.c&gt; are expanded by a subshell  in  Unix.</span><br><span class="line">     On  MS-DOS  there  are two cases.  If $MKSARGS is defined in</span><br><span class="line">     the environment and MKS support is compiled in,  the  $SHELL</span><br><span class="line">     is  used,  running echo piped to tr as with the Bourne shell</span><br><span class="line">     on Unix perl.  Otherwise, the supplied perlglob.exe  program</span><br><span class="line">     is  run.   This  program  simply  takes the supplied command</span><br><span class="line">     line, DOS-globs it, and writes the  result,  null-separated,</span><br><span class="line">     to the perl process via a &#34;pipe.&#34;</span><br><span class="line"></span><br><span class="line">     The MS-DOS Environment</span><br><span class="line"></span><br><span class="line">     MS-DOS perl uses a number of environment variables not  used</span><br><span class="line">     by  Unix perl.  This is because the MS-DOS version is widely</span><br><span class="line">     distributed in executable form.  (Not everyone who wishes to</span><br><span class="line">     use perl on MS-DOS has the tools to build it from the source</span><br><span class="line">     code.)  Directory and file names in the environment  can  be</span><br><span class="line">     delimited  with  forward or back slashes.  Environment vari-</span><br><span class="line">     ables are interpreted when  they  are  needed.   (Exception:</span><br><span class="line">     creation of $TMP from $TMPDIR is done at startup.)  Thus the</span><br><span class="line">     perl script can change them.  For example, if a huge  &#34;pipe&#34;</span><br><span class="line">     file  is  to  be  created, and there&#39;s room on the hard disk</span><br><span class="line">     (c:) but not the usual $TMP, which is a RAM disk, one  could</span><br><span class="line">     write:</span><br><span class="line"></span><br><span class="line">     ENV{&#39;TMP&#39;} = &#34;c:/tmp&#34;;</span><br><span class="line">     open (HANDLE, &#34;program|&#34;);</span><br><span class="line"></span><br><span class="line">     The state of the environment passed to  perl.exe  determines</span><br><span class="line">     argument parsing, though, since this is done before compila-</span><br><span class="line">     tion and interpretation of the perl script.</span><br><span class="line"></span><br><span class="line">     PATH        This is the semicolon-separated path list.   The</span><br><span class="line">                 current   directory   is   search  first  unless</span><br><span class="line">                 $MKSARGS is defined and MKS support is  compiled</span><br><span class="line">                 in,  in  which  case  the  current  directory is</span><br><span class="line">                 searched only in response to an explicit &#34;.&#34;  or</span><br><span class="line">                 null path component.</span><br><span class="line"></span><br><span class="line">     MKSARGS     Set to 1 enable all MKSisms.  The MKS tools  can</span><br><span class="line">                 assume  that the other pieces of the toolkit are</span><br><span class="line">                 lying around, but perl.exe can&#39;t.   (It  may  be</span><br><span class="line">                 the  only  MKS-compatible  program on a system.)</span><br><span class="line">                 If have have the MKS tools, you should set  this</span><br><span class="line">                 variable.   Perl will recognize and generate MKS</span><br><span class="line">                 compatible arguments in any  case,  but  without</span><br><span class="line">                 the  switch  will default SLASHC to &#34;-c&#34; instead</span><br><span class="line">                 of &#34;-ce&#34;, will fail to run MKS  glob,  and  will</span><br><span class="line">                 run  perl&#39;s  glob  instead  of the Korn shell to</span><br><span class="line">                 expand expressions like &lt;*.c&gt;.  (Note  that  MKS</span><br><span class="line">                 support can be compiled out.)</span><br><span class="line"></span><br><span class="line">     ROOTDIR     Full  drive  and  path  where  MKS  toolkit   is</span><br><span class="line">                 installed.   Example,  &#34;c:/mks&#34; or &#34;d:/&#34;.  Typi-</span><br><span class="line">                 cally is already set in MKS  environment.   Used</span><br><span class="line">                 only  if  $MKSARGS is set and $GLOB is not.  See</span><br><span class="line">                 $GLOB.  Ignored if MKS support compiled out.</span><br><span class="line"></span><br><span class="line">     TMP         First  choice   for   temporary   files,   e.g.,</span><br><span class="line">                 &#34;h:\\tmp&#34;.    If  not  set,  uses  $TMPDIR  (see</span><br><span class="line">                 below), if that&#39;s not set, the current directory</span><br><span class="line">                 is   used.    Swapping  also  goes  here  unless</span><br><span class="line">                 $EXESWAP  is  defined.   Temporary   files   are</span><br><span class="line">                 pseudo-pipes, the swap file, and the -e file.</span><br><span class="line"></span><br><span class="line">     TMPDIR      If $TMPDIR is set and $TMP is not, the following</span><br><span class="line">                 is done internally:</span><br><span class="line"></span><br><span class="line">                 ( $ENV{&#39;TMP&#39;} = $ENV{&#39;TMPDIR&#39;} ) =~ s,/,\\,g;</span><br><span class="line"></span><br><span class="line">                 (Backslashes are reversed as a gesture to decen-</span><br><span class="line">                 dents   of   the  perl  process.)   Creation  of</span><br><span class="line">                 $ENV{&#39;TMP&#39;} from $TMPDIR  is  done  at  perl.exe</span><br><span class="line">                 startup.  Note that the MKS tools use $TMPDIR as</span><br><span class="line">                 a first choice; as a  gesture  of  compatibility</span><br><span class="line">                 for non-MKS users, here, it is a second choice.</span><br><span class="line"></span><br><span class="line">     EXESWAP     First choice for swap out file location.  A  RAM</span><br><span class="line">                 disk  is  a  nice  choice.  $TMP is used if this</span><br><span class="line">                 isn&#39;t set.  (See also $TMPDIR).  The  swap  file</span><br><span class="line">                 created  the  first time swapping is invoked and</span><br><span class="line">                 is left open until perl exits or does  an  exec.</span><br><span class="line">                 Set to &#34;.off&#34; (note illegal DOS name) to inhibit</span><br><span class="line">                 swapping--useful for  speedy  running  of  small</span><br><span class="line">                 subprocesses.</span><br><span class="line">                  This feature (inhibition) can be turned on  and</span><br><span class="line">                 off.   The  following  example  runs  &#34;ls&#34; using</span><br><span class="line">                 &#34;e:/tmp&#34; as the directory for the swap file.  It</span><br><span class="line">                 then   runs   &#34;who,&#34;   with  swapping  disabled.</span><br><span class="line">                 Finally, it runs &#34;ps&#34; with swapping  re-enabled.</span><br><span class="line">                 Note  that  $ENV{&#39;EXESWAP&#39;}  is set to &#39;yes&#39; but</span><br><span class="line">                 anything other than &#39;.off&#39; would have sufficed.</span><br><span class="line"></span><br><span class="line">                 $ENV{&#39;EXESWAP&#39;} = &#39;e:/tmp&#39;;</span><br><span class="line">                 system &#34;ls&#34;;</span><br><span class="line">                 $ENV{&#39;EXESWAP&#39;} = &#39;.off&#39;;</span><br><span class="line">                 system &#34;who&#34;;</span><br><span class="line">                 $ENV{&#39;EXESWAP&#39;} = &#39;yes&#39;;</span><br><span class="line">                 system &#34;ps&#34;;</span><br><span class="line"></span><br><span class="line">     GLOB        First choice  for  MKS  globbing  program:  full</span><br><span class="line">                 path,    name,    and    extension.     Example:</span><br><span class="line">                 &#34;d:/mks/etc/glob.exe&#34;.  The perl  globbing  pro-</span><br><span class="line">                 gram  (used  for  &lt;*.c&gt;  expansion) is found, as</span><br><span class="line">                 before, via the $PATH.   Used  only  in  an  MKS</span><br><span class="line">                 environment, and then only when perl is run from</span><br><span class="line">                 a non-MKS program.  Ignored if MKS support  com-</span><br><span class="line">                 piled out.</span><br><span class="line"></span><br><span class="line">     SHELL       Full path name and extension of the  shell  used</span><br><span class="line">                 used for subprocesses when wildcard expansion is</span><br><span class="line">                 required, e.g., &#34;c:/mks/bin/sh.exe&#34;.   If  unde-</span><br><span class="line">                 fined,  COMSPEC  is used.  Presumably this could</span><br><span class="line">                 be the MKS korn shell, but  it  can  be  another</span><br><span class="line">                 shell  (e.g., 4DOS) and thus $SHELL is inspected</span><br><span class="line">                 even if MKS support is compiled out.</span><br><span class="line"></span><br><span class="line">     COMSPEC     Full path name of DOS command interpreter, e.g.,</span><br><span class="line">                 &#34;c:\\command.com&#34;  Used  only  if  $SHELL is not</span><br><span class="line">                 defined.  If not found, &#34;\\command.com&#34; is used.</span><br><span class="line">                 (It is bad practice to allow $COMSPEC to default</span><br><span class="line">                 or to have it have anything other  than  a  full</span><br><span class="line">                 drive  and  path name.  You don&#39;t want your pro-</span><br><span class="line">                 grams  looking  for  command.com  on   alternate</span><br><span class="line">                 drives.)</span><br><span class="line"></span><br><span class="line">     METACHAR    List of characters that  are  metacharacters  to</span><br><span class="line">                 the  $SHELL  or $COMPSPEC.  Used to determine if</span><br><span class="line">                 command can be run directly  or  if  a  subshell</span><br><span class="line">                 must be invoked.  If undefined, \|&lt;&gt; is used for</span><br><span class="line">                 COMSPEC and *&#34;?&lt;&gt;][`&#39;\ for SHELL.</span><br><span class="line"></span><br><span class="line">     SLASHC      The  shell  option  for  invoking   a   command.</span><br><span class="line">                 Defaults:   /c  for $COMSPEC, MS-DOS version 4.x</span><br><span class="line">                 or better [sic]; sc, where s is the switch char-</span><br><span class="line">                 acter,  for  $COMSPEC, DOS &lt; 4.0; -ce for $SHELL</span><br><span class="line">                 if $MKSARGS is set and MKS support  is  compiled</span><br><span class="line">                 in.  (The -e needed to get the MKS Korn shell to</span><br><span class="line">                 return the status properly).  The default is  -c</span><br><span class="line">                 for other $SHELLs.  (This is a guess.)</span><br><span class="line"></span><br><span class="line">     PERLLIB     Directory(ies)    containing    perl    library.</span><br><span class="line">                 Defaults  to  /usr/local/lib/perl.   Directories</span><br><span class="line">                 are separated like $PATH:  semicolons in MS-DOS,</span><br><span class="line">                 colons  in  Unix.   For  the -P switch, only the</span><br><span class="line">                 first $PERLLIB directory  (or  the  default,  if</span><br><span class="line">                 there&#39;s no $PERLLIB) is tried.</span><br><span class="line"></span><br><span class="line">     Typical MKS setup (profile.ksh)</span><br><span class="line"></span><br><span class="line">     # If you&#39;re using the MKS stuff, you probably don&#39;t have</span><br><span class="line">     # to do anything other than set MKSARGS and PERLLIB.</span><br><span class="line"></span><br><span class="line">     export MKSARGS=1</span><br><span class="line">     # ROOTDIR set by init process or etc.rc or here.</span><br><span class="line">     export TMPDIR=e:/tmp</span><br><span class="line">     # EXESWAP left to default to $TMPDIR</span><br><span class="line">     # GLOB left to default to $ROOTDIR/etc/glob.exe</span><br><span class="line">     # SHELL set by init process or here.</span><br><span class="line">     # COMSPEC not used by perl.exe but probably defined for other uses.</span><br><span class="line">     # METACHAR not defined, left to default.</span><br><span class="line">     export PERLLIB=&#39;c:/lib/perl;d:/usr/me/myperlib&#39;</span><br><span class="line"></span><br><span class="line">     Typical non-MKS setup (autoexec.bat)</span><br><span class="line"></span><br><span class="line">     Rem You probably don&#39;t need to do anything except set $TMP,</span><br><span class="line">     Rem which you may be doing anyway.</span><br><span class="line"></span><br><span class="line">     Rem MKSARGS not set</span><br><span class="line">     Rem ROOTDIR not used</span><br><span class="line">     set TMP=d:mp</span><br><span class="line">     Rem EXESWAP left to default to $TMP</span><br><span class="line">     Rem GLOB not used</span><br><span class="line">     Rem SHELL not set</span><br><span class="line">     Rem COMPEC set by config.sys SHELL command or by MS-DOS startup.</span><br><span class="line">     Rem METACHAR not defined, left to default.</span><br><span class="line">     set PERLLIB=c:/lib/perl</span><br><span class="line"></span><br><span class="line">     Running Subprocesses on MS-DOS</span><br><span class="line"></span><br><span class="line">     Perl will by default swap itself out almost entirely when it</span><br><span class="line">     runs  a  subprocess other than MKS $GLOB.  (See the $EXESWAP</span><br><span class="line">     environment variable).  The swap file  is  opened  when  the</span><br><span class="line">     first subprocess is run and is left open until perl exits or</span><br><span class="line">     does an IR exec .  The command line to be run is scanned for</span><br><span class="line">     $METACHARacters  as described above.  If none are found, the</span><br><span class="line">     subcommand is invoked  directly.   If  metacharacter(s)  are</span><br><span class="line">     found, a $SHELL or $COMSPEC is invoked to run the command.</span><br><span class="line"></span><br><span class="line">     Use of a single | in a open() command does not constitute  a</span><br><span class="line">     metacharcter:   this  is a directive to perl to open a pipe.</span><br><span class="line">     The following, too, has no SHELL  metacharacters  since  the</span><br><span class="line">     subprocess is simply pwd:</span><br><span class="line"></span><br><span class="line">     chop($direct = `pwd`);</span><br><span class="line"></span><br><span class="line">     Beware of MS-DOS &#34;internal&#34; commands; i.e., those  that  are</span><br><span class="line">     built   into   command.com.   Examples  are  DIR  and  COPY.</span><br><span class="line">     COMMAND.COM users can use these directly if the command  has</span><br><span class="line">     $METACHARacters;   if  not,  you  must  invoke  an  explicit</span><br><span class="line">     command.com.  In the first example below, &#39;&gt;&#39; is a metachar-</span><br><span class="line">     acter.   In  the second example, there are no metacharacters</span><br><span class="line">     and so the internal &#34;ver&#34; command must be run with an expli-</span><br><span class="line">     clit $COMSPEC.</span><br><span class="line"></span><br><span class="line">          system &#34;dir &gt;my.fil&#34;;</span><br><span class="line">          system &#34;$ENV{&#39;COMSPEC&#39;} /c ver&#34;;</span><br><span class="line"></span><br><span class="line">     Users of $SHELLs other than COMMAND.COM must use the  second</span><br><span class="line">     format for anything to be passed to command.com.</span><br><span class="line"></span><br><span class="line">     Be aware that no wild card expansion is going to be done  by</span><br><span class="line">     command.com usless you&#39;re using one of the built-in commands</span><br><span class="line">     that does it (e.g., COPY).  You can use &lt;&gt; expansion to  get</span><br><span class="line">     around  this.  Even those who have fancy $SHELLs should take</span><br><span class="line">     note of this, since having perl run the $SHELL and then  the</span><br><span class="line">     command  uses less memory than if perl runs the $SHELL which</span><br><span class="line">     runs the command:</span><br><span class="line"></span><br><span class="line">          $files = &lt;*.c&gt;;</span><br><span class="line">          `the_com $files`;</span><br></pre>
  
  
  


      </div>

    </div>

    
      <footer>
        <nav class="box">
          <dl>
            <dt>Generated</dt><dd>2025-12-13 13:34:49</dd>
            <dt>Generator</dt><dd><a href="https://ng2web.davep.dev">ng2web v1.5.1 (ngdb v1.2.0)</a></dd>
          </dl>
        </nav>
      </footer>
    

  </body>

</html>

