





<!DOCTYPE html>
<html lang="en">

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.5.1 (ngdb v1.2.0)">
    <link rel="stylesheet" type="text/css" href="x86-style.css">
    <title>iAPx86 » CPU » Instruction set</title>
    <meta name="description" content="iAPx86">
    <link rel="prev" href="x86-32436.html">
    <link rel="next" href="x86-36087.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="../index.html">Guides</a></li>


          

<li><a href="x86-about.html">About</a></li>


          

<li><a href="x86-32436.html">Previous</a></li>


          

<li><a href="index.html">Up</a></li>


          

<li><a href="x86-36087.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <div id="body">

      
        <nav class="menu box">
          <ul>
              <li>CPU</li>
              <li>
                <ul>
                  <li><a href="index.html">Instruction set</a></li>
                  <li><a href="x86-175915.html">Registers</a></li>
                  <li><a href="x86-190707.html">Protection, privilege</a></li>
                  <li><a href="x86-224627.html">Exceptions</a></li>
                  <li><a href="x86-225699.html">Addressing modes</a></li>
                  <li><a href="x86-229455.html">Opcodes</a></li>
                  
                </ul>
              </li>
              <li>FPU</li>
              <li>
                <ul>
                  <li><a href="x86-245307.html">Instruction set</a></li>
                  <li><a href="x86-307843.html">Registers, data types</a></li>
                  
                </ul>
              </li>
              <li>MMX</li>
              <li>
                <ul>
                  <li><a href="x86-318646.html">Instruction set</a></li>
                  
                </ul>
              </li>
          </ul>
        </nav>
      

      <div id="entry" class="box">
        
  
  
    <pre class="entry"><span class="line"><span class="ngb">CMPS            Compare Strings                      Flags: O D I T S Z A P C</span></span><br><span class="line">                                                            * - - - * * * * *</span><br><span class="line"><span class="ngb">CMPS</span> source_string,destination_string</span><br><span class="line"></span><br><span class="line">        <span class="ngb">Logic</span>   CMP [DS:eSI],[ES:eDI]</span><br><span class="line">                if DF = 0</span><br><span class="line">                   eSI ← eSI + n        ; n = 1 for byte, 2 for word,</span><br><span class="line">                   eDI ← eDI + n        ;     4 for dword (386+)</span><br><span class="line">                else</span><br><span class="line">                   eSI ← eSI - n</span><br><span class="line">                   eDI ← eDI - n</span><br><span class="line">                endif</span><br><span class="line"></span><br><span class="line">    This instruction compares two values by subtracting the</span><br><span class="line">    destination string element pointed to by ES:eDI, from the source</span><br><span class="line">    string element pointed to by DS:eSI, and sets the flags according</span><br><span class="line">    to the results of the comparison. The operands themselves are not</span><br><span class="line">    altered. After the comparison, eSI and eDI are incremented (if the</span><br><span class="line">    direction flag is cleared) or decremented (if the direction flag</span><br><span class="line">    is set), in preparation for comparing the next element of the</span><br><span class="line">    string. If the address-size attribute of CMPS is 16, the SI and DI</span><br><span class="line">    registers will be used as source and destination indices,</span><br><span class="line">    otherwise ESI and EDI.</span><br><span class="line"></span><br><span class="line">    The source segment can be changed with a segment override, the</span><br><span class="line">    destination segment cannot.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="ngb">Note</span>:       This instruction is always translated by the</span><br><span class="line">                assembler into CMPSB, Compare String Byte, CMPSW,</span><br><span class="line">                Compare String Word, or CMPSD, Compare String Dword,</span><br><span class="line">                depending upon whether source refers to a string of</span><br><span class="line">                bytes, words or doublewords. In either case, you must</span><br><span class="line">                explicitly load the eSI and eDI registers with the</span><br><span class="line">                offset of the source and destination strings.</span><br><span class="line"></span><br><span class="line">                CMPSB, CMPSW, and CMPSD are synonyms for the byte,</span><br><span class="line">                word, and doubleword CMPS instructions that do not</span><br><span class="line">                require any operands. They are simpler to use but</span><br><span class="line">                provide no type or segment checking.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    If the REPE or REPNE prefix modifies this instruction, the CPU</span><br><span class="line">    compares the value of the destination string element to the value</span><br><span class="line">    of the source string element. It then steps eSI and eDI in the</span><br><span class="line">    direction indicated by DF by the indicated size, until either the</span><br><span class="line">    REPE/REPNE condition is false or eCX counts to zero.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="ngb">Opcode      Format</span></span><br><span class="line">    A6          CMPS m8,m8              ; = CMPSB</span><br><span class="line">    A7          CMPS m16,m16            ; = CMPSW</span><br><span class="line">    A7          CMPS m32,m32            ; = CMPSD</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="ngb">Length and timing</span></span><br><span class="line">    Variations  Bytes   8088    186     286     386     486     Pentium</span><br><span class="line">    cmpsb         1     30      22       8      10       8       5   NP</span><br><span class="line">    cmpsw         1     -       -        -      10       8       5   NP</span><br><span class="line">    cmpsd         1     -       -        -      10       8       5   NP</span><br><span class="line">    repX cmpsb    2     9+30n   5+22n   5+9n    5+9n    7+7n*   9+4n NP</span><br><span class="line">    repX cmpsw    2     9+30n   5+22n   5+9n    5+9n    7+7n*   9+4n NP</span><br><span class="line">    repX cmpsd    2      -       -       -      5+9n    7+7n*   9+4n NP</span><br><span class="line"></span><br><span class="line">    repX = repe, repz, repne, or repnz</span><br><span class="line">       * : 5 if n = 0</span><br></pre>
  
  
  
    <nav class="seeAlso">
      <ul>
        <li>See Also:</li>
        
          <li>
            
              <a href="x86-125491.html">REP</a>
            
          </li>
        
          <li>
            
              <a href="x86-26242.html">CLD</a>
            
          </li>
        
          <li>
            
              <a href="x86-154030.html">STD</a>
            
          </li>
        
          <li>
            
              <a href="x86-140141.html">SCAS</a>
            
          </li>
        
          <li>
            
              <a href="x86-32436.html">CMP</a>
            
          </li>
        
          <li>
            
              <a href="x86-179453.html">Flags</a>
            
          </li>
        
      </ul>
    </nav>
  


      </div>

    </div>

    
      <footer>
        <nav class="box">
          <dl>
            <dt>Generated</dt><dd>2025-12-13 13:35:14</dd>
            <dt>Generator</dt><dd><a href="https://ng2web.davep.dev">ng2web v1.5.1 (ngdb v1.2.0)</a></dd>
          </dl>
        </nav>
      </footer>
    

  </body>

</html>

