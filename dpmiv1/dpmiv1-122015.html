





<!DOCTYPE html>
<html lang="en">

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="generator" content="ng2web v1.5.1 (ngdb v1.2.0)">
    <link rel="stylesheet" type="text/css" href="dpmiv1-style.css">
    <title>DPMI v1 Norton Guide » DPMI » Functions</title>
    <meta name="description" content="DPMI v1 Norton Guide">
    <link rel="prev" href="dpmiv1-120579.html">
    <link rel="next" href="dpmiv1-124394.html">
    
  </head>

  <body>

    <header>
      <nav class="box">
        <ul>
          

<li><a href="../index.html">Guides</a></li>


          

<li><a href="dpmiv1-about.html">About</a></li>


          

<li><a href="dpmiv1-120579.html">Previous</a></li>


          

<li><a href="index.html">Up</a></li>


          

<li><a href="dpmiv1-124394.html">Next</a></li>


        </ul>
      </nav>
    </header>

    <div id="body">

      
        <nav class="menu box">
          <ul>
              <li>DPMI</li>
              <li>
                <ul>
                  <li><a href="index.html">Functions</a></li>
                  <li><a href="dpmiv1-126452.html">Errors</a></li>
                  
                </ul>
              </li>
          </ul>
        </nav>
      

      <div id="entry" class="box">
        
  
  
    <pre class="entry"><span class="line"></span><br><span class="line">Get Coprocessor Status</span><br><span class="line"></span><br><span class="line">Returns information about whether or not a numeric</span><br><span class="line">coprocessor exists, the type of coprocessor available (if</span><br><span class="line">any), and whether or not the host or client is providing</span><br><span class="line">coprocessor emulation.</span><br><span class="line"></span><br><span class="line"><span class="ngb">Call With:</span></span><br><span class="line"></span><br><span class="line">   AX     = 0E00H</span><br><span class="line"></span><br><span class="line"><span class="ngb">Returns:</span></span><br><span class="line"></span><br><span class="line">   if function successful</span><br><span class="line">   Carry flag= clear (this function always succeeds in DPMI</span><br><span class="line">           1.0)</span><br><span class="line">   AX     = coprocessor status</span><br><span class="line"></span><br><span class="line">           Bit    Significance</span><br><span class="line">           0      MPv (MP bit in the virtual MSW/CR0)</span><br><span class="line">                  0 = numeric coprocessor is disabled for</span><br><span class="line">           this client</span><br><span class="line">                  1 = numeric coprocessor is enabled for</span><br><span class="line">           this client</span><br><span class="line">           1      EMv (EM bit in the virtual MSW/CR0)</span><br><span class="line">                  0 = client is not emulating coprocessor</span><br><span class="line">           instructions</span><br><span class="line">                  1 = client is emulating coprocessor</span><br><span class="line">           instructions</span><br><span class="line">           2      MPr (MP bit from the actual MSW/CR0)</span><br><span class="line">                  0 = numeric coprocessor is not present</span><br><span class="line">                  1 = numeric coprocessor is present</span><br><span class="line">           3      EMr (EM bit from the actual MSW/CR0)</span><br><span class="line">                  0 = host is not emulating coprocessor</span><br><span class="line">           instructions</span><br><span class="line">                  1 = host is emulating coprocessor</span><br><span class="line">           instructions</span><br><span class="line">           4-7    coprocessor type</span><br><span class="line">                  00H = no coprocessor</span><br><span class="line">                  02H = 80287</span><br><span class="line">                  03H = 80387</span><br><span class="line">                  04H = 80486 with numeric coprocessor</span><br><span class="line">                          05H-0FH  reserved for future</span><br><span class="line">           numeric processors</span><br><span class="line">           8-15   not applicable</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   if function unsuccessful</span><br><span class="line">   Carry flag= set (this function always fails in DPMI 0.9)</span><br><span class="line"></span><br><span class="line"><span class="ngb">Notes:</span></span><br><span class="line"></span><br><span class="line">o  If the real EM (EMr) bit is set, the host is supplying or</span><br><span class="line">   is capable of supplying floating point emulation.</span><br><span class="line">o  If the MPv bit is not set, the host may not need to save</span><br><span class="line">   the coprocessor state for this virtual machine to improve</span><br><span class="line">   system performance.</span><br><span class="line">o  MPr bit setting should be consistent with the setting of</span><br><span class="line">   coprocessor type information. Ignore MPr bit information</span><br><span class="line">   if it is in conflict with the coprocessor type</span><br><span class="line">   information.</span><br><span class="line">o  If the virtual EM (EMv) bit i</span><br><span class="line">s set, the host delivers all coprocessor exceptions to the client, and</span><br><span class="line">   the client is performing its own floating point emulation</span><br><span class="line">   (whether or not a coprocessor is present or the host also</span><br><span class="line">   has a floating point emulator).  In other words, if the</span><br><span class="line">   EMv bit is set, the host sets the EM bit in the real CR0</span><br><span class="line">   while the virtual machine is active, and reflects</span><br><span class="line">   coprocessor not present faults (Int 7) to the virtual</span><br><span class="line">   machine.</span><br><span class="line">o  A client can determine the CPU type with Int 31H Function</span><br><span class="line">   0400H, but a client should not draw any conclusions about</span><br><span class="line">   the presence or absence of a coprocessor based on the CPU</span><br><span class="line">   type alone.</span><br></pre>
  
  
  


      </div>

    </div>

    
      <footer>
        <nav class="box">
          <dl>
            <dt>Generated</dt><dd>2025-12-13 13:34:40</dd>
            <dt>Generator</dt><dd><a href="https://ng2web.davep.dev">ng2web v1.5.1 (ngdb v1.2.0)</a></dd>
          </dl>
        </nav>
      </footer>
    

  </body>

</html>

